let instance=0,CSScreated=!1,theme={background:"transparent",hover:"#4b4681",itemBackground:"#1d1b31",itemColor:"white",buttonBackground:"lightblue",buttonHover:"lightgreen",checkboxSt:"transparent",checkboxOn:"lightgreen",checkboxOff:"lightcoral",rangeBackground:"lightblue",rangeLabel:"white",chartColor:"lightblue"};function createCSS(){if(CSScreated)return;const e=`\n  :root { --rounded: 0.1rem; }\n  .menu { position: absolute; top: 0rem; right: 0; min-width: 180px; width: max-content; padding: 0.2rem 0.8rem 0 0.8rem; line-height: 1.8rem; z-index: 10; background: ${theme.background}; border: none }\n  .button { text-shadow: none; }\n\n  .menu-container { display: block; max-height: 100vh; left: 250px; top: -0.9rem; position: absolute; background-color: #11101d; transform: translate(10px, 0px); }\n  .menu-container-fadeout { max-height: 0; overflow: hidden; transition: max-height, 0.5s ease; }\n  .menu-container-fadein { max-height: 85vh; top: 1rem; overflow: hidden; transition: max-height, 0.5s ease; overflow-y: scroll; }\n  .menu-container-fadein::-webkit-scrollbar-thumb { background-color: #626262; border-radius: 10px; color: ${theme.itemColor};}\n  .menu-container-fadein::-webkit-scrollbar-track { box-shadow: none; }\n  .menu-item { display: flex; white-space: nowrap; padding: 0.2rem; cursor: default; width: 100%; }\n  .menu-item:hover { background: ${theme.hover} }\n  .menu-title { cursor: pointer; }\n  .menu-hr { margin: 0.2rem; border: 1px solid rgba(0, 0, 0, 0.5) }\n  .menu-label { padding: 0; font-weight: 800; }\n\n  .menu-list { margin-right: 0.8rem; }\n  select:focus { outline: none; }\n  .menu-list-item { background: ${theme.itemBackground}; color: ${theme.itemColor}; border: none; padding: 0.2rem; font-family: inherit;\n    font-variant: inherit; border-radius: var(--rounded); font-weight: 800; }\n\n  .menu-chart-title { padding: 0; font-size: 0.8rem; font-weight: 800; align-items: center}\n  .menu-chart-canvas { background: transparent; margin: 0.2rem 0 0.2rem 0.6rem; }\n  \n  .menu-button { border: 0; background: ${theme.buttonBackground}; width: -webkit-fill-available; padding: 8px; margin: 8px; cursor: pointer;\n    border-radius: var(--rounded); justify-content: center; font-family: inherit; font-variant: inherit; font-size: 1rem; font-weight: 800; }\n  .menu-button:hover { background: ${theme.buttonHover}; box-shadow: 4px 4px 4px 0 black; }\n  .menu-button:focus { outline: none; }\n\n  .menu-checkbox { width: 2.6rem; height: 1rem; background: ${theme.itemBackground}; margin: 0.5rem 1.0rem 0 0; position: relative; border-radius: var(--rounded); }\n  .menu-checkbox:after { content: 'OFF'; color: ${theme.checkboxOff}; position: absolute; right: 0.2rem; top: -0.4rem; font-weight: 800; font-size: 0.5rem; }\n  .menu-checkbox:before { content: 'ON'; color: ${theme.checkboxOn}; position: absolute; left: 0.3rem; top: -0.4rem; font-weight: 800; font-size: 0.5rem; }\n  .menu-checkbox-label { width: 1.3rem; height: 1rem; cursor: pointer; position: absolute; top: 0; right: 0rem; z-index: 1; background: ${theme.checkboxSt}; border: 1px solid ${theme.checkboxOff};\n    border-radius: var(--rounded); transition: right 0.6s ease; }\n\n  input[type=checkbox] { visibility: hidden; }\n  input[type=checkbox]:checked + label { left: 0; background: ${theme.checkboxSt}; border: 1px solid ${theme.checkboxOn} }\n\n  .menu-range { margin: 0.2rem 1.0rem 0 0; width: 5rem; background: transparent; color: ${theme.rangeBackground}; }\n  .menu-range:before { color: ${theme.rangeLabel}; margin: 0 0.4rem 0 0; font-weight: 800; font-size: 0.9rem; position: relative; top: 0.1rem; content: attr(value); }\n\n\n  recis-input-cont::-webkit-slider-runnable-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-track::-webkit-slider-runnable-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-track::-moz-range-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-tumb::-webkit-slider-thumb { border: 1px solid #000000; margin-top: 0; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: pointer; -webkit-appearance: none; }\n  recis-input-slider-tumb::-moz-range-thumb { border: 1px solid #000000; margin-top: 0rem; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: pointer; -webkit-appearance: none; }\n\n  input[type=range] { -webkit-appearance: none; }\n  recis-input-slider-container input[type=range]::-webkit-slider-runnable-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-container input[type=range]::-moz-range-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-track input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-track input[type=range]::-moz-range-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-thumb input[type=range]::-webkit-slider-thumb { border: 1px solid #000000; margin-top: 0; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: pointer; -webkit-appearance: none; }\n  recis-input-slider-thumb input[type=range]::-moz-range-thumb { border: 1px solid #000000; margin-top: 0rem; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: pointer; -webkit-appearance: none; }\n\n  input[type=range]::-webkit-slider-runnable-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  input[type=range]::-moz-range-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  input[type=range]::-moz-range-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  input[type=range]::-webkit-slider-thumb { border: 1px solid #000000; margin-top: 0; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: grab; -webkit-appearance: none; }\n  input[type=range]:hover::-webkit-slider-runnable-tumb { width: 100%; height: 1rem; cursor: grabbing; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  input[type=range]::-moz-range-thumb { border: 1px solid #000000; margin-top: 0rem; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: grab; -webkit-appearance: none; }\n  input[type=range]:hover::-moz-range-thumb { border: 1px solid #000000; margin-top: 0rem; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: grabbing; -webkit-appearance: none; }\n\n  input[type=file]::-webkit-file-upload-button { -webkit-appearance: button; cursor: pointer; font: inherit; background-color: #11101d; color: white; border-radius: 25px; border: 3px solid #f0f6fc; }\n\n  recis-input-slider-container[type=range]::-webkit-slider-runnable-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-container[type=range]::-moz-range-container { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-track[type=range]::-webkit-slider-runnable-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-track[type=range]::-moz-range-track { width: 100%; height: 1rem; cursor: pointer; background: ${theme.itemBackground}; border-radius: var(--rounded); border: 1px; }\n  recis-input-slider-thumb[type=range]::-webkit-slider-thumb { border: 1px solid #000000; margin-top: 0; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: pointer; -webkit-appearance: none; }\n  recis-input-slider-thumb[type=range]::-moz-range-thumb { border: 1px solid #000000; margin-top: 0rem; height: 1rem; width: 0.6rem; border-radius: var(--rounded); background: ${theme.rangeBackground}; cursor: pointer; -webkit-appearance: none; }\n\n  .svg-background { fill:#303030; cursor:pointer; opacity: 0.6; }\n  .svg-foreground { fill:white; cursor:pointer; opacity: 0.8; }\n  `,t=document.createElement("style");t.innerHTML=e;const n=document.createElement("link"),r=document.createElement("link"),i=document.createElement("link"),a=document.createElement("link"),o=document.createElement("link"),d=document.createElement("link"),c=document.createElement("link"),s=document.createElement("link"),m=document.createElement("link"),u=(document.createElement("link"),document.createElement("link")),h=document.createElement("link"),l=document.createElement("link"),g=document.createElement("script"),p=document.createElement("script"),b=document.createElement("script"),k=document.createElement("script"),w=document.createElement("script"),y=document.createElement("script"),v=document.createElement("script"),A=document.createElement("script");r.setAttribute("rel","stylesheet"),r.setAttribute("href","//g4lihru.me/ai/recis/css/styles.css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href","https://g4lihru.me/meet/dist/tailwind.css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href","https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),o.setAttribute("rel","stylesheet"),o.setAttribute("href","https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css"),c.setAttribute("rel","stylesheet"),c.setAttribute("href","https://fonts.googleapis.com/css?family=Open+Sans:700&display=swap"),s.setAttribute("rel","stylesheet"),s.setAttribute("href","https://fonts.googleapis.com/css?family=Open+Sans:600&display=swap"),m.setAttribute("rel","stylesheet"),m.setAttribute("href","https://fonts.googleapis.com/css?family=Open+Sans&display=swap"),d.setAttribute("rel","stylesheet"),d.setAttribute("href","https://g4lihru.me/ai/recis/icons.css"),n.setAttribute("rel","manifest"),n.setAttribute("href","manifest.json"),g.setAttribute("rel","canonical"),g.setAttribute("src","https://g4lihru.me/ai/recis/recisside.js"),p.setAttribute("rel","canonical"),p.setAttribute("href","https://g4lihru.me/script.js"),b.setAttribute("rel","canonical"),b.setAttribute("src","https://g4lihru.me/ai/recis/recisgro.js"),k.setAttribute("rel","canonical"),k.setAttribute("src","https://g4lihru.me/ai/recis/js/rbs.js"),w.setAttribute("rel","canonical"),w.setAttribute("src","https://g4lihru.me/ai/recis/js/ntfs.js"),y.setAttribute("rel","canonical"),y.setAttribute("src","https://g4lihru.me/ai/recis/js/plnt.js"),v.setAttribute("rel","canonical"),v.setAttribute("src","https://g4lihru.me/ai/recis/js/srf.js"),A.setAttribute("rel","canonical"),A.setAttribute("src","https://g4lihru.me/ai/recis/js/mdl.js"),u.setAttribute("rel","shortcut icon"),u.setAttribute("href","https://g4lihru.me/987654567.png"),u.setAttribute("type","image/x-icon"),h.setAttribute("rel","apple-touch-icon"),h.setAttribute("href","https://g4lihru.me/987654567.png"),l.setAttribute("rel","icon"),l.setAttribute("href","data:image/webp;base64,UklGRoYCAABXRUJQVlA4WAoAAAAQAAAALgAALQAAQUxQSOcAAAARgCsAkGFn3gt6t2af8nWxuvyAU/EDbD+zj/kDLN3btp1Mld2ZCeqImABovLrUP+mvTAoE6l6kfVptDCMyEyHigTOSpIcO8SiDoosDzysIulkQ66VhoZaF6zlZx86FiBo+aTYBYWq9AvLVvAJ6pe2o2QSgWpc0szSXNIc0uzTnL2eW1v2/MEtzSbNL65FWL61AmumL70st/IRvTw2G+CY18t7YyjT8trg+gjWgnOsctOeYtvRy33mm9KCMZbuQADoYtvuAtOaL5utkqhCITfMUKynAGNR8q/PoDgbeiOrx9+/ets2xQAoAVlA4IHgBAABwCgCdASovAC4APoE2lUelIyIhKqqooBAJbACdM74Cz65yTH6dFueK9GHQgeqb6Eo9GOnaqj64TUcN6pXzio/DteC622PFDJKqwD91IEQdmP08sEts5f2LkSBcgAD+4l4mb/BBtFWccjhXR972/H6/4N9GD1MH4/4N9h0/+0/Yrb9pZ/rZkkP5HPVv/5DG+dLBTwkzUNNMRofU5TAL2059bMK6WfOjj2Tn9LC3+u7T2vBZAM2zfwsyxNIgznqejcpRH3rl/gXpDncT/n9rV3v9WxoCx1jauBkca5/2G+pQoHg/VhzfogV9ZOFIFKi9JV9pX1rbMxKbUr/LdjAMn1fUuZTgctSqETEsYjmcSXx4uqbRAMtDXWLaD1wfbK2ZE4lDXxQRCVE87WqzKF3Af5LPkj450RUZeJBh1fZYT5pNDiAw3pLE9v7SAdRqxMugqbsfEzr8iz50uHnQBv3NoXKqvtLwbSO91igvYtGRCDDGvoZj0VHx+7AA"),document.getElementsByTagName("head")[0].appendChild(t),document.getElementsByTagName("head")[0].appendChild(r),document.getElementsByTagName("head")[0].appendChild(i),document.getElementsByTagName("head")[0].appendChild(a),document.getElementsByTagName("head")[0].appendChild(o),document.getElementsByTagName("head")[0].appendChild(n),document.getElementsByTagName("head")[0].appendChild(u),document.getElementsByTagName("head")[0].appendChild(h),document.getElementsByTagName("head")[0].appendChild(l),document.getElementsByTagName("head")[0].appendChild(g),document.getElementsByTagName("head")[0].appendChild(p),document.getElementsByTagName("head")[0].appendChild(b),document.getElementsByTagName("head")[0].appendChild(d),document.getElementsByTagName("head")[0].appendChild(c),document.getElementsByTagName("head")[0].appendChild(s),document.getElementsByTagName("head")[0].appendChild(m),document.getElementsByTagName("head")[0].appendChild(k),document.getElementsByTagName("head")[0].appendChild(b),document.getElementsByTagName("head")[0].appendChild(A),document.getElementsByTagName("head")[0].appendChild(w),document.getElementsByTagName("head")[0].appendChild(y),document.getElementsByTagName("head")[0].appendChild(v),CSScreated=!0}class Menu{constructor(e,t,n,r){r&&(theme={...theme,...r}),createCSS(),this.createMenu(e,t,n),this.id=0,this.instance=instance,instance++,this._maxFPS=0,this.hidden=!1}createMenu(e,t="",n={top:null,left:null,bottom:null,right:null}){this.menu=document.createElement("recis-menu"),this.menu.id=`menu-${instance}`,this.menu.className="menu",n&&(n.top&&(this.menu.style.top=`${n.top}`),n.bottom&&(this.menu.style.bottom=`${n.bottom}`),n.left&&(this.menu.style.left=`${n.left}`),n.right&&(this.menu.style.right=`${n.right}`)),this.container=document.createElement("recis-menu-contain"),this.container.id=`menu-container-${instance}`,this.container.className="menu-container menu-container-fadein";const r=document.createElement("recis-menu-title");r.className="menu-title",r.id=`menu-title-${instance}`;t&&(r.innerHTML=`${t}<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" style="width: 2rem; height: 2rem; vertical-align: top;">\n        <path d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h352a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48zm-51.37 182.31L232.06 348.16a10.38 10.38 0 0 1-16.12 0L99.37 214.31C92.17 206 97.28 192 107.43 192h233.14c10.15 0 15.26 14 8.06 22.31z" class="svg-background"/>\n        <path d="M348.63 214.31L232.06 348.16a10.38 10.38 0 0 1-16.12 0L99.37 214.31C92.17 206 97.28 192 107.43 192h233.14c10.15 0 15.26 14 8.06 22.31z" class="svg-foreground"/>\n      </svg>`),this.menu.appendChild(r),r.addEventListener("click",(()=>{this.container&&this.menu&&(this.container.classList.toggle("menu-container-fadeout"),this.container.classList.toggle("menu-container-fadein"))})),this.menu.appendChild(this.container),"object"==typeof e?e.appendChild(this.menu):document.getElementById(e).appendChild(this.menu)}get newID(){return this.id++,`menu-${this.instance}-${this.id}`}get ID(){return`menu-${this.instance}-${this.id}`}get width(){return this.menu?this.menu.offsetWidth:0}get height(){return this.menu?this.menu.offsetHeight:0}hide(){this.container&&this.container.classList.contains("menu-container-fadein")&&(this.container.classList.toggle("menu-container-fadeout"),this.container.classList.toggle("menu-container-fadein"))}visible(){return!!this.container&&this.container.classList.contains("menu-container-fadein")}toggle(e){this.container&&this.menu&&(this.container.classList.toggle("menu-container-fadeout"),this.container.classList.toggle("menu-container-fadein"))}addTitle(e){const t=document.createElement("recis-menu-title");return t.className="menu-title",t.id=this.newID,t.innerHTML=e,this.menu&&this.menu.appendChild(t),t.addEventListener("click",(()=>{this.hidden=!this.hidden;const e=document.getElementsByClassName("menu");for(const t of e)t.style.display=this.hidden?"none":"block"})),t}addLabel(e){const t=document.createElement("recis-menu-item");return t.className="menu-item menu-label",t.id=this.newID,t.innerHTML=e,this.container&&this.container.appendChild(t),t}addBool(e,t,n,r){const i=document.createElement("recis-menu-item");return i.className="menu-item",i.innerHTML=`<recis-menu-check class="menu-checkbox"><input class="menu-checkbox" type="checkbox" id="${this.newID}" ${t[n]?"checked":""}/><label class="menu-checkbox-label" for="${this.ID}" title="Status"></label></recis-menu-check>${e}`,this.container&&this.container.appendChild(i),i.addEventListener("change",(e=>{e.target&&(t[n]=e.target.checked,r&&r(e.target.checked))})),i}async addList(e,t,n,r){const i=document.createElement("recis-menu-item");i.className="menu-item";let a="";for(const e of t){a+=`<option value="${e}" ${e===n?"selected":""}>${e}</option>`}return i.innerHTML=`<div class="menu-list"><select name="${this.ID}" title="${e}" class="menu-list-item">${a}</select><label for="${this.ID}" title="Status"></label></div>${e}`,i.style.fontFamily=document.body.style.fontFamily,i.style.fontSize=document.body.style.fontSize,i.style.fontVariant=document.body.style.fontVariant,this.container&&this.container.appendChild(i),i.addEventListener("change",(e=>{r&&e.target&&r(t[e.target.selectedIndex])})),i}addRange(e,t,n,r,i,a,o){const d=document.createElement("recis-menu-item");return d.className="menu-item",d.innerHTML=`<input class="menu-range" type="range" title="${e}" id="${this.newID}" min="${r}" max="${i}" step="${a}" value="${t[n]}">${e}`,this.container&&this.container.appendChild(d),d.addEventListener("change",(e=>{e.target&&(t[n]=parseInt(e.target.value)===parseFloat(e.target.value)?parseInt(e.target.value):parseFloat(e.target.value),e.target.setAttribute("value",e.target.value),o&&o(e.target.value))})),d.input=d.children[0],d}addHTML(e){const t=document.createElement("recis-menu-item");return t.className="menu-item",t.id=this.newID,e&&(t.innerHTML=e),this.container&&this.container.appendChild(t),t}addButton(e,t,n){const r=document.createElement("button");return r.className="menu-item menu-button",r.style.fontFamily=document.body.style.fontFamily,r.style.fontSize=document.body.style.fontSize,r.style.fontVariant=document.body.style.fontVariant,r.type="button",r.id=this.newID,r.innerText=e,this.container&&this.container.appendChild(r),r.addEventListener("click",(()=>{r.innerText===e?r.innerText=t:r.innerText=e,n&&n(r.innerText!==e)})),r}addValue(e,t,n=""){const r=document.createElement("recis-menu-item");return r.className="menu-item",r.id=`menu-val-${e}`,r.innerText=`${e}: ${t}${n}`,this.container&&this.container.appendChild(r),r}updateValue(e,t,n=""){const r=document.getElementById(`menu-val-${e}`);r?r.innerText=`${e}: ${t}${n}`:this.addValue(e,t)}addChart(e,t,n=150,r=40,i){i&&(theme.chartColor=i);const a=document.createElement("recis-menu-item");return a.className="menu-item menu-chart-title",a.id=this.newID,a.innerHTML=`<font color=${theme.chartColor}>${e}</font><canvas id="menu-canvas-${t}" class="menu-chart-canvas" width="${n}px" height="${r}px"></canvas>`,this.container&&this.container.appendChild(a),a}async updateChart(e,t){if(!t||0===t.length)return;const n=document.getElementById(`menu-canvas-${e}`);if(!n)return;const r=n.getContext("2d");if(!r)return;r.fillStyle=theme.background,r.fillRect(0,0,n.width,n.height);const i=n.width/t.length,a=1+Math.max(...t),o=n.height/a;for(let e=0;e<t.length;e++){const d=r.createLinearGradient(0,(a-t[e])*o,0,0);d.addColorStop(.1,theme.chartColor),d.addColorStop(.4,theme.background),r.fillStyle=d,r.fillRect(e*i,0,i-4,n.height),r.fillStyle=theme.background,r.font=i/1.5+'px "Segoe UI"',r.fillText(Math.round(t[e]).toString(),e*i+1,n.height-1,i-1)}}}export default Menu;
