var JEELIZVTO=function(){var e={fh:!0,ep:!1,fp:!1,Pk:!1,eh:!1,cp:!1,Ia:!1,Xm:!1,vd:!1,Mp:!1,aa:"",Dm:"",ik:700,hk:200,gh:!1,ro:!1,so:!1,qo:!1,Qj:3,Hb:!1,Rg:!0,Db:"images/backgrounds/interior2.jpg",oc:"images/backgrounds/interior_light.jpg",kk:[256,256,512,512],nc:2.1,pc:8,jk:[64,128,256,256],bm:[60,96,160,250],am:[8,12,18,40],Ec:2.2,Tf:1,ve:300,Vg:500,we:50,wk:0,xk:0,To:45,Vo:1,Uo:1e3,Wg:20,Ho:10,Io:10,Jo:5,Qm:.1,xi:20,Ai:100,Bi:100,Pm:-Math.PI/3,Om:Math.PI/3,zi:0,nj:0,fd:[40,32,16,16],Oj:[0,.87,.92,.9],Lm:2,Hm:100,ca:!1,Rj:16,Sj:.4,Uj:[.72,.73,.72,.74],dk:1.2,ak:[.5,.5,.5,1],fk:140,ek:280,gk:1.2,Vj:20,Wj:40,ck:[6,9,9,12],$j:[.03,.02,.02,.018],Zj:[.35,.35,.4,.5],Xj:[.2,.2,.2,.2],Tj:[.1,.15,.15,.15],bk:[200,200,150,120],Yj:[1,2,3,5],Wn:1.1,eq:[.25,.5,1,2],fq:256,cq:256,bq:200,Xn:[40,80,200,500],Yn:[35,45,80,120],Jk:!0,Kk:"CCW"};function t(e,t){return e[0]*(1-t)+e[1]*t}function a(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.withCredentials=!1,a.onreadystatechange=function(){4!==a.readyState||200!==a.status&&0!==a.status||t(a.responseText)},a.send()}function n(e,t){if(0===t||"object"!=typeof e)return e;for(var a in t=void 0===t||-1===t?-1:t-1,e=Object.assign({},e))e[a]=n(e[a],t);return e}function u(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}var i={};function r(e,t){var a=t%8;return e[(t-a)/8]>>7-a&1}function o(e,t,a){var n=1,u=0;for(a=t+a-1;a>=t;--a)u+=n*r(e,a),n*=2;return u}function c(e){e=e.data;for(var t=(e="undefined"==typeof btoa?Buffer.from(e,"base64").toString("latin1"):atob(e)).length,a=new Uint8Array(t),n=0;n<t;++n)a[n]=e.charCodeAt(n);return a}function v(e){return"string"==typeof e?JSON.parse(e):e}function l(e){var t=v(e);if(0===(e=t.nb))return new Uint8Array(t.nb);var a=t.n;t=c(t);for(var n=new Uint32Array(a),u=0;u<a;++u)n[u]=o(t,u*e,e);return n}function s(e){var t=v(e);e=t.ne;var a=t.nf,n=t.n;t=c(t);for(var u=new Float32Array(n),i=new Float32Array(a),l=e+a+1,s=0;s<n;++s){var f=l*s,m=0===r(t,f)?1:-1,h=o(t,f+1,e);f=f+1+e;for(var g=i.length,d=0,b=f;b<f+g;++b)i[d]=r(t,b),++d;for(g=f=0;g<a;++g)f+=i[g]*Math.pow(2,-g-1);u[s]=0===f&&0===h?0:m*(1+f)*Math.pow(2,1+h-Math.pow(2,e-1))}return u}var f,m,h,g,d,b,x,p=function(){function e(e,t,a){return t=e.createShader(t),e.shaderSource(t,a),e.compileShader(t),e.getShaderParameter(t,e.COMPILE_STATUS)?t:null}function t(t,a){if(a.Z=!!a.Z,!a.Z){a.s=a.s||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5);}",a.I=a.I||["a0"],a.P=a.P||[2],a.precision=a.precision||v,a.id=o++,void 0!==a.Pi&&(a.Pi.forEach((function(e,t){a.g=a.g.replace(e,a.Ca[t])})),a.Pi.splice(0)),a.Jg=0,a.P.forEach((function(e){a.Jg+=4*e}));var n=function(e){return["float","sampler2D","int"].map((function(t){return"precision "+e+" "+t+";\n"})).join("")}(a.precision);if(a.ma=function(t,a,n){a=e(t,t.VERTEX_SHADER,a),n=e(t,t.FRAGMENT_SHADER,n),t===y&&u.push(a,n);var i=t.createProgram();return t.attachShader(i,a),t.attachShader(i,n),t.linkProgram(i),i}(t,n+a.s,n+a.g),a.A={},a.i.forEach((function(e){a.A[e]=t.getUniformLocation(a.ma,e)})),a.attributes={},a.ua=[],a.I.forEach((function(e){var n=t.getAttribLocation(a.ma,e);a.attributes[e]=n,a.ua.push(n)})),a.u)for(var c in t.useProgram(a.ma),r=a,i=a.id,a.u)t.uniform1i(a.A[c],a.u[c]);a.Ga=!0}}function a(e,a,n){return t(e,a),e.useProgram(a.ma),e.enableVertexAttribArray(a.attributes.a0),i=-1,r=a}var u=[],i=-1,r=null,o=0,c=!1,v="highp",l=["u1"],s=["u0"],f={u1:0},m={u0:0},h={u1:0,u2:1},g={u1:0,u3:1},d=["u1","u3","u4"],b={u5:0},x={s0:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],u:{u1:0}},s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:l,u:f,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],u:h},s3:{g:"uniform sampler2D u1;uniform vec2 u6,u7;varying vec2 vv0;void main(){vec2 a=vv0*u6+u7;gl_FragColor=texture2D(u1,a);}",i:["u1","u6","u7"],u:f,Z:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:l,u:f},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],u:h},s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:l,u:f},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:l,u:f},s8:{g:"uniform sampler2D u0;uniform float u6;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u6;}",i:["u0","u6"],u:m},s9:{g:"uniform sampler2D u0;uniform float u6;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u6,f);gl_FragColor=b*g;}",i:["u0","u6"],u:m},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:l,u:f},s11:{g:"uniform sampler2D u1,u8;uniform float u9;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u8,vv0);gl_FragColor=mix(b,a,u9*f);}",i:["u1","u8","u9"],u:{u1:0,u8:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u10)+texture2D(u1,vv0+u10*vec2(1.,-1.))+texture2D(u1,vv0+u10*vec2(-1.,-1.))+texture2D(u1,vv0+u10*vec2(-1.,1.)));}",i:["u1","u10"],u:f},s13:{g:"uniform sampler2D u1;uniform vec4 u11;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u11);gl_FragColor=j(a);}",i:["u1","u11"],u:f},s14:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:s,u:m,Z:!0},s15:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:s,u:m},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:s,u:m},s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:s,u:m},s18:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:s,u:m},s19:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",i:s,u:m,Z:!0},s20:{g:"uniform sampler2D u0,u12;uniform float u13;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u12,e);float b=u13*u13;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u12","u13"],u:{u0:0,u12:1},Z:!0},s21:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){float a=u14.x*u14.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u14.y),f=floor(u14.x*fract(b*u14.y)),g=(f*u14.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",i:["u1","u14"],u:f},s22:{g:"uniform sampler2D u15,u16,u17;varying vec2 vv0;void main(){vec4 a=texture2D(u17,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u15,b),f=texture2D(u16,c);gl_FragColor=d*f;}",i:["u15","u16","u17"],u:{u16:0,u15:1,u17:2},Z:!0},s23:{g:"uniform float u18,u19;uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec2 c=fract(vv0*u18),a=vv0;float b=u18*u19;a=(.5+floor(b*vv0))/b;vec4 d=texture2D(u15,a),f=texture2D(u16,c);gl_FragColor=d*f;}",i:["u16","u15","u18","u19"],u:{u16:0,u15:1}},s24:{g:"uniform float u18,u19;uniform sampler2D u15,u16,u20,u21,u22,u23;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u18),d=vv0;float h=u18*u19;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u15,d),m=texture2D(u16,c),a=texture2D(u23,d);a=floor(.5+a*255.);vec4 n=texture2D(u20,c),o=texture2D(u21,c),p=texture2D(u22,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",i:"u15 u16 u18 u19 u23 u20 u21 u22".split(" "),u:{u16:0,u15:1,u23:3,u20:4,u21:5,u22:6},Z:!0},s25:{g:"uniform sampler2D u15,u16,u3;uniform float u18,u24,u25,u19;uniform vec2 u26;varying vec2 vv0;const vec2 f=vec2(1.),l=vec2(0.);void main(){vec2 c=floor(u24*vv0),d=u24*vv0-c;float g=u18/u24;vec2 h=floor(d*g),i=d*g-h,j=(c+i)/u24;float m=u24*u19/u18;vec2 b=m*h;b=floor(u26*b+.5*(u19-1.)*(f-u26));vec2 a=(b+i*u25)/u19;a+=.25/u19;vec2 k=step(a,f)*step(l,a);vec4 n=texture2D(u15,j),o=texture2D(u16,a),p=n*o,q=texture2D(u3,j);gl_FragColor=(p*u25*u25+q)*k.x*k.y;}",i:"u15 u16 u18 u24 u25 u19 u3 u26".split(" "),u:{u16:0,u15:1,u3:2}},s26:{g:"uniform sampler2D u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0),b=texture2D(u16,vv0);gl_FragColor=a*b;}",i:["u15","u16"],u:{u16:0,u15:1},Z:!0},s27:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:d,u:g},s28:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",i:d,u:g,Z:!0},s29:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:d,u:g,Z:!0},s30:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",i:l,u:f,precision:"lowp"},s31:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u27"],u:f,precision:"lowp"},s32:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",i:["u1","u27"],u:f,precision:"lowp"},s33:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",i:["u1","u2","u28"],u:h,Z:!0},s34:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u28,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u28"],u:h,Z:!0},s35:{g:"uniform sampler2D u5;uniform vec2 u10;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u10*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u10*h),d=texture2D(u5,a+u10*i),j=texture2D(u5,a+u10),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",i:["u5","u10"],u:b},s36:{g:"uniform sampler2D u5;uniform vec2 u10;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u10*k),d=texture2D(u5,a+u10*l),g=texture2D(u5,a+u10),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u10*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u10*m),d=f(a+u10*2.),g=f(a+u10*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u10"],u:b,Z:!0},s37:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],u:f,precision:"lowp",Z:!0},s38:{g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u10)+2002./e*texture2D(u1,vv0-2.*u10)+3003./e*texture2D(u1,vv0-u10)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u10)+2002./e*texture2D(u1,vv0+2.*u10)+1001./e*texture2D(u1,vv0+3.*u10);gl_FragColor=a;}",i:["u10","u1"],u:f,precision:"lowp",Z:!0},s39:{g:"uniform sampler2D u1,u12,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u12,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u12","u29"],u:{u1:0,u12:1,u29:2},Z:!0}},E={s40:{g:"uniform float u18,u30;uniform sampler2D u15,u16,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u18,xyTo=floor(vv0*u18+eps2);float weightSize=toSparsity*u18;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u18,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",i:["u18","u15","u16","u3","u30"],Ca:["1.1111","gl_FragColor\\*=2.2222;"]},s41:{g:"uniform float u18,u30,u19;uniform sampler2D u15,u16,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u19,xyTo=floor(vv0*u18+eps2);float weightSize=fromSparsity*u19;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u18;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u19,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u15,uvWeight)*texture2D(u16,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",i:"u18 u19 u15 u16 u3 u30".split(" "),Ca:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},D=null,F=null,w={Tb:function(){return c},m:function(){if(!c){for(var e in D=n(x,2),F=n(E,2),v="highp",y.getShaderPrecisionFormat&&(y.getShaderPrecisionFormat(y.FRAGMENT_SHADER,y.MEDIUM_FLOAT),y.getShaderPrecisionFormat(y.FRAGMENT_SHADER,y.LOW_FLOAT)),D)t(y,D[e]);p.set("s0"),y.enableVertexAttribArray(0),c=!0}},pe:function(e){e.forEach((function(e){w.na(e)}))},na:function(e){D[e.id]=e,t(y,e,e.id)},Zl:function(e,a,n){a||(a=e),D[a]=Object.create(F[e]),D[a].hm=!0,F[e].Ca&&F[e].Ca.forEach((function(e,t){D[a].g=D[a].g.replace(new RegExp(e,"g"),n[t])})),t(y,D[a])},set:function(e){var a=D[e];a.Z&&(a.Z=!1,t(y,a)),function(e){_.dj(w),i!==e.id&&(w.H(),i=e.id,r=e,y.useProgram(e.ma),e.ua.forEach((function(e){0!==e&&y.enableVertexAttribArray(e)})))}(a)},tb:function(e){return a(e,{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],u:{u1:0}})},Nd:function(e){return a(e,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:v})},kl:function(e){return void 0!==D[e]&&D[e].Ga},H:function(){-1!==i&&(i=-1,r.ua.forEach((function(e){0!==e&&y.disableVertexAttribArray(e)})))},Pd:function(){var e=0;r.ua.forEach((function(t,a){a=r.P[a],y.vertexAttribPointer(t,a,y.FLOAT,!1,r.Jg,e),e+=4*a}))},jl:function(){y.enableVertexAttribArray(0)},Zb:function(){w.$b(y)},$b:function(e){e.vertexAttribPointer(r.ua[0],2,e.FLOAT,!1,8,0)},Od:function(e,t){y.uniform1i(r.A[e],t)},G:function(e,t){y.uniform1f(r.A[e],t)},N:function(e,t,a){y.uniform2f(r.A[e],t,a)},kg:function(e,t){y.uniform2fv(r.A[e],t)},mg:function(e,t){y.uniform3fv(r.A[e],t)},lg:function(e,t,a,n){y.uniform3f(r.A[e],t,a,n)},Qn:function(e,t,a,n,u){y.uniform4f(r.A[e],t,a,n,u)},wa:function(e,t){y.uniform4fv(r.A[e],t)},Rn:function(e,t){y.uniformMatrix2fv(r.A[e],!1,t)},Sn:function(e,t){y.uniformMatrix3fv(r.A[e],!1,t)},Ic:function(e,t){y.uniformMatrix4fv(r.A[e],!1,t)},j:function(e,t){w.set(e),t.forEach((function(e){switch(e.type){case"4f":y.uniform4fv(r.A[e.name],e.value);break;case"3f":y.uniform3fv(r.A[e.name],e.value);break;case"2f":y.uniform2fv(r.A[e.name],e.value);break;case"1f":y.uniform1f(r.A[e.name],e.value);break;case"1i":y.uniform1i(r.A[e.name],e.value);break;case"mat2":y.uniformMatrix2fv(r.A[e.name],!1,e.value);break;case"mat3":y.uniformMatrix3fv(r.A[e.name],!1,e.value);break;case"mat4":y.uniformMatrix4fv(r.A[e.name],!1,e.value)}}))},tp:function(){return"lowp"},v:function(){for(var e in w.H(),y.disableVertexAttribArray(0),D){var t=D[e];t.Ga&&(t.Ga=!1,y.deleteProgram(t.ma)),t.hm&&delete D[e]}u.forEach((function(e){y.deleteShader(e)})),u.splice(0),o=0,c=!1,r=null,i=-1}};return w}(),y=null,E=function(){function e(e){return console.log("ERROR in ContextFF: ",e),!1}function t(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function a(e){function a(){R.v(),A.reset(),i.getExtension("WEBGL_lose_context").loseContext()}if(t())return!1;var u=document.createElement("canvas");u.setAttribute("width",5),u.setAttribute("height",5);var i=null;try{i=u.getContext("webgl2",e)}catch(e){return!1}return!!i&&(n(i),A.qh(i),(e=A.Je(i)).Pa||e.Ra?(e=R.Xg(i,e),a(),!!e):(a(),!1))}function n(e){e.clearColor(0,0,0,0),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.DITHER),e.disable(e.STENCIL_TEST),e.disable(e.CULL_FACE),e.GENERATE_MIPMAP_HINT&&e.hint(e.GENERATE_MIPMAP_HINT,e.FASTEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.disable(e.SAMPLE_COVERAGE),e.depthFunc(e.LEQUAL),e.clearDepth(1)}var u=null,i=null,r=null,o=null,c=!0,v=null,l=null,s=[],f={L:function(){return u.width},X:function(){return u.height},mb:function(){return u},ol:function(){return y},ia:function(){return c},flush:function(){y.flush()},Bp:function(){T.ea(),f.kn()},kn:function(){D.reset(),w.reset(),p.H(),p.jl(),y.disable(y.DEPTH_TEST),y.disable(y.BLEND),w.Yc(),p.Zb()},tl:function(){return v||(v=new Uint8Array(u.width*u.height*4)),y.readPixels(0,0,u.width,u.height,y.RGBA,y.UNSIGNED_BYTE,v),v},op:function(){return u.toDataURL("image/jpeg")},pp:function(){T.$(),i||(i=document.createElement("canvas"),r=i.getContext("2d")),i.width=u.width,i.height=u.height;for(var e=f.tl(),t=r.createImageData(i.width,i.height),a=i.width,n=i.height,o=t.data,c=0;c<n;++c)for(var v=n-c-1,l=0;l<a;++l){var s=4*(c*a+l),m=4*(v*a+l);o[s]=e[m],o[s+1]=e[m+1],o[s+2]=e[m+2],o[s+3]=e[m+3]}return r.putImageData(t,0,0),i.toDataURL("image/png")},Ch:function(e){!i&&e&&(i=document.createElement("canvas"),r=i.getContext("2d"));var t=e?i:document.createElement("canvas");return t.width=u.width,t.height=u.height,(e?r:t.getContext("2d")).drawImage(u,0,0),t},m:function(i){if((i=Object.assign({Qa:null,Of:null,oa:null,Ce:null,width:512,height:512,premultipliedAlpha:!1,em:!0,antialias:!1,debug:!1,bp:!1},i)).Qa?(y=i.Qa,u=i.Qa.canvas):i.Ce&&!i.oa?u=document.getElementById(i.Ce):i.oa&&(u=i.oa),u||(u=document.createElement("canvas")),u.width=i.width,u.height=i.height,y)c=y instanceof WebGL2RenderingContext;else{c=!0;var r={antialias:i.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:i.premultipliedAlpha,stencil:!1,depth:i.em,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(r.antialias=!1);var v=a(r);v||!r.antialias||t()||(r.antialias=!1,v=a(r)),v&&(y=u.getContext("webgl2",r)),y?c=!0:((y=u.getContext("webgl",r))||(y=u.getContext("experimental-webgl",r)),c=!1)}return y?(i.Of&&u.addEventListener&&(o=y.getExtension("WEBGL_lose_context"))&&(l=i.Of,u.addEventListener("webglcontextlost",l,!1)),A.m()?(n(y),p.m(),w.m(),R.Xg(y,A.ql()),s.forEach((function(e){e(y)})),s.splice(0),!0):e("Not enough GL capabilities")):e("WebGL1 and 2 are not enabled")},So:function(){return new Promise((function(e){y?e(y):s.push(e)}))},v:function(){y&&(A.v(),p.v(),R.v()),o&&l&&(u.removeEventListener("webglcontextlost",l,!1),o=l=null),y=v=r=i=u=null,s.splice(0)}};return f}(),_=function(){function e(){null===t&&(void 0!==p?t=p:void 0!==Le&&(t=Le))}var t=null;return{reset:function(){t=null},dj:function(e){t!==e&&(t&&t.H(),t=e)},Tb:function(){return t.Tb()},Zb:function(){return t.Zb()},$b:function(e){return t.$b(e)},Pd:function(){return t.Pd()},H:function(){return t.H()},set:function(a){return e(),t.set(a)},tb:function(a){return e(),t.tb(a)},Nd:function(a){return e(),t.Nd(a)}}}(),D=function(){function t(e){y.bindTexture(y.TEXTURE_2D,e)}function a(e){var t=new Uint16Array(e.length);return e.forEach((function(e,a){t[a]=function(e){P[0]=e;var t=(e=C[0])>>16&32768,a=e>>12&2047,n=e>>23&255;return 103>n?t:142<n?31744|t|((255==n?0:1)&&8388607&e):113>n?t|((a|=2048)>>114-n)+(a>>113-n&1):t=(t|n-112<<10|a>>1)+(1&a)}(e)})),t}function n(e,t){if(!_.Tb()||!d)return null;var a=null,n=Math.sqrt(e.length/4);try{var u=y.getError();if("FUCKING_BIG_ERROR"===u)return!1;if(a=B.instance({isFloat:!1,S:t,array:e,width:n}),(u=y.getError())!==y.NO_ERROR)return!1}catch(e){return!1}for(T.$(),y.viewport(0,0,n,n),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),_.set("s0"),a.Ma(0),w.l(!0,!0),e=4*n*n,t=new Uint8Array(e),y.readPixels(0,0,n,n,y.RGBA,y.UNSIGNED_BYTE,t),n=!0,u=0;u<e;++u)n=n&&3>Math.abs(t[u]-127);return a.remove(),T.ea(),n}var u=0,i=null,r=0,o=null,c=null,f=null,m=null,h=null,g=null,d=!1,b=[],x={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,ha:null,Kh:null,fm:!1,S:!1,R:null,F:4,Hf:0},E=!1,D=null,F=null,z=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],M=!1,j=!1,P=new Float32Array(1),C=new Int32Array(P.buffer),L={jf:null,kf:null},B={m:function(){d||(h=[y.RGBA,null,y.RGBA,y.RGBA],g=[y.RGBA,null,y.RGBA,y.RGBA],i=[y.TEXTURE0,y.TEXTURE1,y.TEXTURE2,y.TEXTURE3,y.TEXTURE4,y.TEXTURE5,y.TEXTURE6,y.TEXTURE7],M=void 0!==Se,j=void 0!==A,o=[-1,-1,-1,-1,-1,-1,-1,-1],m=[y.UNSIGNED_BYTE,y.FLOAT,y.FLOAT],d=!0)},Wl:function(){if(!c){for(var e=new Float32Array(16384),t=0;16384>t;++t)e[t]=2*Math.random()-1;c={random:B.instance({isFloat:!0,isPot:!0,array:e,width:64}),rj:B.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}B.mo()},Jh:function(){return c.rj},mo:function(){m[1]=A.We(y)},Ln:function(){g=h=[y.RGBA,y.RGBA,y.RGBA,y.RGBA]},Ji:function(e){p.set("s1"),T.$();var t=e.L(),a=e.X();y.viewport(0,0,t,a),e.h(0),w.l(!1,!1)},Op:function(e,t){B.Ji(e),y.readPixels(0,0,e.L(),e.X(),y.RGBA,y.UNSIGNED_BYTE,t)},Pp:function(e,t){return B.Ji(e),A.Yf(0,0,e.L(),e.X(),t)},xh:function(e,t,a,n,i,r,c){e.activeTexture(e.TEXTURE0);var v=e.createTexture();e.bindTexture(e.TEXTURE_2D,v),i=i instanceof Float32Array?i:new Float32Array(i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,n,0,e.RGBA,e.FLOAT,i),e.bindTexture(e.TEXTURE_2D,null),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),c&&(T.ea(),p.tb(e)),e.viewport(0,0,a,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),e.bindTexture(e.TEXTURE_2D,v),c?w.l(!0,!0):w.Jb(e),e.deleteTexture(v),d&&(o[0]=-1,f=null,u=0)},oe:function(e){e!==u&&(y.activeTexture(i[e]),u=e)},instance:function(c){var d;function P(){J=void 0!==U.ha.videoWidth?U.ha.videoWidth:U.ha.width,Z=void 0!==U.ha.videoHeight?U.ha.videoHeight:U.ha.height}function C(e){var t=y.getError();return"FUCKING_BIG_ERROR"!==t&&(y.texImage2D(y.TEXTURE_2D,0,ie,re,oe,e),(t=y.getError())!==y.NO_ERROR&&re!==y.RGBA&&(re=y.RGBA,y.texImage2D(y.TEXTURE_2D,0,ie,re,oe,e)),!0)}function k(){if(!Q){if(t(q),ce&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,ce),U.isPot?(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,U.isMirrorX?y.MIRRORED_REPEAT:y.REPEAT),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,U.isMirrorY?y.MIRRORED_REPEAT:y.REPEAT)):(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE)),U.isAnisotropicFiltering&&void 0!==e&&y.texParameterf(y.TEXTURE_2D,Se.ul().TEXTURE_MAX_ANISOTROPY_EXT,e.Qj),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,U.isLinear?y.LINEAR:y.NEAREST),U.isLinear?y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,U.isMipmap&&!le?y.NEAREST_MIPMAP_LINEAR:y.LINEAR):y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,U.isMipmap&&!le?y.NEAREST_MIPMAP_NEAREST:y.NEAREST),re=h[U.F-1],ie=g[U.F-1],oe=m[G],A.ia()){var a=A.wl();re===y.RGBA&&oe===y.FLOAT?U.isMipmap||U.isLinear?ie=R.yl(y):A.da()?a&&(ie=a):ie=y.RGBA16F||y.RGBA:re===y.RGB&&oe===y.FLOAT&&a&&(ie=a,re=y.RGBA)}if((U.S&&!U.isFloat||U.isFloat&&U.isMipmap&&R.om())&&(ie=A.xl(),oe=A.We(y)),U.Hf&&(fe=U.Hf),U.isSrgb&&4===U.F&&(re=Se.Nl()),U.ha)C(U.ha);else if(U.url)C(V);else if(K){a=K;try{"FUCKING_BIG_ERROR"!==y.getError()&&(y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,a),y.getError()!==y.NO_ERROR&&(y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,null),y.getError()!==y.NO_ERROR&&y.texImage2D(y.TEXTURE_2D,0,y.RGBA,J,Z,0,y.RGBA,y.UNSIGNED_BYTE,null)))}catch(e){y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,null)}U.isKeepArray||(K=null)}else"FUCKING_BIG_ERROR"!==(a=y.getError())&&(y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,null),(a=y.getError())!==y.NO_ERROR&&(re=y.RGBA,U.S&&oe!==y.FLOAT&&(oe=y.FLOAT,y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,null))));if(U.isMipmap)if(!le&&de)de.md(),me=!0;else if(le){a=Math.log2(Math.min(J,Z)),(se=Array(1+a))[0]=q;for(var n=1;n<=a;++n){var i=Math.pow(2,n),r=J/i;i=Z/i;var c=y.createTexture();t(c),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.NEAREST),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,y.NEAREST),y.texImage2D(y.TEXTURE_2D,0,ie,r,i,0,re,oe,null),t(null),se[n]=c}me=!0}t(null),o[u]=-1,ce&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!1),$=!0,U.R&&de&&(U.R(de),U.R=null)}}function O(){for(var e=J*Z,t=2*e,a=3*e,n=0;n<e;++n)te[0][n]=ue[n],te[1][n]=ue[n+e],te[2][n]=ue[n+t],te[3][n]=ue[n+a]}function S(){var e=J*Z*4;ae=[new Uint8Array(e),new Uint8Array(e),new Uint8Array(e),new Uint8Array(e)],te=[new Float32Array(ae[0].buffer),new Float32Array(ae[1].buffer),new Float32Array(ae[2].buffer),new Float32Array(ae[3].buffer)],ne=new Uint8Array(4*e),ue=new Float32Array(ne.buffer),ee=!0}function N(){d=new Uint8Array(J*Z*4),ge=new Float32Array(d.buffer),he=!0}var U=Object.assign({},x,c),I=r++;null===U.isFlipY&&(U.isFlipY=!!U.url),U.data&&(U.array="string"==typeof U.data?function(e){return void 0===v(e).nb?s(e):l(e)}(U.data):U.isFloat?new Float32Array(U.data):new Uint8Array(U.data),U.isFlipY=!1);var G=0,X=!!U.ha,H=null,Y=null,W=!1;U.S=U.S||U.isFloat,U.S&&(G=1),!U.fm&&U.isFloat&&j&&!A.da()&&(U.isFloat=!1),U.isFloat&&(G=2),U.isAnisotropicFiltering&&M&&!Se.nm()&&(U.isAnisotropicFiltering=!1);var q=U.Kh||y.createTexture(),V=null,K=!1,J=0,Z=0,$=!1,Q=!1,ee=!1,te=null,ae=null,ne=null,ue=null,ie=null,re=null,oe=null,ce=U.isFlipY,ve=(c=U.S&&U.isMipmap)&&R.zk(),le=!(!c||!ve),se=null,fe=-1,me=!1,he=!1,ge=d=null;U.width&&(J=U.width,Z=U.height?U.height:J);var de={get:function(){return q},L:function(){return J},X:function(){return Z},Pl:function(){return U.url},ci:function(){return U.isFloat},di:function(){return U.S},Gp:function(){return U.isLinear},md:function(){y.generateMipmap(y.TEXTURE_2D)},qk:function(e,a){le?(e||(e=de.Hh()),B.oe(a),t(se[e]),o[a]=-1):de.h(a)},Hh:function(){return-1===fe&&(fe=Math.log(J)/Math.log(2)),fe},nl:function(e){if(le){e||(e=de.Hh()),p.set("s12"),B.oe(0);for(var a=J,n=Z,u=1;u<=e;++u)a/=2,n/=2,p.N("u10",.25/a,.25/n),y.viewport(0,0,a,n),t(se[u-1]),y.framebufferTexture2D(T.qd(),y.COLOR_ATTACHMENT0,y.TEXTURE_2D,se[u],0),w.l(!1,1===u);o[0]=-1}else de.md()},aq:function(e){(X=!(Array.isArray(e)||e.constructor===Float32Array||e.constructor===Uint8Array))?(K=null,U.ha=e,P()):K=e},h:function(e){return!!$&&(B.oe(e),o[e]!==I&&(t(q),o[e]=I,!0))},Ma:function(e){y.activeTexture(i[e]),u=e,t(q),o[e]=I},o:function(){f=de,y.framebufferTexture2D(T.qd(),y.COLOR_ATTACHMENT0,y.TEXTURE_2D,q,0)},M:function(){f=de,y.viewport(0,0,J,Z),y.framebufferTexture2D(T.qd(),y.COLOR_ATTACHMENT0,y.TEXTURE_2D,q,0)},Yd:B.Yd,En:function(e,t){J=e,Z=t},resize:function(e,t){de.En(e,t),k()},clone:function(e){return e=B.instance({width:J,height:Z,S:U.S,isFloat:U.isFloat,isLinear:U.isLinear,isMirrorY:U.isMirrorY,isFlipY:e?!ce:ce,isPot:U.isPot}),_.set("s0"),T.ea(),e.o(),y.viewport(0,0,J,Z),de.h(0),w.l(!0,!0),e},Jc:function(){y.viewport(0,0,J,Z)},remove:function(){y.deleteTexture(q),Q=!0,b.splice(b.indexOf(de),1),de=null},refresh:function(){de.Ma(0),ce&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!0),X?y.texImage2D(y.TEXTURE_2D,0,ie,re,oe,U.ha):y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,K),ce&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!1)},Hi:function(){return ee||S(),y.readPixels(0,0,J,4*Z,y.RGBA,y.UNSIGNED_BYTE,ne),O(),te},$m:function(){return ee||S(),A.Yf(0,0,J,4*Z,ne).then((function(){return O(),te}))},bn:function(){return he||N(),y.readPixels(0,0,J,Z,y.RGBA,y.UNSIGNED_BYTE,d),ge},an:function(){return he||N(),A.Yf(0,0,J,Z,d)},kh:function(e){if(T.$(),p.set("s13"),de.h(0),e)y.viewport(0,0,J,Z),p.Qn("u11",.25,.25,.25,.25),w.l(!1,!0);else for(e=0;4>e;++e)y.viewport(0,Z*e,J,Z),p.wa("u11",z[e]),w.l(!1,0===e)},Eg:function(e){var a=oe===m[0]&&!function(){if(null!==L.kf)return L.kf;var e=n(new Uint8Array([127,127,127,127]),!1);return null===e||(L.kf=e)}();t(q),ce&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!0),a?(W||((H=document.createElement("canvas")).width=J,H.height=Z,(Y=H.getContext("2d")).createImageData(J,Z),W=!0),null.data.set(e),Y.putImageData(null,0,0),y.texImage2D(y.TEXTURE_2D,0,ie,re,oe,H)):y.texImage2D(y.TEXTURE_2D,0,ie,J,Z,0,re,oe,e),o[u]=I,ce&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!1)},nq:function(e,a){t(q),a&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!0),y.texImage2D(y.TEXTURE_2D,0,ie,re,oe,e),o[u]=I,a&&y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,!1)},Gc:function(e,t){var a=J*Z,n=4*a;e=U.S?e?"RGBE":"JSON":"RGBA",t&&(e=t),t=A.ia()&&!1;var u=null;switch(e){case"RGBE":u="s44";break;case"JSON":u=t?"s0":"s13";break;case"RGBA":case"RGBAARRAY":u="s7"}if(ee||("RGBA"===e||"RGBE"===e||"RGBAARRAY"===e?(ae=new Uint8Array(n),ee=!0):"JSON"!==e||t||S()),T.$(),p.set(u),de.h(0),n=null,"RGBA"===e||"RGBE"===e||"RGBAARRAY"===e){if(y.viewport(0,0,J,Z),w.l(!0,!0),y.readPixels(0,0,J,Z,y.RGBA,y.UNSIGNED_BYTE,ae),"RGBAARRAY"===e)return{data:ae};E||(D=document.createElement("canvas"),F=D.getContext("2d"),E=!0),D.width=J,D.height=Z,(a=F.createImageData(J,Z)).data.set(ae),F.putImageData(a,0,0),n=D.toDataURL("image/png")}else if("JSON"===e)if(t)n=new Float32Array(a),y.viewport(0,0,J,Z),w.l(!0,!0),y.readPixels(0,0,J,Z,y.RGBA,y.FLOAT,n);else{for(n=0;4>n;++n)y.viewport(0,Z*n,J,Z),p.wa("u11",z[n]),w.l(!n,!n);for(de.Hi(),n=Array(a),t=0;t<a;++t)n[4*t]=te[0][t],n[4*t+1]=te[1][t],n[4*t+2]=te[2][t],n[4*t+3]=te[3][t]}return{format:e,data:n,width:J,height:Z,isMirrorY:U.isMirrorY,isFlipY:"RGBA"===e?U.isFlipY:!U.isFlipY}}};if(U.isMipmap&&!le&&$&&!me&&(de.md(),me=!0),U.url)t(q),y.texImage2D(y.TEXTURE_2D,0,y.RGBA,1,1,0,y.RGBA,y.UNSIGNED_BYTE,null),(V=new Image).ap="Anonymous",V.crossOrigin="Anonymous",V.src=U.url,V.onload=function(){J=V.width,Z=V.height,k()};else if(U.ha){var be=function(){P(),J?k():setTimeout(be,1)};be()}else U.array?(U.S&&!U.isFloat?U.array instanceof Uint16Array?(K=U.array,k()):function(){if(null!==L.jf)return L.jf;var e=n(a([.5,.5,.5,.5]),!0);return null===e||(L.jf=e)}()?(K=a(U.array),k()):(k(),B.xh(y,q,de.L(),de.X(),U.array,ce,!0)):(K=U.isFloat?U.array instanceof Float32Array?U.array:new Float32Array(U.array):U.array instanceof Uint8Array?U.array:new Uint8Array(U.array),k()),U.isKeepArray||(K&&K!==U.array&&(K=null),delete U.array)):U.Kh?$=!0:k();return de.xp=de.L,U.R&&$&&(U.R(de),U.R=null),b.push(de),de},$:function(e){e!==u&&(y.activeTexture(i[e]),u=e),o[e]=-1,t(null)},sk:function(e){c.random.h(e)},Yd:function(){f=null,y.framebufferTexture2D(T.qd(),y.COLOR_ATTACHMENT0,y.TEXTURE_2D,null,0)},reset:function(){0!==u&&y.activeTexture(i[0]);for(var e=0;e<i.length;++e)o[e]=-1;u=-1},Sp:function(){u=-1},tj:function(){for(var e=0;e<i.length;++e)B.$(e)},K:function(){c&&(c.random.remove(),c.rj.remove())},Mc:function(e,t){if("RGBA"===e.format||"RGBE"===e.format){var a=new Image;a.src=e.data,a.onload=function(){B.instance({isMirrorY:e.isMirrorY,isFlipY:e.isFlipY,isFloat:!1,ha:a,R:function(a){if("RGBA"===e.format)t(a);else{var n=e.width,u=e.height,i=B.instance({isMirrorY:e.isMirrorY,isFloat:!0,width:n,height:u,isFlipY:e.isFlipY});T.ea(),y.viewport(0,0,n,u),p.set("s45"),i.o(),a.h(0),w.l(!0,!0),B.$(0),t(i),A.flush(),setTimeout(a.remove,50)}}})}}else"JSON"===e.format?t(B.instance({isFloat:!0,isFlipY:e.isFlipY,width:e.width,height:e.height,array:new Float32Array(e.data)})):t(!1)},Fk:a,v:function(){f&&(T.ea(),B.Yd(),T.$()),B.tj(),b.slice(0).forEach((function(e){e.remove()})),b.splice(0),d=!1,r=0,void 0!==R&&R.v(),c=null}};return B}(),F=function(e){var t=[D.instance(e),D.instance(e)],a=[t[1],t[0]],n=a,u={Wi:function(e){n[1].o(),n[0].h(e),u.hj()},zn:function(e){n[1].M(),n[0].h(e),u.hj()},hj:function(){n=n===t?a:t},refresh:function(){n[0].refresh(),n[1].refresh()},h:function(e){n[0].h(e)},Ma:function(e){n[0].Ma(e)},rk:function(e){n[1].h(e)},sp:function(){return n[0]},vp:function(){return n[1]},Eg:function(e){n[0].Eg(e),n[1].Eg(e)},remove:function(){n[0].remove(),n[1].remove(),n=null},sync:function(){u.zn(0),p.set("s0"),w.l(!1,!1)}};return u},w=function(){function e(e){var t={ga_:null,indices:null};return t.ga_=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,t.ga_),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),e.STATIC_DRAW),t.indices=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indices),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),e.STATIC_DRAW),t}var t=null,a=0,n=!1,u=[],i=-2,r=-2,o={reset:function(){r=i=-2},m:function(){n||(t=e(y),o.Yc(),n=!0)},instance:function(e){var t=a++,n=e.indices?e.indices.length:0,o=void 0===e.mode?y.STATIC_DRAW:e.mode,c=y.createBuffer();y.bindBuffer(y.ARRAY_BUFFER,c),y.bufferData(y.ARRAY_BUFFER,e.ga_ instanceof Float32Array?e.ga_:new Float32Array(e.ga_),o),i=t;var v=null,l=null,s=null;if(e.indices){v=y.createBuffer(),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,v);var f=null;65536>e.indices.length?(f=Uint16Array,l=y.UNSIGNED_SHORT,s=2):(f=Uint32Array,l=y.UNSIGNED_INT,s=4),f=e.indices instanceof f?e.indices:new f(e.indices),y.bufferData(y.ELEMENT_ARRAY_BUFFER,f,o),r=t}var m={qc:function(e){i!==t&&(y.bindBuffer(y.ARRAY_BUFFER,c),i=t),e&&_.Pd()},nk:function(){r!==t&&(y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,v),r=t)},bind:function(e){m.qc(e),m.nk()},U:function(){y.drawElements(y.TRIANGLES,n,l,0)},Fa:function(e,t){y.drawElements(y.TRIANGLES,e,l,t*s)},remove:function(){y.deleteBuffer(c),e.indices&&y.deleteBuffer(v),m=null}};return u.push(m),m},Yc:function(){-1!==i&&(y.bindBuffer(y.ARRAY_BUFFER,t.ga_),i=-1),-1!==r&&(y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,t.indices),r=-1)},l:function(e,t){e&&w.Yc(),t&&_.Zb(),y.drawElements(y.TRIANGLES,3,y.UNSIGNED_SHORT,0)},Jb:function(t){var a=e(t=t||y);t.bindBuffer(t.ARRAY_BUFFER,a.ga_),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a.indices),_.$b(t),t.clear(t.COLOR_BUFFER_BIT),t.drawElements(t.TRIANGLES,3,t.UNSIGNED_SHORT,0),t.flush(),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),t.deleteBuffer(a.ga_),t.deleteBuffer(a.indices),o.reset(),n&&(o.Yc(),_.Zb())},K:function(){var e=y,a=t;e.deleteBuffer(a.ga_),e.deleteBuffer(a.indices)},v:function(){o.K(),u.forEach((function(e){e.remove()})),y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),o.reset(),n=!1,u.splice(0),a=0}};return o}(),T=(f=null,m=null,h=null,g=!1,d=[],b={la:-2,wh:1},x={Tb:function(){return g},m:function(){if(!g){f=y.createFramebuffer();var e=A.ia();m=e&&y.DRAW_FRAMEBUFFER?y.DRAW_FRAMEBUFFER:y.FRAMEBUFFER,h=e&&y.READ_FRAMEBUFFER?y.READ_FRAMEBUFFER:y.FRAMEBUFFER,g=!0}},vl:function(){return m},Dh:function(){return h},qd:function(){return y.FRAMEBUFFER},wp:function(){return b},lp:function(){return f},instance:function(e){void 0===e.wc&&(e.wc=!1);var t=e.ja?e.ja:null,a=e.width,n=void 0!==e.height?e.height:e.width,u=f,i=null,r=!1,o=!1,c=0;t&&(a=a||t.L(),n=n||t.X());var v={Qi:function(){r||(u=y.createFramebuffer(),r=!0,c=b.wh++)},Tc:function(){v.Qi(),v.o(),i=y.createRenderbuffer(),y.bindRenderbuffer(y.RENDERBUFFER,i),y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,a,n),y.framebufferRenderbuffer(m,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,i),y.clearDepth(1)},bind:function(e,i){c!==b.la&&(y.bindFramebuffer(m,u),b.la=c),t&&t.o(),i&&y.viewport(0,0,a,n),e&&y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT)},Sg:function(){c!==b.la&&(y.bindFramebuffer(m,u),b.la=c)},clear:function(){y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT)},ye:function(){y.clear(y.COLOR_BUFFER_BIT)},Zg:function(){y.clear(y.DEPTH_BUFFER_BIT)},Jc:function(){y.viewport(0,0,a,n)},o:function(){c!==b.la&&(y.bindFramebuffer(m,u),b.la=c)},rtt:function(e){t=e,b.la!==c&&(y.bindFramebuffer(y.FRAMEBUFFER,u),b.la=c),e.o()},$:function(){y.bindFramebuffer(m,null),b.la=-1},resize:function(e,t){a=e,n=t,i&&(y.bindRenderbuffer(y.RENDERBUFFER,i),y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,a,n))},remove:function(){u===f||o||(y.bindFramebuffer(m,u),y.framebufferTexture2D(m,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,null,0),i&&y.framebufferRenderbuffer(m,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,null),y.bindFramebuffer(m,null),y.deleteFramebuffer(u),i&&y.deleteRenderbuffer(i)),o=!0}};return e.wc&&v.Tc(),d.push(v),v},$:function(){y.bindFramebuffer(m,null),b.la=-1},lq:function(){y.bindFramebuffer(m,null),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT),A.ej(),b.la=-1},reset:function(){b.la=-2},ea:function(){0!==b.la&&(y.bindFramebuffer(m,f),b.la=0)},clear:function(){A.ej(),y.clear(y.COLOR_BUFFER_BIT)},v:function(){x.$(),d.forEach((function(e){e.remove()})),null!==f&&(y.deleteFramebuffer(f),f=null),x.reset(),g=!1,d.splice(0),b.wh=1}}),A=function(){function e(){r=void 0===E?Se:E,o=!0}function t(e,t){for(var a=0;a<e.length;++a){var n=t.getExtension(e[a]);if(n)return n}return null}function a(){null!==g.Xd&&(clearTimeout(g.Xd),g.Xd=null),g.Ob=!1}function n(){y.bindBuffer(g.za,null)}function u(){g.Mb.forEach((function(e){y.deleteSync(e)})),g.Mb.splice(0)}function i(){g.Na=(g.Na+1)%g.sc,++g.Nf}var r=null,o=!1,c={Vh:!1,xg:null,yg:null,$h:!1,lm:!1,zg:null,ai:!1,Ag:null,Wh:!1,ze:null,cm:!1,Ae:null,dm:!1},v=null,l={Pa:!0,Ra:!0,Re:!0,Gi:!1},s=null,f=!0,m=null,h=null,g={Gk:1,sc:-1,Na:0,Nf:0,Ob:!1,qb:[],Mb:[],rd:[],za:null,Xd:null},d="undefined"==typeof window?{}:window,b={m:function(){if(o)return!0;b.reset(),o||e();var t=y;return v.Vh||(v.xg=b.th(t),d.GL_EXT_FLOAT=v.xg,v.$h=!!v.xg,(v.$h||b.ia())&&(v.yg=b.uh(t),v.lm=!!v.yg,d.GL_EXT_FLOATLINEAR=v.yg),v.Vh=!0),v.Wh||(v.zg=b.hd(t),v.zg&&(v.ai=!0,d.GL_EXT_HALFFLOAT=v.zg),(v.ai||b.ia())&&(v.Ag=b.vh(t),d.GL_EXT_HALFFLOATLINEAR=v.Ag),v.Ep=!!v.Ag,v.Wh=!0),v.ze=b.rh(t),v.cm=!!v.ze,d.GL_EXT_COLORBUFFERFLOAT=v.ze,v.Ae=b.sh(t),v.dm=!!v.Ae,d.GL_EXT_COLORBUFFERHALFFLOAT=v.Ae,T.m(),D.m(),!!b.Sk()&&(w.m(),D.Wl(),!0)},reset:function(){v=Object.assign({},c),s=Object.assign({},l)},L:function(){return o||e(),r.L()},X:function(){return o||e(),r.X()},ia:function(){return o||e(),r.ia()},qh:function(e){b.rh(e),b.sh(e),b.th(e),b.uh(e),b.hd(e),b.vh(e)},rh:t.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),sh:t.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),th:t.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),uh:t.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),hd:t.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),vh:t.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),We:function(e){var t=b.hd(e);return t&&t.HALF_FLOAT_OES?t.HALF_FLOAT_OES:e.HALF_FLOAT||e.FLOAT},wl:function(){return h||y.RGBA32F||y.RGBA},xl:function(){return m||y.RGBA16F||y.RGBA},ql:function(){return s},da:function(){return s.Pa},Wo:function(){return s.Ra},yk:function(){return s.Re},Bk:function(){return s.Gi&&f},qj:function(e){f=e,!e&&g.Ob&&(u(),y.bindBuffer(g.za,null),g.Ob=!1)},Hp:function(){return g.Ob},Vd:function(e,t,a){function n(){e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(u,null),e.deleteTexture(o),e.deleteFramebuffer(r)}var u=e.FRAMEBUFFER,i=e.NEAREST,r=e.createFramebuffer();e.bindFramebuffer(u,r);var o=e.createTexture();if(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i),e.texImage2D(e.TEXTURE_2D,0,t,3,3,0,e.RGBA,a,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.checkFramebufferStatus(e.READ_FRAMEBUFFER||e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)return n(),!1;for(_.Nd(e),e.clearColor(0,0,0,0),e.viewport(0,0,3,3),e.disable(e.DEPTH_TEST),e.clear(e.COLOR_BUFFER_BIT),w.Jb(e),e.bindFramebuffer(u,null),_.tb(e),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),w.Jb(e),t=new Uint8Array(36),e.readPixels(0,0,3,3,e.RGBA,e.UNSIGNED_BYTE,t),n(),a=0;36>a;++a)if(3!=a%4&&3<Math.abs(t[a]-127))return!1;return!0},Je:function(e){var t={Pa:!1,Ra:!1};e.disable(e.BLEND),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.RGBA32F&&b.Vd(e,e.RGBA32F,e.FLOAT)&&(t.Pa=!0,h=e.RGBA32F),!t.Pa&&b.Vd(e,e.RGBA,e.FLOAT)&&(t.Pa=!0,h=e.RGBA);var a=b.We(e);return m=null,e.RGBA16F&&b.Vd(e,e.RGBA16F,a)&&(t.Ra=!0,m=e.RGBA16F),!t.Ra&&b.Vd(e,e.RGBA,a)&&(t.Ra=!0,m=e.RGBA),t},Uk:function(){var e=T.instance({width:2});e.Qi();var t=D.instance({width:2,isFloat:!0,F:3});e.o(),t.o(),b.flush(),y.checkFramebufferStatus(T.Dh())!==y.FRAMEBUFFER_COMPLETE?(D.Ln(),s.Re=!1):s.Re=!0,e.remove(),t.remove()},Vk:function(){var e=!1;b.ia()&&(e="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every((function(e){return void 0!==y[e]}))),s.Gi=e},Sk:function(){var e=b.Je(y);return Object.assign(s,e),!(!s.Pa&&!s.Ra)&&(b.Uk(),b.Vk(),!0)},cn:function(e,t,a,n,u){return y.readPixels(e,t,a,n,y.RGBA,y.UNSIGNED_BYTE,u),Promise.resolve(u,!1)},Yf:function(e,t,u,r,o,c,v){if(!b.Bk())return b.cn(e,t,u,r,o);g.sc=v||g.Gk,function(e){if(0===g.qb.length){g.za=y.PIXEL_PACK_BUFFER,g.qb.splice(0),g.rd.splice(0);for(var t=0;t<g.sc;++t)g.qb.push(y.createBuffer()),g.rd.push(-1);g.Na=0,g.Nf=0}y.bindBuffer(g.za,g.qb[g.Na]),e.byteLength!==g.rd[g.Na]&&(y.bufferData(g.za,e.byteLength,y.STREAM_READ),g.rd[g.Na]=e.byteLength),g.Cp=!0}(o),y.readPixels(e,t,u,r,y.RGBA,y.UNSIGNED_BYTE,0),g.Mb[g.Na]=y.fenceSync(y.SYNC_GPU_COMMANDS_COMPLETE,0),b.flush();var l=!1;return new Promise((function(e,t){a(),g.Nf+1<g.sc?(n(),i(),e(o,!1)):(g.Ob=!0,function u(){if(!g.Ob)return a(),n(),i(),t(),!1;var r=(g.Na+1)%g.sc;switch(y.clientWaitSync(g.Mb[r],0,0)){case y.TIMEOUT_EXPIRED:case y.WAIT_FAILED:break;default:return a(),y.deleteSync(g.Mb[r]),g.Mb[r]=null,y.bindBuffer(g.za,g.qb[r]),y.getBufferSubData(g.za,0,o),n(),i(),e(o,l),!0}return g.Xd=setTimeout(u,0),!1}()||!c||l||(l=!0,c()))}))},ej:function(){y.viewport(0,0,b.L(),b.X())},flush:function(){y.flush()},v:function(){a(),u(),D.v(),T.v(),w.v(),g.qb.forEach((function(e){y.deleteBuffer(e)})),g.qb.splice(0),_.reset(),o=!1}};return b}(),R=function(){function e(e,t,a,n){d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,n?d.NEAREST_MIPMAP_NEAREST:d.LINEAR);var u=null;if(null!==a)try{if("FUCKING_BIG_ERROR"===(u=d.getError()))return!1;if(d.texImage2D(d.TEXTURE_2D,0,e,4,4,0,d.RGBA,t,a),(u=d.getError())!==d.NO_ERROR)return!1}catch(e){return!1}if(n&&d.generateMipmap(d.TEXTURE_2D),d.clear(d.COLOR_BUFFER_BIT),w.Jb(d),"FUCKING_BIG_ERROR"===(u=d.getError()))return!1;if(d.readPixels(0,0,2,2,d.RGBA,d.UNSIGNED_BYTE,l),(u=d.getError())===d.INVALID_OPERATION&&void 0!==d.PIXEL_PACK_BUFFER&&(d.bindBuffer(d.PIXEL_PACK_BUFFER,null),d.readPixels(0,0,2,2,d.RGBA,d.UNSIGNED_BYTE,l),u=d.getError()),u!==d.NO_ERROR)return!1;for(a=!0,n=0;16>n;++n)a=a&&4>Math.abs(l[n]-127);return a&&(c.Ci=t,c.Th=e),a}function t(t,a){return!(!b.Pa||!e(t,d.FLOAT,new Float32Array(s),a))&&(o=r.Pg,!0)}function a(t,a,n){if(!b.Ra)return!1;var u=D.Fk(s),i=A.hd(d);return i&&i.HALF_FLOAT_OES&&e(t,i.HALF_FLOAT_OES,u,a)||d.HALF_FLOAT&&e(t,d.HALF_FLOAT,u,a)?(o=r.lc,!0):(u=new Float32Array(s),e(t,d.FLOAT,u,a)?(o=r.lc,!0):(d.bindTexture(d.TEXTURE_2D,n),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,2,2,0,d.RGBA,d.UNSIGNED_BYTE,null),d.bindFramebuffer(c.cd,_),D.xh(d,n,2,2,u,!1,!1),d.bindFramebuffer(c.cd,null),d.bindTexture(d.TEXTURE_2D,n),!!e(t,null,null,a)&&(o=r.lc,!0)))}function n(e,n,u){return v=!0,!(!a(e,!0,u)&&!t(n,!0))||(v=!1,!(!a(e,!1,u)&&!t(n,!1)))}function u(e){if(o===r.H){d=e||y,o=r.RGBA8,v=!0,A.qh(d),b||(b=A.Je(d)),T.reset(),_=d.createFramebuffer(),c.cd=d.DRAW_FRAMEBUFFER||d.FRAMEBUFFER,d.bindFramebuffer(c.cd,null),d.clearColor(0,0,0,0),d.viewport(0,0,2,2),p.H(),x=p.tb(d),e=d.createTexture(),d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,e),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),E=e;var t=e=d.RGBA,a=d.RGBA16F,u=d.RGBA32F;return u&&(e=u),a&&(t=a),(a||u)&&n(t,e,E)?(i(),!0):(e=t=d.RGBA,n(t,e,E)?(i(),!0):(o=r.RGBA8,i(),!1))}}function i(){d.deleteProgram(x.ma),d.deleteTexture(E),E=x=null}for(var r={H:-1,Pg:3,lc:2,RGBA8:0},o=r.H,c={Ci:null,Th:null,cd:null},v=!0,l=new Uint8Array(16),s=Array(64),f=0;4>f;++f)for(var m=0;4>m;++m){var h=0==(m+f)%2?1:0,g=4*f+m;s[4*g]=h,s[4*g+1]=h,s[4*g+2]=h,s[4*g+3]=h}var d=null,b=null,x=null,E=null,_=null;return{zk:function(e){return u(e),v},Xg:function(e,t){return o===r.H&&(typeof("undefined"!==t)&&(b=t),u(e)),o!==r.RGBA8},Fp:function(e){return u(e),o===r.Pg},om:function(e){return u(e),o===r.lc},rp:function(e){return u(e),c.Ci},yl:function(e){return u(e),c.Th},v:function(){d=null,v=!0,o=r.H,b=null}}}(),z=function(e){var t=null,a=!1,n=!1,u=null,i=!1,r=!1,o=null,c=void 0!==e.preprocessing&&e.preprocessing,v=void 0===e.preprocessingSize?e.size:e.preprocessingSize;e.mask&&(a=!0,ne&&void 0!==ne.aa&&(e.mask=ne.aa+e.mask),t=D.instance({isFloat:!1,url:e.mask}));var l=!1;switch(e.customInputShader&&(l="s46",p.na({name:"_",id:l,g:e.customInputShader,mq:["uSource"],precision:"lowp"}),p.j(l,[{type:"1i",name:"_",value:0}])),c){case"sobel":o="s33",i=!0;break;case"meanNormalization":o="s34",i=!0;break;case"grayScale":o="s30",i=!1;break;case"grayScaleTilt":o="s31",r=!0,i=!1;break;case"rgbGrayTilt":o="s32",r=!0,i=!1;break;case"copy":o=l||"s0";break;case"inputLightRegulation":o=l||"s30",u=O.instance({Sh:v,wi:e.size,ri:e.nBlurPass,wd:!1}),n=!0;break;case"inputMix0":o="none",u=S.instance({sa:v,zj:e.varianceMin,Tg:e.blurKernelSizePx,gain:e.gain||1,wd:!1}),n=!0;break;case"direct":case"none":o="abort";break;default:o="s4"}r&&p.j(o,[{name:"u27",type:"1f",value:e.tilt}]),a&&(o+="Mask");var s=D.instance({isFloat:!1,isPot:!1,width:e.size}),f={L:function(){return v},Xe:function(){return f.L()},Cl:function(){return n?u.Ye():s},va:function(r){T.ea(),"abort"!==o&&("none"!==o&&(p.set(o),i&&p.G("u28",1/e.size),s.M(),a&&t.h(1),w.l(!1,!1),s.h(0),r=s),n&&u.process(r))},v:function(){s.remove(),a&&t.remove()}};return f},M=function(e){function t(e){return u.forEach((function(t,a){i[a][0]=e[0][t],i[a][1]=e[1][t],i[a][2]=e[2][t],i[a][3]=e[3][t]})),i}e.normalize=e.normalize||!1;var a={input:null,bias:null,mf:null,Ua:null,Ed:null,Qf:null,Rf:null},n=null,u=[],i=[],r=!1,o=null,c=!0,v=-1,l=!!e.isReorganize&&e.isReorganize,s=!!e.kernelsCount,f=["s27","s28","s29"][e.shiftRGBAMode||0],m={isEnabled:!1};e.im?(e.sparsity=void 0!==e.sparsity?e.sparsity:e.Jd.Xe(),c=!1):"full"===e.connectivityUp&&(e.sparsity=e.Jd.Xe());var h={elu:"s16",elu01:"s17",relu:"s15",arctan:"s18",arctan2:"s19",sigmoid:"s14",copy:"s0"}[e.activation],g=e.sparsity*e.sparsity,d=!1,b=e.size,x="";if(e.maxPooling){switch(e.maxPooling.size){case 2:x="s35";break;case 4:x="s36"}d=!0,b/=e.maxPooling.size,a.Qf=D.instance({isFloat:!0,isPot:!1,width:b})}var y=-1,E=null;c&&(a.Ua=D.instance({isFloat:!0,isPot:!1,width:e.size})),a.bias=D.instance(e.bias);var _={L:function(){return e.size},Xe:function(){return b},Ah:function(){return e.classesCount},pk:function(e){n.h(e)},Tm:function(){e.remap&&e.remap.isEnabled&&(m={isEnabled:!0,Cm:D.instance(e.remap.maskTexture),yd:e.remap.layers.map((function(t){return e.parent.zl(t)})),depth:e.remap.depth})},Mn:function(){switch(e.connectivityUp){case"direct":E=P.instance(e.connectivity);break;case"square":E=L.instance(e.connectivity);break;case"squareFast":E=k.instance(e.connectivity,e.activation);break;case"full":E=C.instance(e.connectivity);break;case"conv":v=e.kernelsCount,E=B.instance(e.connectivity),l&&(a.Ed=D.instance({width:b,isFloat:!0,isFlipY:!1,isPot:!1}))}if(E.dc){var t=e.size*e.sparsity;y=Math.log(t/e.size)/Math.log(2),a.input=D.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:t,Hf:y}),a.mf=D.instance({isFloat:!0,isPot:!0,width:e.size})}},va:function(t,u){if(n=t,E.dc?(a.input.M(),s&&a.bias.h(2),E.va(m),a.input.h(0),a.input.nl(y),a.mf.M(),s?p.set("s0"):(p.set(f),p.G("u4",g),a.bias.h(1)),a.input.qk(y,0),w.l(!1,!1),p.set(h),a.Ua.o(),a.mf.h(0),w.l(!1,!1)):(a.Ua.M(),a.bias.h(1),E.va()),c)return d?(a.Qf.M(),a.Ua.h(0),p.set(x),p.N("u10",1/e.size,1/e.size),w.l(!1,!1),u=a.Qf):u=a.Ua,u.h(0),l&&(a.Ed.o(),p.set("s21"),p.N("u14",v,b/v),w.l(!1,!1),u=a.Ed,a.Ed.h(0)),u;var i=a.Ua;switch(e.normalize&&(p.set("gpuRawAvg"===r?"s9":"s8"),p.G("u6",1/e.size),a.Rf.M(),a.Ua.h(0),w.l(!1,!1),i=a.Rf),t=null,r){case"cpuRGBA2Float":i.kh(!1),u?t=_.Ym(i).then(o):(i=_.Zm(i),o(i));break;case"cpuMeanFloat":if(i.kh(!0),u)t=i.an().then(o);else{i=i.bn();for(var D=0;D<i.length;++D);o(i)}break;case"gpuRawAvg":case"gpuRaw":i.h(0);case"none":null!==o&&o(i)}return u&&null===t&&(t=Promise.resolve()),t},Ik:function(t){t&&(r=t.Sf||"none",o=t.Pf||null),a.Ua=D.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:e.size}),t=void 0!==e.classesCount&&e.classesCount?e.classesCount:e.size*e.size;for(var n=0,c=0,v=0;n<t;++n)u.push(c+(e.size-1-v)*e.size),i.push([-1,-1,-1,-1]),++c===e.size&&(c=0,++v);e.normalize&&(a.Rf=D.instance({isFloat:!0,isPot:!0,width:e.size}))},Ym:function(e){return e.$m().then(t)},Zm:function(e){return t(e=e.Hi()),i},v:function(){for(var e in a){var t=a[e];t&&t.remove()}E&&(E.v(),E=null)}};return e.Jd&&_.Mn(e.Jd),_};function j(e){var t=null,a=null,n=null,u=0,i=this;this.m=function(e){this.Hn(e.yd),n.Ik({Sf:e.Sf,Pf:e.Pf})},this.zl=function(e){return t[e]},this.Hn=function(e){var r=null;u=e.length,t=e.map((function(e,t){return e=Object.assign({},e,{index:t,parent:i,Jd:r,im:t===u-1}),r=0===t?z(e):M(e)})),a=t[0],n=t[u-1],t.forEach((function(e,t){0!==t&&e.Tm()}))},this.va=function(e){e.h(0);var a=e;return t.forEach((function(e){a=e.va(a,!1)})),a},this.Eh=function(){return a.L()},this.Ye=function(){return n.Cl()},this.Ah=function(){return n.Ah()},this.v=function(){t&&(t.forEach((function(e){e.v()})),n=a=t=null,u=0)},void 0!==e&&this.m(e)}var P={instance:function(e){var t=D.instance(e.weights);return{dc:!0,pd:function(){return 1},v:function(){t.remove()},Ql:function(){return t},va:function(){p.set("s26"),t.h(1),w.l(!1,!1)}}}},C={instance:function(e){var t=e.fromLayerSize,a=D.instance(e.weights);return{dc:!0,pd:function(){return t},v:function(){a.remove()},va:function(t){if(t.isEnabled){p.set("s24"),t.Cm.h(3);for(var n=Math.min(t.yd.length,t.depth),u=0;u<n;++u)t.yd[u].pk(4+u)}else p.set("s23");p.G("u18",e.toLayerSize),p.G("u19",e.fromLayerSize),a.h(1),w.l(!1,!1)}}}},L={instance:function(e){for(var t=e.fromLayerSize,a=e.toLayerSize,n=e.toSparsity,u=n*a,i=u/t,r=t/a,o=0,c=0,v=Array(n*a*n*a*4),l=Array(n*a*n*a*4),s=Array(t*t),f=0;f<s.length;++f)s[f]=0;f=Math.floor(n/2);for(var m=.5/a,h=.5/t,g=.5/u,d=0;d<a;++d)for(var b=Math.round(d*r),x=0;x<a;++x){var y=Math.round(x*r),E=d/a,_=x/a;E+=m,_+=m;for(var F=0;F<n;++F){var T=b+F-f;0>T&&(T+=t),T>=t&&(T-=t);for(var A=0;A<n;++A){var R=o/u,z=c/u,M=y+A-f;0>M&&(M+=t),M>=t&&(M-=t);var j=T/t,P=M/t;z=1-z-1/u,j+=h,P+=h,R+=g,z+=g;var C=d*n+F,L=x*n+A;v[4*(C=(L=a*n-L-1)*a*n+C)]=R,v[4*C+1]=z,v[4*C+2]=j,v[4*C+3]=P,P=s[M*t+T]++,l[4*(M=(M=t*i-1-(M=M*i+(P-(C=P%i))/i))*t*i+(j=T*i+C))]=R,l[4*M+1]=z,l[4*M+2]=E,l[4*M+3]=_,++o>=u&&(o=0,++c)}}}s=null;var B=D.instance(e.weights);delete e.weights.data;var k=D.instance({width:u,isFloat:!0,array:new Float32Array(l),isPot:!0});l=null;var O=D.instance({width:u,isFloat:!0,array:new Float32Array(v),isPot:!0});return v=null,{dc:!0,pd:function(){return i},v:function(){k.remove(),O.remove(),B.remove()},va:function(){p.set("s22"),B.h(1),O.h(2),w.l(!1,!1)}}}},B={instance:function(e){var t=e.kernelsCount,a=e.toSparsity,n=a*e.toLayerSize/e.fromLayerSize,u=e.inputScale||[1,1],i=D.instance(e.weights);return{dc:!0,pd:function(){return n},zp:function(){return a},Ql:function(){return i},v:function(){i.remove()},va:function(){p.set("s25"),p.kg("u26",u),p.G("u24",t),p.G("u25",a),p.G("u18",e.toLayerSize),p.G("u19",e.fromLayerSize),i.h(1),w.l(!1,!1)}}}},k={instance:function(e,t){var a=e.fromLayerSize,n=e.toLayerSize,u=e.toSparsity,i=e.stride?e.stride:1,r=u*n/a,o=n<a,c=a/n,v=D.instance(e.weights),l="s47"+[a.toString(),n.toString(),u.toString(),i.toString(),t].join("_");return p.kl(l)||(e=function(e){switch(e){case"relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case"elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case"elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case"arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case"copy":return"";default:return!1}}(t),n=[{type:"1f",name:"u18",value:n},{type:"1f",name:"u30",value:i}],o&&n.push({type:"1f",name:"u19",value:a}),a=[(o?r:u).toFixed(1),e],o&&a.push(c.toFixed(1)),p.Zl(o?"s41":"s40",l,a),p.j(l,n.concat([{type:"1i",name:"u16",value:0},{type:"1i",name:"u3",value:1},{type:"1i",name:"u15",value:3}]))),{dc:!1,pd:function(){return r},v:function(){v.remove()},va:function(){p.set(l),v.h(3),w.l(!1,!1)}}}},O={instance:function(e){var t=e.ri?e.ri:3,a=e.Sh?e.Sh:64,n=e.wi?e.wi:64,u=!!e.wd;e={isFloat:!1,width:a,isPot:!1,isFlipY:!1};var i=D.instance(e),r=D.instance(e),o=D.instance(e),c=D.instance(e),v=D.instance({isFloat:!0,width:n,isPot:!1,isFlipY:!1}),l=1/a;return{process:function(e){p.set("s37"),c.o(),w.l(u,!1),p.set("s38");for(var a=0;a<t;++a)i.o(),p.N("u10",l,0),w.l(u,!1),o.o(),c.h(0),w.l(u,!1),r.o(),i.h(0),p.N("u10",0,l),w.l(u,!1),c.o(),o.h(0),w.l(u,!1),a!==t-1&&r.h(0);p.set("s39"),v.o(),e.h(0),r.h(1),c.h(2),w.l(u,!1),v.h(0)},Ye:function(){return v}}}},S={instance:function(e){function t(e){return D.instance({isFloat:e,width:a.sa,isPot:!1,isFlipY:!1})}var a=Object.assign({zj:.1,Tg:9,sa:128,gain:1,wd:!1},e),n=t(!1),u=[t(!1),t(!1),t(!1)],i=[t(!1),t(!1),t(!1)],r=t(!0),o=[n,i[0],i[1]];e="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u31;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u31*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",Math.round((a.Tg-1)/2).toFixed(2)).replace("2.2222",(1/a.sa).toFixed(6));var c="uniform sampler2D u32,u33,u34,u35;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u32,vv0).rgb;float c=texture2D(u33,vv0).r,d=texture2D(u34,vv0).r,i=texture2D(u35,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(j-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",a.zj.toFixed(4)).replace("2.2222",a.gain.toFixed(4)),v={u1:0};return p.pe([{id:"s49",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",u:v,i:["u1"],precision:"lowp"},{id:"s50",name:"_",g:e,u:v,i:["u1","u31"],precision:"lowp"},{id:"s51",name:"_",g:c,u:{u32:0,u33:1,u34:2,u35:3},i:["u32","u33","u34","u35"],precision:"highp"}]),{process:function(){p.set("s49"),n.M(),w.l(a.wd,!1),p.set("s50");for(var e=0;3>e;++e)p.N("u31",1,0),u[e].o(),o[e].h(0),w.l(!1,!1),p.N("u31",0,1),i[e].o(),u[e].h(0),w.l(!1,!1);p.set("s51"),r.o(),n.h(0),i[0].h(1),i[1].h(2),i[2].h(3),w.l(!1,!1),r.h(0)},Ye:function(){return r}}}};function N(e,t){e[t]=!0,e.setAttribute(t,"true")}function U(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function I(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&-1===e.indexOf("chrome")}function G(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}function X(e){if(!e)return e;var t=null;if(e.video){var a=function(e){return e&&"object"==typeof e?Object.assign({},e):e};t={},void 0!==e.video.width&&(t.width=a(e.video.width)),void 0!==e.video.height&&(t.height=a(e.video.height)),void 0!==e.video.facingMode&&(t.facingMode=a(e.video.facingMode))}return t={audio:e.audio,video:t},void 0!==e.deviceId&&H(t,e.deviceId),t}function H(e,t){t&&(e.video=e.video||{},e.video.deviceId={exact:t},e.video.facingMode&&delete e.video.facingMode)}function Y(e){var t=e.video.width;return e.video.width=e.video.height,e.video.height=t,e}function W(e){if(e.volume=0,N(e,"muted"),I()){if(1===e.volume){var t=function(){e.volume=0,window.removeEventListener("mousemove",t,!1),window.removeEventListener("touchstart",t,!1)};window.addEventListener("mousemove",t,!1),window.addEventListener("touchstart",t,!1)}setTimeout((function(){e.volume=0,N(e,"muted")}),5)}}function q(e,t,a,n){function u(e){i||(i=!0,a(e))}var i=!1;navigator.mediaDevices.getUserMedia(n).then((function(a){function n(){setTimeout((function(){if(e.currentTime){var n=e.videoHeight;if(0===e.videoWidth||0===n)u("VIDEO_NULLSIZE");else{var r={Dk:null,og:null,Em:null};try{var o=a.getVideoTracks()[0];o&&(r.Em=o,r.Dk=o.getCapabilities(),r.og=o.getSettings())}catch(e){}I()||U()?e.parentNode&&null!==e.parentNode?(i||t(e,a,r),setTimeout((function(){e.play()}),100)):(document.body.appendChild(e),W(e),setTimeout((function(){e.style.transform="scale(0.0001,0.0001)",e.style.position="fixed",e.style.bottom="0px",e.style.right="0px",W(e),setTimeout((function(){e.play(),i||t(e,a,r)}),100)}),80)):i||t(e,a,r)}}else u("VIDEO_NOTSTARTED")}),700)}void 0!==e.srcObject?e.srcObject=a:(e.src=window.URL.createObjectURL(a),e.videoStream=a),W(e),e.addEventListener("loadeddata",(function t(){e.removeEventListener("loadeddata",t,!1);var a=e.play();W(e),void 0===a?n():a.then((function(){n()})).catch((function(){u("VIDEO_PLAYPROMISEREJECTED")}))}),!1)})).catch((function(e){u(e)}))}function V(e,t,a,n){if(e)if(G()){if(n&&n.video&&U()){var u=function(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return e&&e.length&&2<e.length?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:[0,0,0]}();0!==u[0]&&(12>u[0]||12===u[0]&&2>u[1])&&function(e){try{var t=!!window.matchMedia("(orientation: portrait)").matches}catch(e){t=window.innerHeight>window.innerWidth}if(t&&e&&e.video){t=e.video.width;var a=e.video.height;t&&a&&t.ideal&&a.ideal&&t.ideal>a.ideal&&(e.video.height=t,e.video.width=a)}}(n)}N(e,"autoplay"),N(e,"playsinline"),n&&n.audio?e.volume=0:N(e,"muted"),q(e,t,(function(){!function n(u){if(0===u.length)a("INVALID_FALLBACKCONSTRAINTS");else{var i=u.shift();q(e,t,(function(){n(u)}),i)}}(function(e){function t(e){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort((function(t,a){return Math.abs(t-e)-Math.abs(a-e)}))}function a(t){t=t(X(e)),u.push(t),n(t)}function n(e){if(e.video&&e.video.facingMode&&e.video.facingMode.exact){var t=e.video.facingMode.exact;delete(e=X(e)).video.facingMode.exact,e.video.facingMode.ideal=t,u.push(e)}}var u=[];if(!e||!e.video)return u;if(n(e),e.video.width&&e.video.height){if(e.video.width.ideal&&e.video.height.ideal){var i=t(e.video.width.ideal).slice(0,3),r=t(e.video.height.ideal).slice(0,3),o={},c=0;for(o.fb=void 0;c<i.length;o={fb:o.fb},++c){o.fb=i[c];var v={},l=0;for(v.eb=void 0;l<r.length;v={eb:v.eb},++l)if(v.eb=r[l],o.fb!==e.video.width.ideal||v.eb!==e.video.height.ideal){var s=Math.max(o.fb,v.eb)/Math.min(o.fb,v.eb);s<4/3-.1||s>16/9+.1||a(function(e,t){return function(a){return a.video.width.ideal=e.fb,a.video.height.ideal=t.eb,a}}(o,v))}}}a((function(e){return Y(e)}))}return e.video.width&&e.video.height&&(e.video.width.ideal&&e.video.height.ideal&&a((function(e){return delete e.video.width.ideal,delete e.video.height.ideal,e})),a((function(e){return delete e.video.width,delete e.video.height,e}))),e.video.facingMode&&(a((function(e){return delete e.video.facingMode,e})),e.video.width&&e.video.height&&a((function(e){return Y(e),delete e.video.facingMode,e}))),u.push({audio:e.audio,video:!0}),u}(n))}),n)}else a&&a("MEDIASTREAMAPI_NOTFOUND");else a&&a("VIDEO_NOTPROVIDED")}var K=function(){function e(t,a,n,u,i,r,o){if(!m)if(o===r.length)i();else{switch(r[o]){case"A":n();break;case"D":t();break;case"S":return void a().then((function(c,v){h.pj(),e(t,a,n,v?null:u,i,r,++o)})).catch((function(e){console.log("An error occurred in the WebAR loop: ",e),i()}));case"R":u&&u()}e(t,a,n,u,i,r,++o)}}var t={n:5,Mf:1,hi:0,ld:[35,49],gd:[2,200],k:.7,ko:200,Nm:.05},a=-1,n=null,u=-1,i=-1,r=0,o=-1,c=-1,v=0,l=0,s=t.gd[1],f=Math.log(2),m=!0,h={T:function(){switch(a){case-1:return-1;case 0:return c+n.hi;case 1:return v}},Bh:function(e){return Math.pow(Math.min(Math.max(o,0),n.n-1)/(n.n-1),e||1)},m:function(e){n=Object.assign({},t,e),o=c=n.Mf,a=0,h.reset()},pj:function(e){e=(void 0===e?Date.now():e)||0;var t=Math.min(Math.max(e-l,n.gd[0]),n.gd[1]);s=t,l=e;var a=-1===u?0:n.k;u=Math.min(Math.max(1e3/t,5),120)*(1-a)+u*a,e-i>n.ko&&5<++r&&(t=n.k,o=o*(1-t)+(u<n.ld[0]?c-1:u>n.ld[1]?c+1:c)*t,Math.abs(o-c)>1-n.Nm&&((t=Math.min(Math.max(Math.round(o),0),n.n-1))!==c&&(o=c=t,u=(n.ld[1]-n.ld[0])/2)),i=e)},$f:function(t,a,n,u,i,r){m=!1,e(t,a,n,u,i,r,0)},stop:function(){m=!0},Gn:function(e){v=e,a=1},jo:function(){a=0,h.reset()},reset:function(){s=t.gd[1],i=u=-1,r=0},hq:function(e,t,a){return(1-(a=Math.exp(-f*s/a)))*e+a*t},qp:function(){return s}};return h}(),J=function(){function e(e,t){var a=e[0]-.5;e=e[1]-.5;var n=t[0]-.5;return a*a+e*e-(n*n+(t=t[1]-.5)*t)}var t={si:4,Fd:[1.5,1.5,2],pa:[.1,.1,.1],Oi:1,sa:-1,hf:-1,bo:2,Km:1,ag:!0,il:.8},a=null,n=[],u=[],i=[],r=[0],o=[.5,.5,1],c=null,v=0,l=[0,0,0];return{m:function(r){a=Object.assign({},t,r),n.splice(0),u.splice(0),i.splice(0),v=0,r=a.Fd[0]*a.pa[0];var o=a.Fd[1]*a.pa[1],l=1/(1+a.Fd[2]*a.pa[2]),s=a.Oi*Math.min(a.sa,a.hf),f=s/a.sa;s/=a.hf;var m=.5*a.il;m*=m;for(var h=0;h<a.si;++h){var g=[];u.push(g);var d=Math.pow(l,h),b=f*d,x=s*d;d=b*a.Km,i.push(d);for(var p=b*r,y=x*o,E=1+(1-(b/=2)-b)/p,_=1+(1-(x/=2)-x)/y,D=0;D<_;++D)for(var F=x+D*y,w=F-.5,T=0;T<E;++T){var A=b+T*p,R=A-.5;R*R+w*w>m||(A=[A,F,d],n.push(A),g.push(A))}a.ag&&g.sort(e),c=n}a.ag&&n.sort(e)},get:function(e){var t=c.length;if(0===t)return o;for(;e>=r.length;)r.push(0);r[e]>=t&&(r[e]=0);var n=c[Math.floor(r[e])%t];return r[e]=(r[e]+1/a.bo)%t,0===v?n:(l[0]=n[0],l[1]=n[1],l[2]=v,l)},Np:function(e){e>=r.length||(r[e]=Math.floor(Math.random()*c.length))},$p:function(e){if(0===(v=e))c=n;else{for(var t=i.length,a=t-1,r=0;r<t;++r)if(i[r]<=e){a=r;break}c=u[a]}},reset:function(){for(var e=n.length/r.length,t=0;t<r.length;++t)r[t]=Math.floor(t*e);v=0,c=n}}}(),Z=function(){function e(){a(m+s.If),h.port.postMessage("DONE")}function t(){x.Uc=0===s.ya?d(a):d(n)}function a(e){b.Rb&&null!==f&&(e-=m,e=Math.min(Math.max(e,s.oh[0]),s.oh[1]),m+=e,i(),p.isEnabled&&p.xc&&b.Ha&&m-p.tf>s.Og&&(function(){p.xc=!1;var e=p.Qa,t=p.sd,a=p.td,n=p.za;e.uniform1f(p.Lh,Math.random()),p.Sb?t.beginQueryEXT(n,a):e.beginQuery(n,a),e.drawElements(e.POINTS,1,e.UNSIGNED_SHORT,0),p.Sb?t.endQueryEXT(n):e.endQuery(n),A.flush(),new Promise((function(e,t){v((function(a){if(a){a=p.Qa;var n=p.sd,u=p.td;a=p.Sb?n.getQueryObjectEXT(u,n.QUERY_RESULT_EXT):a.getQueryParameter(u,a.QUERY_RESULT),e(a)}else t()}))})).then((function(e){0===e||isNaN(e)?(p.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",e)):(e=s.Fj*s.Ng*1e3/e,p.be=(p.be+1)%s.kc,p.uf[p.be]=e,++p.fi>s.kc&&(p.xd.set(p.uf),p.xd.sort((function(e,t){return e-t})),e=p.xd[Math.floor(s.kc/2)],p.kd=Math.max(p.kd,e),s.Mg(e/p.kd)),p.xc=!0)})).catch((function(){p.xc=!0}))}(),p.tf=m),f(m))}function n(e){b.Rb&&(x.timeout=setTimeout(a.bind(null,e),s.ya))}function u(){f=null,b.Rb=!1,i()}function i(){x.Uc&&(window.cancelAnimationFrame(x.Uc),x.Uc=null),x.timeout&&(window.clearTimeout(x.timeout),x.timeout=null)}function r(e){e&&!b.Ha?(b.Ha=!0,g&&K.jo(),h.port.postMessage("STOP"),A.qj(!0),t()):!e&&b.Ha&&(b.Ha=!1,g&&K.Gn(1),A.qj(!1),h.port.postMessage("START"))}function o(e){e.target.hidden?E():y()}function c(e,t,a){return t=e.createShader(t),e.shaderSource(t,a),e.compileShader(t),t}function v(e){var t=p.Qa,a=p.sd,n=p.td;n=p.Sb?a.kp(n,a.QUERY_RESULT_AVAILABLE_EXT):t.getQueryParameter(n,t.QUERY_RESULT_AVAILABLE),t=t.getParameter(a.GPU_DISJOINT_EXT),n?e(!t):setTimeout(v.bind(null,e),.1)}var l={Xh:!0,oh:[1,200],If:20,ya:0,Ng:50,Fj:240,Og:3e3,kc:3,Mg:null},s=null,f=null,m=0,h=null,g=!1,d=null,b={Ga:!1,Ha:!0,sf:!1,rf:!1,qf:!1,Rb:!1},x={Uc:null,timeout:null},p={isEnabled:!1,xc:!1,Qa:null,sd:null,td:null,za:null,Lh:null,Sb:!0,tf:0,fi:0,uf:null,xd:null,be:0,kd:0},y=r.bind(null,!0),E=r.bind(null,!1),_={m:function(t){if(s=Object.assign(l,t),Object.assign(b,{Ha:!0,Ga:!0,Rb:!1}),d=window.requestPostAnimationFrame||window.requestAnimationFrame,null!==s.Mg){(t=document.createElement("canvas")).setAttribute("width","1"),t.setAttribute("height","1");var a={antialias:!1};if(a=(t=t.getContext("webgl2",a)||t.getContext("webgl",a)).getExtension("EXT_disjoint_timer_query")||t.getExtension("EXT_disjoint_timer_query_webgl2")){p.Qa=t,p.sd=a,p.isEnabled=!0,p.Sb=!!a.beginQueryEXT;var n=c(t,t.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),u=c(t,t.FRAGMENT_SHADER,"precision lowp float;uniform float u36;void main(){vec4 a=u36*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",s.Ng.toString())),i=t.createProgram();t.attachShader(i,n),t.attachShader(i,u),t.linkProgram(i),n=t.getAttribLocation(i,"a0"),p.Lh=t.getUniformLocation(i,"u36"),t.useProgram(i),t.enableVertexAttribArray(n),i=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),t.STATIC_DRAW),t.vertexAttribPointer(n,4,t.FLOAT,!1,16,0),i=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),t.STATIC_DRAW),t.disable(t.DEPTH_TEST),t.disable(t.DITHER),t.disable(t.STENCIL_TEST),t.viewport(0,0,1,1),i=p.Sb?a.createQueryEXT():t.createQuery(),p.td=i,p.za=a.TIME_ELAPSED_EXT||t.TIME_ELAPSED,p.tf=-s.Og,p.uf=new Float32Array(s.kc),p.xd=new Float32Array(s.kc),p.kd=0,p.be=0,p.fi=0,p.xc=!0}}if(s.Xh){t=!1;try{if("undefined"==typeof SharedWorker){var r=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+s.If.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),v=new Worker(r);v.addEventListener("message",e),h={Fi:v,port:v},b.sf=!0}else{var f=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+s.If.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),m=new SharedWorker(f);m.port.start(),m.port.addEventListener("message",e),h={Fi:m,port:m.port},b.rf=!0}t=!0}catch(e){}t&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",o):(window.addEventListener("blur",E),window.addEventListener("focus",y)),window.addEventListener("pagehide",E),window.addEventListener("pageshow",y),b.qf=!0)}g=void 0!==K},v:function(){u(),b.qf&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",o):(window.removeEventListener("blur",E),window.removeEventListener("focus",y)),window.removeEventListener("pagehide",E),window.removeEventListener("pageshow",y),b.qf=!1),b.rf?(h.port.close(),b.rf=!1):b.sf&&(h.Fi.terminate(),b.sf=!1),Object.assign(b,{Ha:!0,Ga:!1,Rb:!1}),f=null},Kp:function(){return b.Ha},update:function(e){Object.assign(s,e)},$f:function(e){b.Ga||_.m({}),i(),b.Rb=!0,f=e,b.Ha&&t()},stop:u};return _}(),$=function(){return Date.now()},Q=function(){function e(e){switch(y){case p.movePinch:var t=-e.deltaY;0===E&&m("pinch",-1,.001*t,null)}e.deltaY,e.preventDefault()}function t(e){if(-1!==E)switch(y){case p.swipe:if(1!==E)break;c(),l(e,D);var t=D[0]-_[0];u(t),e=t/(20*d.offsetWidth/100),m("swipeMove",Math.min(Math.max(e,-1),1),e,null);break;case p.movePinch:if(2===E||3===E){l(e,D),t=D[0]-_[0];var a=D[1]-_[1];2===E?10>(O+=Math.sqrt(t*t+a*a))?(_[0]=D[0],_[1]=D[1]):(U||(U=!0,m("moveStart",null,null,null)),S[0]=t,S[1]=a,w[0]=t-F[0],w[1]=a-F[1],m("move",S,w,null),F[0]=S[0],F[1]=S[1]):3===E&&(m("pinch",e=v(e)/N,e-I,null),I=e)}}}function a(e){if(-1!==E)switch(y){case p.swipe:if(1!==E)break;c(),l(e,D);var t=0>(e=D[0]-_[0]);(e=20<100*Math.abs(e)/d.offsetWidth)&&t?m("swipeLeft",T,null,null):e&&!t&&m("swipeRight",T,null,null);var a=function(){setTimeout((function(){o(),E=0,m("swipeEnd",null,null,null)}),202)};e?(e=function(){var e=(t?-1:1)*d.width,n=(t?1:-1)*e/d.width;T.style.transitionDuration=400..toString()+"ms",T.style.left=(j[0]+e).toString()+"px",T.style.top=j[1].toString()+"px",T.style.transform="rotate( "+n.toString()+"rad )",a()},M?e():P=e):(T.style.transitionDuration=200..toString()+"ms",T.style.opacity="0",T.style.left=j[0].toString()+"px",T.style.top=j[1].toString()+"px",T.style.transform="",a()),E=-1;break;case p.movePinch:2!==E&&3!==E||(E===E.move?m("moveEnd",null,null,null):3===E&&m("pinchEnd",null,null,null),E=0)}}function n(e){if(e.preventDefault(),-1!==E)switch(y){case p.swipe:if(0!==E)break;c(),E=1,C=setTimeout((function(){o(),C=null,1===E&&(E=0,m("swipeEnd",null,null,null))}),1e3),i(),m("swipeStart",null,null,null),m("swipeGetCanvas",T,R,A),l(e,_);break;case p.movePinch:0!==E?2!==E||U||void 0===e.changedTouches&&void 0===e.touches||20<(N=v(e))&&(E=3,I=1,m("pinchStart",null,null,null)):3!==E&&(U=!1,l(e,_),F[0]=0,F[1]=0,E=2,O=0)}}function u(e){var t=0>e;T.style.left=j[0]+e+"px",T.style.transformOrigin=t?B:L,T.style.transform="rotate( "+((t?1:-1)*e/d.width).toString()+"rad )"}function i(){M=!1;var e=d.getBoundingClientRect();j[0]=e.left,j[1]=e.top,T.width=Math.round(d.width/4),T.height=Math.round(d.height/4),A.width=T.width,A.height=T.height,T.style.width=d.offsetWidth+"px",T.style.height=d.offsetHeight+"px",T.style.left=j[0]+"px",T.style.top=j[1]+"px",setTimeout(r,0)}function r(){R.drawImage(d,0,0,T.width,T.height),z.drawImage(T,0,0),M=!0,document.body.appendChild(T),P&&(P(),P=!1)}function o(){T.style.transitionDuration="0ms",T.style.opacity="1",T.style.transform="",M&&(document.body.removeChild(T),M=!1)}function c(){C&&(window.clearTimeout(C),C=null)}function v(e){return s(e,G,0),s(e,X,1),Math.sqrt(G[0]*G[0]+X[0]*X[0])}function l(e,t){void 0!==e.changedTouches||void 0!==e.touches?s(e,t,0):(t[0]=e.pageX,t[1]=e.pageY)}function s(e,t,a){e.touches.length>a?(t[0]=e.touches[a].pageX,t[1]=e.touches[a].pageY):(t[0]=e.changedTouches[a].pageX,t[1]=e.changedTouches[a].pageY)}function f(e,t){d.removeEventListener(e,t,!1),T.removeEventListener(e,t,!1),d.addEventListener(e,t,!1),T.addEventListener(e,t,!1),0===x.filter((function(a){return a.type===e&&a.lb===t})).length&&x.push({type:e,lb:t})}function m(e,t,a,n){b[e].forEach((function(e){e.lb(t,a,n)}))}function h(e){return e[0]+"% "+(100-e[1]).toString()+"%"}var g=!1,d=null,b={swipeStart:[],swipeEnd:[],swipeLeft:[],swipeRight:[],swipeMove:[],swipeGetCanvas:[],pinch:[],pinchStart:[],pinchEnd:[],move:[],moveStart:[],moveEnd:[]},x=[],p={idle:0,swipe:1,movePinch:2},y=p.idle,E=0,_=[0,0],D=[0,0],F=[0,0],w=[0,0],T=document.createElement("canvas"),A=document.createElement("canvas"),R=T.getContext("2d"),z=A.getContext("2d");T.style.position="fixed",T.style.zIndex="800",T.style.cursor="move",T.style.pointerEvents="none",T.className="swipeImage",T.setAttribute("draggable",!1);var M=!1,j=[0,0],P=null,C=null,L=h([50,100]),B=h([50,0]),k=null,O=0,S=[0,0],N=0,U=!1,I=1,G=[0,0],X=[0,0],H={init:function(u){if(!g)return d=u.oa,f("mousedown",n),f("mouseup",a),f("mouseout",a),f("mousemove",t),f("mousemove",t),f("wheel",e),f("touchstart",n),f("touchend",a),f("touchmove",t),g=!0,H;H.switch_canvas(u.oa)},switch_canvas:function(e){if(g){if(d!==e){var t=(x.forEach((function(e){d.removeEventListener(e.type,e.lb,!1)})),x.splice(0,x.length));for(var a in d=e,function(e){e.forEach((function(e){f(e.type,e.lb)}))}(t),b)for(t=(e=b[a]).length-1;0<=t;--t)e[t].en&&e.splice(t,1)}}else H.init({oa:e})},get_mode:function(){for(var e in p)if(p[e]===y)return e;return!1},switch_mode:function(e){g&&void 0!==p[e]&&(e=p[e],y!==e&&(c(),y=e,E=0))},add_listener:function(e,t,a){return b[e].push({lb:t,en:void 0!==a&&a}),H},remove_listener:function(e){return b[e].splice(0,b[e].length),H},animate_swipe:function(e,t){k&&(clearInterval(k),k=null),i();var a,n=d.width/(t/1e3)*("left"===e?-1:1),r=0,c=Date.now();k=setInterval((function(){k&&(a=Date.now(),u(r+=(a-c)/1e3*n),c=a,Math.abs(r)>.75*d.width&&k&&(clearInterval(k),k=null,o()))}),16)}};return H}();window.CanvasListeners=Q;var ee={VERSION:"3.5.5",Rc:[],Qc:[],le:!1,ke:!1,me:!1,ready:!1,isBusy:!1},te={idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,FOVdesktop:60,rotate:0,FOVmobile:45,ie:10,he:8e3},ae={Kf:"models3D",Gf:"materials",ho:"tweakers",neuralNetworkPath:"built/jeefitNNC_60_0.json",neuralNetworkVersion:"60_0",aa:"",ta:"",je:"",ya:0,Pj:20,width:1024,height:1024,Mm:[2,3.5],Mi:300,Oc:[1,6],scanOverlapFactors:[2,2,3],scanNScaleLevels:2,scanScale0Factor:.7,pa:[.2,.2,.3],hc:[[.8,.5],[.8,.5],[1,1]],eo:30,Qk:1.1,Wm:[.2,.6],Vm:1,fo:[.01,.035],on:[.003,.007],vg:[0,.6],ml:.2,Va:[.698111,1.047166,.122169],oj:[-.1,0,0],Id:[0,-62,8],Rm:1.03,Ba:[0,-60,0],Lf:50,tc:.4,Se:73,qe:[.02,1],Nj:[4,1],tk:[0,.5],qn:.15,nn:1,jn:[.5,4],vo:20,ip:!1,vc:145,gf:-18,ef:20,ff:3,Ac:[-110,0],bc:1,fj:.4,gj:3,Rd:[0,0,0],cc:[1.1,1],$c:0,He:.95,Ge:90,Fe:50,Vc:30,Eb:.05,cf:!0,Ad:!0,Df:"images/masks/target.jpg",Ef:!1,zd:[1/255,175/255,236/255,0],Bd:-.001,Cf:3.14,ue:0,te:"images/masks/burka.png",re:Math.PI-Math.PI/4,De:Math.PI/4,Zf:[.3,.2,.1],Ub:1,ii:[700,90],wm:[.2,.04],wo:"images/backgrounds/viewer3D.png",Lg:[0,0,0],Kg:[0,15,60],fe:.3,Eo:50,Ao:!!i&&u,Bo:!!i&&u,Do:1e3,Go:1e3,Co:40,zo:[0,0,-400],li:.1,Am:.5,mi:[.5,1.5],Cd:30,zm:!0},ne=Object.assign({},ae);e.fh=!0,e.gh=!0,e.eh=!1,e.Ia=!0;var ue={cg:3.5,Wb:"images/debug/picsou.png",Kd:45,zf:.785,Af:.3925,Bf:5,xf:2,yf:0,wf:0,xo:"images/backgrounds/bg1.jpg",yo:"images/backgrounds/bg1_light.jpg",Bj:1,Cj:2};ne.fx=[4,50],ne.Ac=[-110,0],ne.fj=.25,ne.gj=3,ne.Rd=[0,-2,20],ne.cc=[.95,1],e.Ec=2.1289,e.Tf=1,ue.cg=2.5858,ue.zf=.4388,ue.Af=.118,ue.Wb="images/debug/hdri2.png",ue.Kd=180,ue.bg=.8065,ue.Bf=5.3887,ue.xf=.5351,ue.yf=-.3019,ue.wf=0,ue.Bj=3.5288,ue.Cj=6.2168;var ie,re={element:null,bh:null,ja:null,Bg:null,deviceId:-1,Kb:-1,fd:0,Di:null,ee:-1},oe=Object.assign({},re),ce=null,ve=-1,le=-1,se=ne.Mm,fe=window.devicePixelRatio?window.devicePixelRatio:1;function me(){var n,u;function i(){var e=ie.Qe;ve=e*ne.width,le=e*ne.height}function r(){2===++H&&(function(){N.Aj=D.instance({isPot:!0,isLinear:!0,isFloat:!1,url:ne.aa+ne.ta+ne.wo});var e={isPot:!1,isLinear:!0,isFloat:!1,width:ve,height:le};N.wb=D.instance(e),N.Nc=D.instance(e),_.mj.push(N.wb,N.Nc),N.pf=D.instance({isPot:!0,isFloat:!1,width:P.Eh()}),ne.Ad&&(De=D.instance({isPot:!1,isFloat:!1,isLinear:!0,url:(ne.Ef||-1!==ne.Df.indexOf("//")?"":ne.aa+ne.ta)+ne.Df}))}(),h(),g(),Ue.kj(),ee.load_model=function(t,a,n,u,i){if(ee.isBusy)return!1;if(ee.isBusy=!0,e.model)ee.set_model(t,(function(){var e=a;if(i){e=a.slice(0);var t,u=ce.Dl().map((function(e){return e.toLowerCase()}));for(t in i){var r=u.indexOf(t.toLowerCase());-1!==r&&(e[r]=i[t])}}ee.set_materials(e,(function(){ee.isBusy=!1,n&&n()}))}),(function(){ee.isBusy=!1}));else{var r=ne.aa+ne.ta+ne.Gf+"/";u=a.map((function(e){return r+e})),e.model={url:ne.aa+ne.ta+ne.Kf+"/"+t,Cc:u,Cb:!1,Bb:!1},Ue.ji(e.model,(function(){ee.isBusy=!1,n&&n()}))}return!0},ee.set_offset=function(e){k=e,Ue.Zd()},ee.set_scale=function(e){O=e,Ue.$d()},ee.set_rx=function(e){S=e,Ue.wj()},ee.switch_shadow=ke.tg,ee.switch_bgBlur=ke.sg,ee.set_zoom=ke.fg,ee.is_viewer3D=function(){return me===fe.Da},ee.switch_viewer3D=function(e,t){if(me===fe.ec||me===fe.fc||me===fe.V&&!e||me===fe.Da&&e||pe)return!1;if(me===fe.xa)return be!==fe.Da||e?!(be!==fe.V||!e||(be=fe.Da,ke.ra(X.xb),ke.Xa(1),t&&t(),0)):(be=fe.V,ke.ra(X.bb),ke.Xa(0),t&&t(),!0);var a=0,n=-1,u=0;me===fe.V?(me=fe.ec,n=ne.Do):me===fe.Da&&(me=fe.fc,n=ne.Go);var i=$();return de=setInterval((function(){var e=$();1<=(a+=(e-i)/n)&&(a=1,me===fe.ec?(me=fe.Da,ke.ra(X.xb)):(me=fe.V,ke.ra(X.bb)),t&&t(),clearInterval(de),de=null);var r=me===fe.fc||me===fe.V?1-ne.Bo(a):ne.Ao(a);ke.Xa(r),me!==fe.fc&&me!==fe.ec||0!=u++%2||(ke.ra(X.Jf),X.Jf.On(r)),i=e}),.016),!0},ee.capture_image=function(e,t,a,n){ye=e,pe=!0,"undefined"==typeof isAllocate&&(a=!1),(n=void 0!==n&&n)&&ke.Td(!1),f(),Ee=function(){ke.Ii(0),y.flush();var e=E.Ch(a);t(e),n&&ke.Td(!0)}},ee.capture_detection=function(e,t){ye=e,pe=!0;var a=null===N.yb?N.wb:N.Nc;Ee=function(){var e=Ze.instance({Ee:U.Lc.clone(),pi:ce.Ih(),oi:ce.Gh(),background:a.clone(),Ta:Oe.gb.Ol().clone(),Ff:Be});t(e)}},ee.process_offlineRendering=function(e,t,a,n,u){function i(){if(2==++r){_e.Ta||(_e.Ta=Ge.instance({})),e.Fh()&&(_e.Ta.$i(e.Fh()),ke.ra(_e.Ta)),_e.Ie.set(),o(),_e.Ie=!1,Ue.mn(!!n&&function(){E.mb().parentNode.removeChild(ee.zb)});var t=E.Ch(!1);setTimeout((function(){u(t)}),1)}}Ue.pn(),n&&(ee.Ij.drawImage(E.mb(),0,0),E.mb().parentNode.insertBefore(ee.zb,E.mb()),ee.zb.setAttribute("class","jeefitMask")),_e.Ie=e;var r=0;ee.set_model(t,(function(){i(),ee.set_materials(a,(function(){setTimeout(i,1)}))}))},ee.serialize_detection=function(e){return e.Gc()},ee.unserialize_detection=function(e,t,a){return Ze.Mc(e,t,a)},ee.do_instantDetection=function(e,t){ge.m(U.Lc),ge.start(e,t)},ee.relieve_DOM=function(e,t){return!_.Qb&&(v(t||160),W=!1,M&&clearTimeout(M),M=setTimeout((function(){v(ne.ya),M=!1,s()}),e),!0)},ee.switch_slow=function(e,t){return!_.Qb&&(void 0===t&&(t=ne.Pj),M&&(v(ne.ya),s(),clearTimeout(M),M=!1),e?W=!1:s(),v(e?t:ne.ya),!0)},ee.switch_deepSleep=function(e){return xe!==e&&(xe=!1,ee.switch_sleep(e),xe=e,!0)},ee.switch_sleep=function(e,t){function a(){ee.isBusy=!1,e?(be=me,me=fe.xa):(me=be,o())}if(_.Qb||xe||ee.isBusy)return t?Promise.reject():null;if(e&&me===fe.xa||!e&&me!==fe.xa)return!!t&&Promise.resolve(!1);de&&(clearInterval(de),de=null),me===fe.fc?(me=fe.V,ke.ra(X.bb),ke.Xa(0)):me===fe.ec&&(me=fe.Da,ke.ra(X.xb),ke.Xa(1)),Z.stop();var n=null;return ee.isBusy=!0,t?n=function(e){var t=oe.element,a=oe.bh;return null===t?Promise.resolve():new Promise((function(n,u){if(t.srcObject&&t.srcObject.getVideoTracks){var i=t.srcObject.getVideoTracks();1!==i.length?u("INVALID_TRACKNUMBER"):(i=i[0],e?V(t,n,u,a):(i.stop(),n()))}else u("BAD_IMPLEMENTATION")}))}(!e).then(a):a(),!t||n},ee.set_modelStandalone=function(e,t){ke.Ud(!1),Ye.instance({url:e.model,Cc:e.materials,Cb:!1,Bb:!1,R:function(e){Me=[0,0,0],je=1,Pe=u=n=0,Ce=ne.Ac,ee.ready&&Ue.ae(),t&&t(),c(e),Ue.qg(),ke.Ud(!0)}})},ee.start_rendering=Ue.qg,ee.update_material=function(e,t){ce&&ce.oo(e,t)},ee.set_model=function(e,t,a){ce&&ce.replace("http"===e.substring(0,4).toLowerCase()?e:ne.aa+ne.ta+ne.Kf+"/"+e,(function(){t&&t(ce.Hk())}),a)},ee.set_tweaker=function(e,t){function n(e){ee.Qg(e),t&&t()}"string"==typeof e?a(ne.aa+ne.ta+ne.ho+"/"+e,n):n(e)},ee.Qg=function(e){e&&(e.preOffset&&(Me=e.preOffset),e.preScale&&(je=e.preScale),e.rx&&(n=e.rx),e.beginBendZ&&(u=e.beginBendZ),e.bendStrength&&(Pe=e.bendStrength),e.maskBranchStartEnd&&(Ce=e.maskBranchStartEnd),ee.ready&&Ue.ae())},ee.set_materials=function(e,t){if(ce){var a=ne.aa+ne.ta+ne.Gf+"/";e=e.map((function(e){var t=e;return"string"==typeof e&&(t=(t=a+e).replace(/([^:])\/\//,"$1/")),t})),ce.gg(e,t)}},ee.Qc.forEach((function(e){e()})),ee.Qc.splice(0),e.model&&!ee.isBusy&&Ue.ji(e.model))}function o(){K.reset(),Z.stop(),l(0)}function c(e){ce&&(ke.fn(ce),ce.remove()),ke.Lj(e),ce=e}function v(e){z=e,Z.update({ya:z})}function l(e){se=-1,pe?se=ye:_e.isEnabled?se=_e.ti:W?(f(),se=me===fe.V?K.T():1):(se=ne.Oc[0],f()),T.ea();for(var a=0;a<se;++a)p.set("s54"),N.pf.M(),N.wb.h(0),U.Dc.h(1),w.l(!1,!1),P.va(N.pf);pe?(Ee(),pe=!1,y.flush(),Z.$f(l)):(ke.animate(e),N.Wf&&I-X.gi>X.lj&&ne.Ub&&me===fe.V&&(T.ea(),X.gi=I,X.Hd.M(),p.set(R.Yh?"s63":"s62"),N.Wf.h(0),w.l(!1,!1),Oe.gb.yj(oe.ja,X.Hd,X.Sd),T.$()),_e.isEnabled||(W&&(K.pj(),a=K.Bh(1),q=t(ne.Nj,a),ne.Ub&&me===fe.V&&(X.lj=t(ne.ii,a),X.Sd=t(ne.wm,a),X.Sd=Math.min(X.Sd,.5))),I=e,me!==fe.xa&&Z.$f(l)))}function s(){I=$(),W=!0}function f(){var e=oe.element.currentTime-Ne;0>e&&(Ne=oe.element.currentTime),1e3*e<ne.vo||(oe.ja.refresh(),Ne+=e,oe.fd=e,G=!0,T.ea(),p.set("s0"),U.Xf.M(),U.Dc.rk(0),w.l(!1,!0),p.set("s52"),N.wb.M(),oe.ja.h(0),w.l(!1,!1),null!==N.yb&&(p.set("s53"),N.Nc.o(),N.wb.h(0),N.yb.h(1),w.l(!1,!1)))}function m(e){if(N.Wf=e,G){G=!1,p.set("s60"),U.Gg.M(),U.ce.h(2);var a=t(ne.tk,K.Bh(.5));p.G("u64",a),U.Xf.h(1),p.G("u65",1e3*oe.fd),w.l(!1,!1),p.set("s61"),U.ce.o(),U.Gg.h(0),w.l(!1,!1)}e.h(0),U.Dc.Wi(1),y.viewport(0,0,1,1),p.set("s55"),p.mg("u44",J.get(0)),w.l(!1,!1),p.set("s56"),y.viewport(1,0,2,1),w.l(!1,!1),U.Ke.M(),p.set("s57"),p.N("u55",ne.qe[0]*q,ne.qe[1]),U.Dc.h(0),U.Gd.h(1),w.l(!1,!1),p.set("s58"),U.Gd.Wi(1),U.Ke.h(0),U.ce.h(2),U.Dc.h(3),w.l(!1,!1),p.set("s59"),U.Gd.h(0),U.Lc.o(),w.l(!1,!1)}function h(){i(),d.jb[0]=1,d.jb[1]=ve/le,J.m({Fd:ne.scanOverlapFactors,si:ne.scanNScaleLevels,sa:ve,hf:le,Oi:ne.scanScale0Factor,pa:R.pa,ag:!0}),Fe=ne.width>ne.height?[ne.width/ne.height,1]:[1,ne.height/ne.width],_.Ga=!0}function g(){p.j("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u38",value:1},{type:"2f",name:"u39",value:d.jb},{type:"1f",name:"u40",value:R.tc},{type:"1f",name:"u42",value:R.ph},{type:"1f",name:"u41",value:R.nh}]),p.j("s55",[{type:"1i",name:"u43",value:0},{type:"1i",name:"u38",value:1},{type:"1f",name:"u48",value:ne.eo},{type:"1f",name:"u49",value:ne.Qk},{type:"3f",name:"u45",value:[R.pa[0]*d.jb[0],R.pa[1]*d.jb[1],R.pa[2]]},{type:"3f",name:"u46",value:[ne.hc[0][0],ne.hc[1][0],ne.hc[2][0]]},{type:"3f",name:"u47",value:[ne.hc[0][1],ne.hc[1][1],ne.hc[2][1]]}]),p.j("s56",[{type:"1i",name:"u43",value:0},{type:"1i",name:"u38",value:1},{type:"2f",name:"u52",value:ne.Wm},{type:"3f",name:"u50",value:R.Va},{type:"3f",name:"u51",value:ne.oj},{type:"1f",name:"u53",value:ne.ml}]),p.j("s57",[{type:"1i",name:"u38",value:0},{type:"1i",name:"u54",value:1},{type:"2f",name:"u55",value:ne.qe},{type:"1f",name:"u56",value:ne.nn},{type:"1f",name:"u57",value:ne.Vm}]),p.j("s58",[{type:"1i",name:"u54",value:1},{type:"1i",name:"u58",value:0},{type:"1i",name:"u59",value:2},{type:"1i",name:"u60",value:3},{type:"2f",name:"u39",value:d.jb},{type:"1f",name:"u62",value:P.Eh()},{type:"2f",name:"u61",value:ne.jn}]),p.j("s59",[{type:"1i",name:"u38",value:0},{type:"1f",name:"u63",value:ne.qn}]),p.j("s60",[{type:"1i",name:"u43",value:0},{type:"1i",name:"u38",value:1},{type:"1i",name:"u59",value:2},{type:"3f",name:"u50",value:R.Va},{type:"3f",name:"u51",value:ne.oj}]),p.j("s61",[{type:"1i",name:"u59",value:0},{type:"2f",name:"u67",value:ne.fo},{type:"2f",name:"u68",value:ne.on}]),p.j("s62",[{type:"1i",name:"u43",value:0}]),p.j("s63",[{type:"1i",name:"u43",value:0}]),p.j("s53",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u69",value:1}])}var d={jb:[-1,-1]},b=null,x=[.5,0,0,.5],_={ab:null,Qb:!1,Ga:!1,mj:[]},A=[0,ne.Id[1],ne.Id[2]],R={Va:[-ne.Va[0],-ne.Va[1],ne.Va[2]],tc:ne.tc,pa:ne.pa,ph:0,nh:0,Yh:!1},z=ne.ya,M=null,P=null;i();var C,L,B,k=[0,0,0],O=1,S=0,N={wb:null,Nc:null,pf:null,Aj:null,Wf:null,yb:null},U={Xf:null,Lc:null,Gd:null,Ke:null,Gg:null,ce:null},I=0,G=!1,X={bb:null,xb:null,Jf:null,gi:0,lj:ne.ii[1],Sd:.1,Hd:null},H=0,Y=!1,W=!0,q=1,se=-1,fe={xa:-1,V:0,Da:1,ec:2,fc:3},me=fe.V,de=null,be=fe.V,xe=!1,pe=!1,ye=1,Ee=!1,_e={isEnabled:!1,Ie:null,Ta:null,ti:0},De=null,Fe=-1,we=!1,Te=!1,Ae=!1,Re=[0,0,0],ze=1,Me=[0,0,0],je=1,Pe=u=n=0,Ce=ne.Ac,Le=[0,0,0],Be={scale:1,offsetX:0,offsetY:0},Ne=0,Ue={m:function(){var e,t;p.pe([{id:"s52",name:"_",s:"attribute vec2 a0;uniform mat2 u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u37*a0;}",I:["a0"],P:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u37"],precision:"lowp"},{id:"s54",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",s:"attribute vec2 a0;uniform sampler2D u38;uniform vec2 u39;uniform float u40,u41,u42;const vec2 h=vec2(.16,.5),i=vec2(.5,.5),j=vec2(.84,.5),q=vec2(.5,.5);varying vec2 vv0;void main(){vec4 b=texture2D(u38,h);vec2 c=b.gb,a=b.a*u39;vec4 l=texture2D(u38,i);float m=l.y;vec2 n=vec2(mix(1.,1./cos(m),u40),1.);a*=n,a*=1.+u41;vec2 o=a0*.5;float d=texture2D(u38,j).r,e=cos(d),f=sin(d);mat2 g=mat2(e,f,-f,e);vec2 p=g*o;c+=vec2(-.5,-.5)*a*(g*vec2(0.,u42)),vv0=c+p*a,gl_Position=vec4(a0,0.,1.);}",I:["a0"],P:[2],i:"u1 u38 u39 u40 u41 u42".split(" "),precision:"lowp"},{id:"s55",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u43,u38;uniform vec3 u44,u45,u46,u47;uniform float u48,u49;const vec4 e=vec4(.25,.25,.25,.25);const vec2 f=vec2(.16,.5),g=vec2(.5,.5),h=vec2(.83,.5);const vec3 i=vec3(1.,1.,1.);void main(){vec4 j=texture2D(u43,vec2(.625,.625)),k=texture2D(u43,vec2(.875,.625));float l=dot(j-k,e);bool m=l>u49;vec4 a=texture2D(u38,f);m?a.r=2.:a.r>u48?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u44);else{float n=dot(e,texture2D(u43,vec2(.875,.875))),o=dot(e,texture2D(u43,vec2(.125,.625))),p=dot(e,texture2D(u43,vec2(.375,.625))),b=texture2D(u38,h).r,c=cos(b),d=sin(b);vec2 q=mat2(c,d,-d,c)*vec2(n,o);float r=texture2D(u38,g).a;vec3 s=mix(u46,u47,r*i);a.r*=step(1.9,a.r),a.gba+=vec3(q,p)*u45*s*a.a;}gl_FragColor=a;}",i:"u43 u38 u44 u48 u45 u49 u46 u47".split(" ")},{id:"s56",name:"_",g:"uniform sampler2D u43,u38;uniform vec3 u50,u51;uniform vec2 u52;uniform float u53;const vec4 v=vec4(1.,1.,1.,1.),f=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);const vec2 g=vec2(.16,.5),h=vec2(.5,.5),i=vec2(.84,.5);varying vec2 vv0;void main(){float k=step(vv0.x,.5);vec4 l=texture2D(u38,g);if(l.r<1.9){gl_FragColor=f;return;}float m=dot(texture2D(u43,vec2(.125,.125)),e),a=smoothstep(u52.x,u52.y,m);vec4 n=texture2D(u38,h);float o=n.a;a=mix(a,o,.3);float p=dot(e,texture2D(u43,vec2(.125,.875))),q=dot(e,texture2D(u43,vec2(.375,.875))),r=dot(e,texture2D(u43,vec2(.625,.875)));vec3 s=vec3(p,q,r),b=u51+s*u50;float c=texture2D(u38,i).r,d=b.z*u53;c+=d,b.z-=d;vec4 t=vec4(b,a),u=vec4(c,0.,0.,0.);gl_FragColor=mix(u,t,k);}",i:"u43 u38 u52 u50 u51 u53".split(" ")},{id:"s57",name:"_",g:"uniform sampler2D u38,u54;uniform vec2 u55;uniform float u56,u57;const vec4 f=vec4(1.,1.,1.,1.),h=vec4(1.,0.,0.,0.),i=vec4(0.,0.,0.,1.);const vec2 g=vec2(.5,.5);varying vec2 vv0;void main(){vec4 c=texture2D(u38,vv0),d=texture2D(u54,vv0),o=texture2D(u38,g),j=texture2D(u54,g);float k=pow(j.a,u57),l=mix(u55.x,u55.y,1.-k),a=step(.34,vv0.x)*step(vv0.x,.66);vec4 m=mix(h,i,a),b=max(l*f,m);b*=mix(f,u56*vec4(1.,1.,1.,0.)+vec4(0.,0.,0.,1.),a);vec4 n=c-d;gl_FragColor=n*b;}",i:["u38","u54","u55","u56","u57"],precision:"highp"},{id:"s58",name:"_",g:"uniform sampler2D u54,u58,u59,u60;uniform vec2 u39,u61;uniform float u62;const vec4 u=vec4(1.,1.,1.,1.);const vec2 g=vec2(.25,.5),h=vec2(.75,.5),f=vec2(.16,.5),i=vec2(.5,.5);varying vec2 vv0;void main(){float j=step(.33,vv0.x)*step(vv0.x,.66),v=step(.66,vv0.x);vec4 k=texture2D(u60,i);float a=k.a;a*=texture2D(u59,g).a,a*=texture2D(u59,h).a;vec4 l=texture2D(u54,vv0),m=texture2D(u58,vv0),b=l+m;b.a=mix(b.a,a,j);vec4 c=texture2D(u54,f),n=texture2D(u60,f);vec2 o=c.gb,p=n.gb;float q=c.a;vec2 d=u62*abs(o-p)/(u39*q);float r=max(d.x,d.y),s=smoothstep(u61.x,u61.y,r);vec4 t=texture2D(u60,vv0);gl_FragColor=mix(b,t,s);}",i:"u54 u58 u59 u60 u39 u62 u61".split(" "),precision:"highp"},{id:"s59",name:"_",g:"uniform sampler2D u38;uniform float u63;const vec4 g=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);varying vec2 vv0;void main(){vec4 a=texture2D(u38,vv0);float b=step(vv0.x,.33),c=texture2D(u38,f).g;a.a+=b*a.a*u63*abs(sin(c)),gl_FragColor=a;}",i:["u38","u63"],precision:"highp"},{id:"s60",name:"_",g:"uniform sampler2D u38,u59,u43;uniform vec3 u50,u51;uniform float u64,u65;const vec4 e=vec4(.25,.25,.25,.25);const vec3 g=vec3(1.,1.,1.);const vec2 h=vec2(.5,.5);const vec3 i=vec3(1.,1.,4.);varying vec2 vv0;void main(){vec4 c=texture2D(u38,h);float d=step(vv0.x,.5),a=1.-d;vec4 j=texture2D(u59,vv0);float t=c.a;vec2 k=mix(vec2(.875,.875),vec2(.125,.875),a),l=mix(vec2(.125,.625),vec2(.375,.875),a),m=mix(vec2(.375,.625),vec2(.625,.875),a);float n=dot(e,texture2D(u43,k)),o=dot(e,texture2D(u43,l)),p=dot(e,texture2D(u43,m));vec3 q=mix(i,u50,a),b=q*vec3(n,o,p),r=c.rgb;b=mix(b,u51+b-r,a)/u65;vec4 s=mix(vec4(b,0.),j,vec4(u64*g,0.));gl_FragColor=s;}",i:"u38 u59 u43 u64 u65 u50 u51".split(" "),precision:"highp"},{id:"s61",name:"_",g:"uniform sampler2D u59;uniform vec2 u67,u68;const vec4 h=vec4(.25,.25,.25,.25);varying vec2 vv0;void main(){float a=step(.5,vv0.x),c=mix(u67.x,u68.x,a),d=mix(u67.y,u68.y,a);vec3 b=texture2D(u59,vv0).rgb;float f=length(b),g=1.-smoothstep(c,d,f);gl_FragColor=vec4(b,g);}",i:["u59","u67","u68"],precision:"highp"},{id:"s62",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u43;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.1415;void main(){float a=dot(texture2D(u43,vec2(.375,.375)),e),b=dot(texture2D(u43,vec2(.625,.375)),e),c=f/2.*dot(texture2D(u43,vec2(.875,.375)),e),d=.75*f*dot(texture2D(u43,vec2(.125,.375)),e);gl_FragColor=vec4(d,a,b,c);}",i:["u43"]},{id:"s63",name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u43;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.1415,g=1e-7;void main(){float b=dot(texture2D(u43,vec2(.875,.375)),e),c=dot(texture2D(u43,vec2(.375,.125)),e),d=f/2.*dot(texture2D(u43,vec2(.625,.375)),e),a=dot(texture2D(u43,vec2(.125,.375)),e),h=dot(texture2D(u43,vec2(.375,.375)),e);a+=(step(0.,a)-.5)*g;float i=atan(h,a);gl_FragColor=vec4(i,b,c,d);}",i:["u43"]},{id:"s53",name:"_",g:"uniform sampler2D u1,u69;varying vec2 vv0;vec4 i(vec4 a,sampler2D g){mediump float b=a.b*63.;mediump vec2 c;c.y=floor(floor(b)/8.),c.x=floor(b)-c.y*8.;mediump vec2 d;d.y=floor(ceil(b)/8.),d.x=ceil(b)-d.y*8.;highp vec2 e;e.x=c.x*.125+9.765625e-4+.123047*a.r,e.y=c.y*.125+9.765625e-4+.123047*a.g;highp vec2 f;f.x=d.x*.125+9.765625e-4+.123047*a.r,f.y=d.y*.125+9.765625e-4+.123047*a.g;lowp vec4 j=texture2D(g,e),k=texture2D(g,f),l=mix(j,k,fract(b));return l;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=i(a,u69);}",i:["u1","u69"]}]),function(){function e(){return{width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,.5,.5,0,0,0,0,0,0,0,0,0])}}var t={width:3,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0])};U.Dc=F(e()),U.Xf=D.instance(e()),U.Lc=D.instance(e()),U.Gd=F(e()),U.Ke=D.instance(t),t={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0,0,0,0,0])},U.Gg=D.instance(t),U.ce=D.instance(t),X.Hd=D.instance({width:1,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,0,0,0])})}(),e=ne.aa,"http"!==(t=ne.je.split("://").shift())&&"https"!==t||(e=""),"json"!==(e+=ne.je).split(".").pop()&&(e+=ne.neuralNetworkPath),a(e,(function(e){if((e=JSON.parse(e)).exportData){var t=e.exportData;R.Va=R.Va||t.rotationEulerAnglesFactors,R.tc=R.tc||t.deformScaleXFactor,R.pa=R.pa||t.translationScalingFactors,R.ph=t.dyOffset||0,R.nh=t.dsOffset||0,R.Yh=t.isLThetaSplitCosSin||!1}P=new j({yd:e.layers,Sf:"gpuRawAvg",Pf:m}),r()})),Z.m({Xh:!1,ya:z}),K.m({Mf:0,n:ne.Oc[1]-ne.Oc[0]+1,hi:ne.Oc[0]}),ee.set_videoRotation=function(e){te.rotate=e,ee.ready&&(he.ng(oe.element.videoWidth,oe.element.videoHeight),he.ug())},ee.set_viewRotation=function(){},ee.set_LUT=function(e){return new Promise((function(t){e?D.instance({url:e,isFloat:!1,isFlipY:!1,R:function(e){N.yb=e,Ue.Kc(),t()}}):(N.yb=null,Ue.Kc(),t())}))},ee.resize=function(e,t,a){if(ee.ready){_.ab&&(clearTimeout(_.ab),_.ab=null),Z.stop();var n=e*(a=a?ie.Qe:1),u=t*a;_.ab=setTimeout((function e(){if(Z.stop(),_.ab&&(clearTimeout(_.ab),_.ab=null),!_.Qb)if(ne.width===n&&ne.height===u)o();else if(me!==fe.V&&me!==fe.Da)_.ab=setTimeout(e,ne.Mi);else{var t=void 0!==Q&&Q.get_mode(),a=me;me=fe.xa,pe=_.Qb=!0,Ee=function(){pe=!1,_.Qb=!1,s(),v(ne.ya),M&&clearTimeout(M),M=!1,me=a},ne.width=n,ne.height=u,h(),g(),_.mj.forEach((function(e){e.resize(n,u)})),Se.resize(ve,le),Ue.Kc(),he.ng(oe.element.videoWidth?oe.element.videoWidth:oe.element.width,oe.element.videoHeight?oe.element.videoHeight:oe.element.height),he.ug(),he.kj(),o(),me===fe.Da&&(me=fe.V,ee.switch_viewer3D(!0,!1)),t&&Q.switch_mode(t)}}),ne.Mi)}}},v:function(){return Z.v(),new Promise((function(e){ee.switch_sleep(!0,!0).finally((function(){P&&P.v(),Se.v(),E.v(),y&&(y=null),P=null,ne.Ef=!1,ce=null,W=!0,q=1,se=-1,me=fe.V,de=null,be=fe.V,Object.assign(oe,re),Object.assign(ne,ae),e()})).catch((function(e){throw Error(e)}))}))},Kc:function(){ke.Ui(U.Lc,null===N.yb?N.wb:N.Nc,X.Hd,N.Aj)},Bl:function(){return Be},aj:function(e){Be=e},Zd:function(){Le[0]=k[0]-Be.offsetX,Le[1]=k[1]+Be.offsetY,Le[2]=k[2],ke.wn(A,Me,Le)},$d:function(){ke.xn(O*ne.Rm,je,Be.scale)},wj:function(){ke.yn(S+n)},lo:function(){ke.un(ne.Vc+u,ne.Eb+Pe)},no:function(){ke.vn(Ce)},ae:function(){Ue.Zd(),Ue.$d(),Ue.wj(),Ue.lo(),Ue.no()},pn:function(){Z.stop(),de&&(clearInterval(de),de=null),_e.isEnabled=!0,_e.ti=0,we=ke.Al(),Te=ce.Ih(),Ae=ce.Gh(),ze=je,Re=Me,C=Ce,L=u,B=Pe,pe=!1,ke.Td(!1)},mn:function(e){function t(){2==++a&&(_e.isEnabled=!1,je=ze,Me=Re,Ce=C,u=L,Pe=B,Ue.ae(),ke.ra(we),o(),e&&e())}var a=0;me===fe.ec?me=fe.Da:me===fe.fc&&(me=fe.V),ke.Xa(me===fe.V?0:1),ce.replace(Te,t),ce.gg(Ae,t),Ue.Kc(),ke.Td(!0)},kj:function(){var e=Math.tan(oe.Kb/2);ke.Ti({Se:ne.Se/e,rn:e,Um:oe.Di,Ba:ne.Ba,Lf:ne.Lf,Dj:d.jb,Hj:ne.zo,vc:ne.vc,gf:ne.gf,ef:ne.ef,ff:ne.ff,Ac:Ce,re:ne.re,De:ne.De,Zf:ne.Zf,bc:ne.bc,Un:ne.fj,Vn:ne.gj,Rd:ne.Rd,cc:ne.cc,$c:ne.$c,He:ne.He,Ge:ne.Ge,Fe:ne.Fe,ue:ne.ue,te:ne.aa+ne.ta+ne.te,Vc:ne.Vc+u,Eb:ne.Eb+Pe,cf:ne.cf,Lg:ne.Lg,Kg:ne.Kg,fe:ne.fe,Fo:ne.Eo,ee:oe.ee,Ad:ne.Ad,ym:De,zd:ne.zd,Bd:ne.Bd,Cf:ne.Cf,xm:Fe,vg:ne.vg})},Ek:function(){var e=te.ie,t=te.he,a=1/Math.tan(oe.Kb/2),n=E.X()/E.L();oe.Di=[a,0,0,0,0,a/n,0,0,0,0,-(t+e)/(t-e),-1,0,0,-2*e*t/(t-e),0],oe.ee=1/Math.tan(ne.Co*Math.PI/360)/a},ng:function(e,t){switch(b=[.5,.5],e=t/e,t=E.X()/E.L(),90===Math.abs(te.rotate)&&(e=1/e),e>t?b[1]*=t/e:b[0]*=e/t,x[0]=0,x[1]=0,x[2]=0,x[3]=0,te.rotate){case 0:x[0]=b[0],x[3]=b[1];break;case 180:x[0]=-b[0],x[3]=-b[1];break;case 90:x[1]=b[0],x[2]=-b[1];break;case-90:x[1]=-b[0],x[2]=b[1]}oe.Kb=2*Math.atan(2*b[0]*Math.tan((1<e?te.FOVmobile:te.FOVdesktop)*Math.PI/180/2)),Ue.Ek()},ug:function(){p.j("s52",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u37",value:x}])},lf:function(e,t){return Ue.Yl(e,t),Ue.m(),Ue.Vl()?(Ue.Qh(),!0):(ee.ib&&ee.ib("GL_INCOMPATIBLE","Cannot init JEELIZVTO"),!1)},Yl:function(e,t){ee.Ab=document.createElement("canvas"),ee.zb=document.createElement("canvas"),ee.zb.width=ne.width,ee.zb.height=ne.height,ee.Ij=ee.zb.getContext("2d"),ee.replace_video=function(e){return oe.element=e,oe.Bg.ha=oe.element,!0},ee.mc=ee.Ab.getContext("2d"),ee.capture_background=function(a,n){a=void 0===a?e:a,n=void 0===n?t:n,ee.Ab.width=a,ee.Ab.height=n;var u=a/n,i=0,r=0;if(e/t>u){var o=t*u;u=t,i=Math.round((e-o)/2)}else o=e,u=e/u,r=Math.round((t-u)/2);return ee.mc.save(),ee.mc.translate(a,0),ee.mc.scale(-1,1),ee.mc.drawImage(oe.element,i,r,o,u,0,0,a,n),ee.mc.restore(),(a=document.createElement("canvas")).width=ee.Ab.width,a.height=ee.Ab.height,a.getContext("2d").drawImage(ee.Ab,0,0),a}},Qh:function(){window.CanvasListeners&&(Q.init({oa:E.mb()}),ee.init_listeners=Ue.Qh,ee.add_listener=Q.add_listener,ee.remove_listener=Q.remove_listener,ee.animate_swipe=Q.animate_swipe,ee.switch_modeInteractor=Q.switch_mode,ee.get_modeInteractor=Q.get_mode,Q.add_listener("move",(function(e,t){me===fe.V&&(ne.zm&&(Be.offsetX-=t[0]*ne.li,Be.offsetX=Math.min(Math.max(Be.offsetX,-ne.Cd),ne.Cd)),Be.offsetY-=t[1]*ne.li,Be.offsetY=Math.min(Math.max(Be.offsetY,-ne.Cd),ne.Cd),Ue.Zd())}),!0).add_listener("pinch",(function(e,t){me===fe.V&&(Be.scale+=t*ne.Am,Be.scale=Math.min(Math.max(Be.scale,ne.mi[0]),ne.mi[1]),Ue.$d())}),!0))},Vl:function(){return Se.m({vd:!1,Ck:!1,expand:!1,oa:E.mb(),Lb:E,onload:function(){X.xb=Ge.instance({Db:ne.aa+ne.ta+ue.xo,oc:ne.aa+ne.ta+ue.yo,nc:ue.Bj,pc:ue.Cj}),ne.Ub?(X.bb=Ge.instance({}),Oe.gb.ra(X.bb)):X.bb=X.xb,ke.ra(X.bb),X.Jf=ne.Ub?Xe.instance({vm:X.bb,tm:X.xb}):X.xb,r()}})},qg:function(){Y||(Ue.Kc(),ne.Ub&&(T.reset(),Oe.gb.vk(oe.ja),Oe.gb.uk()),ee.ready=!0,I=0,o(),H=0,Y=!0,Se.Fg(ie.ll),Ue.ae(),ke.$n(),ee.Rc.forEach((function(e){e()})),ee.Rc.splice(0))},ji:function(e,t){c(e=Ye.instance({R:function(){Ue.qg(),t&&t()},url:e.url,Cc:e.Cc,Cb:e.Cb,Bb:e.Bb}))},co:function(){if(ne.Ub){var e=Object.assign({},ue,{Wb:ne.aa+ne.ta+ue.Wb});Oe.gb.hg(e)}}};return Ue}ie={ll:Math.max(se[0],fe)/fe,Qe:Math.min(fe,se[1])};var he=null;ee.onLoad=function(e){ee.ready?e():ee.Rc.push(e)},ee.onHalfLoad=function(e){ee.load_model?e():ee.Qc.push(e)},ee.onWebcamAsk=function(e){ee.le=e},ee.onContextLost=function(e){ee.ke=e},ee.onWebcamGet=function(e){ee.me=e},ee.get_onHalfLoadCallstack=function(){return ee.Qc},ee.set_size=function(e,t,a){a=a?ie.Qe:1,ne.width=e*a,ne.height=t*a},ee.get_videoDevices=function(e){!function(e){navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((function(t){(t=t.filter((function(e){return e.kind&&-1!==e.kind.toLowerCase().indexOf("video")&&e.label&&e.deviceId})))&&t.length&&0<t.length?e(t,!1):e(!1,"NODEVICESFOUND")})).catch((function(){e(!1,"PROMISEREJECTED")})):e(!1,"NOTSUPPORTED")}(e)},ee.set_videoDevice=function(e){oe.deviceId=e},ee.set_videoSizes=function(e,t,a,n,u,i){te.idealWidth=e,te.idealHeight=t,te.minWidth=a,te.maxWidth=n,te.minHeight=u,te.maxHeight=i},ee.set_loading=function(e,t,a){e&&(ne.Ef=!0,ne.Df=e),"number"==typeof t&&(e=new be(t),ne.zd=[e.r,e.W,e.b,0]),"number"==typeof a&&(ne.Bd=a)},ee.set_settings=function(e,t,a){e&&Object.assign(ne,e),t&&Object.assign(te,t),a&&Object.assign(ue,a)},ee.get_size=function(){return{width:ne.width,height:ne.height}},ee.get_cv=function(){return E.mb()},ee.set_NNCPath=function(e){ne.je=e},ee.set_materialsPath=function(e){ne.Gf=e},ee.set_modelsPath=function(e){ne.Kf=e},ee.destroy=function(){return he?he.v():Promise.resolve()},ee.init=function(e,t,a,n){return he=me(),ee.ib=a?function(e,t){a(e,t),ee.ib=!1}:function(){},ee.Mo=he,e&&(ne.aa=e),t&&ee.Rc.push(t),he.co(),E.m({Ce:"jeefitCanvas",oa:n,width:ve,height:le,debug:!1,Of:function(){ee.ke&&ee.ke()},premultipliedAlpha:!0})?(ee.le&&ee.le(),t={video:e={width:{min:te.minWidth,max:te.maxWidth,ideal:te.idealWidth},height:{min:te.minHeight,max:te.maxHeight,ideal:te.idealHeight},facingMode:{ideal:"user"}},audio:!1},oe.bh=t,e&&-1!==oe.deviceId&&H(t,oe.deviceId),V(!!G()&&document.createElement("video"),(function(e){ee.me&&ee.me(e),oe.element=e,e=oe.element.videoWidth;var t=oe.element.videoHeight;oe.Bg={ha:oe.element,isPot:!1,isFloat:!1,isFlipY:!0},oe.ja=D.instance(oe.Bg),he.ng(e,t),he.lf(e,t)&&he.ug()}),(function(e){ee.ib&&ee.ib("WEBCAM_UNAVAILABLE",e)}),t),!0):(ee.ib&&ee.ib("GL_INCOMPATIBLE","Cannot init Context"),!1)},window.JEELIZVTO=ee;var ge=function(){function e(){T.$(),y.viewport(0,0,1,1),p.set("s64"),n.h(0),w.l(!1),y.readPixels(0,0,1,1,y.RGBA,y.UNSIGNED_BYTE,i),t(0<i[0])}var t=null,a=!1,n=null,u=!1,i=null,r={m:function(e){return!u&&(n=e,p.pe([{id:"s64",name:"_",g:"uniform sampler2D u38;const vec2 e=vec2(.16,.5);void main(){vec4 a=texture2D(u38,e);float b=step(1.99,a.r);gl_FragColor=vec4(b,0.,0.,1.);}",i:["u38"],precision:"lowp"}]),p.j("s64",[{type:"1i",name:"u38",value:0}]),i=new Uint8Array(4),u=!0)},start:function(n,u){r.stop(),t=u,a=window.setInterval(e,n)},stop:function(){a&&(window.clearInterval(e),a=!1)}};return r}(),de=de||{};function be(e){return 3===arguments.length?this.kb(arguments):this.set(e)}function xe(e,t){t=Math.floor(t),e.r=(t>>16&255)/255,e.W=(t>>8&255)/255,e.b=(255&t)/255}be.prototype={constructor:be,r:1,W:1,b:1,set:function(e){return e instanceof be?this.J(e):"number"==typeof e?xe(this,e):"string"==typeof e&&function(e,t){function a(e){void 0!==e&&1>parseFloat(e)&&console.warn("JETHREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var u=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return e.r=Math.min(255,parseInt(n[1],10))/255,e.W=Math.min(255,parseInt(n[2],10))/255,e.b=Math.min(255,parseInt(n[3],10))/255,void a(n[5]);if(n=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return e.r=Math.min(100,parseInt(n[1],10))/100,e.W=Math.min(100,parseInt(n[2],10))/100,e.b=Math.min(100,parseInt(n[3],10))/100,void a(n[5]);break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u)){u=parseFloat(n[1])/360;var i=parseInt(n[2],10)/100,r=parseInt(n[3],10)/100;return a(n[5]),void e.tn(u,i,r)}}}else if(n=/^#([A-Fa-f0-9]+)$/.exec(t)){if(3===(u=(n=n[1]).length))return e.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,e.W=parseInt(n.charAt(1)+n.charAt(1),16)/255,void(e.b=parseInt(n.charAt(2)+n.charAt(2),16)/255);if(6===u)return e.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,e.W=parseInt(n.charAt(2)+n.charAt(3),16)/255,void(e.b=parseInt(n.charAt(4)+n.charAt(5),16)/255)}t&&0<t.length&&(void 0!==(n=pe[t])?xe(e,n):console.warn("JETHREE.Color: Unknown color "+t))}(this,e),this},tn:function(){function e(e,t,a){return 0>a&&(a+=1),1<a&&--a,a<1/6?e+6*(t-e)*a:.5>a?t:a<2/3?e+6*(t-e)*(2/3-a):e}return function(t,a,n){return t=de.Math.jp(t,1),a=de.Math.xe(a,0,1),n=de.Math.xe(n,0,1),0===a?this.r=this.W=this.b=n:(n=2*n-(a=.5>=n?n*(1+a):n+a-n*a),this.r=e(n,a,t+1/3),this.W=e(n,a,t),this.b=e(n,a,t-1/3)),this}}(),clone:function(){return new this.constructor(this.r,this.W,this.b)},J:function(e){return this.r=e.r,this.W=e.W,this.b=e.b,this},add:function(e){return this.r+=e.r,this.W+=e.W,this.b+=e.b,this},multiply:function(e){return this.r*=e.r,this.W*=e.W,this.b*=e.b,this},Aa:function(e){return this.r*=e,this.W*=e,this.b*=e,this},kb:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.W=e[t+1],this.b=e[t+2],this}};var pe={};function ye(e,t,a,n){this.B=e||0,this.C=t||0,this.D=a||0,this.O=void 0!==n?n:1}function Ee(e,t,a){var n=t.B,u=t.C,i=t.D;t=t.O;var r=a.B,o=a.C,c=a.D;return a=a.O,e.B=n*a+t*r+u*c-i*o,e.C=u*a+t*o+i*r-n*c,e.D=i*a+t*c+n*o-u*r,e.O=t*a-n*r-u*o-i*c,e}function _e(e,t){this.x=e||0,this.y=t||0}function De(e,t,a){this.x=e||0,this.y=t||0,this.z=a||0}function Fe(e,t){var a=e.x,n=e.y,u=e.z;e.x=n*t.z-u*t.y,e.y=u*t.x-a*t.z,e.z=a*t.y-n*t.x}function we(e,t,a,n){this.B=e||0,this.C=t||0,this.D=a||0,this.La=n||we.Ej}function Te(e,t){this.min=void 0!==e?e:new De(1/0,1/0,1/0),this.max=void 0!==t?t:new De(-1/0,-1/0,-1/0)}function Ae(e){return(new De).Sc(e.min,e.max).Aa(.5)}function Re(e,t){e.min.min(t),e.max.max(t)}function ze(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),0<arguments.length&&console.error("JETHREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Me(e,t,a){var n=t.elements,u=a.elements;a=e.elements,t=n[0];var i=n[4],r=n[8],o=n[12],c=n[1],v=n[5],l=n[9],s=n[13],f=n[2],m=n[6],h=n[10],g=n[14],d=n[3],b=n[7],x=n[11];n=n[15];var p=u[0],y=u[4],E=u[8],_=u[12],D=u[1],F=u[5],w=u[9],T=u[13],A=u[2],R=u[6],z=u[10],M=u[14],j=u[3],P=u[7],C=u[11];return u=u[15],a[0]=t*p+i*D+r*A+o*j,a[4]=t*y+i*F+r*R+o*P,a[8]=t*E+i*w+r*z+o*C,a[12]=t*_+i*T+r*M+o*u,a[1]=c*p+v*D+l*A+s*j,a[5]=c*y+v*F+l*R+s*P,a[9]=c*E+v*w+l*z+s*C,a[13]=c*_+v*T+l*M+s*u,a[2]=f*p+m*D+h*A+g*j,a[6]=f*y+m*F+h*R+g*P,a[10]=f*E+m*w+h*z+g*C,a[14]=f*_+m*T+h*M+g*u,a[3]=d*p+b*D+x*A+n*j,a[7]=d*y+b*F+x*R+n*P,a[11]=d*E+b*w+x*z+n*C,a[15]=d*_+b*T+x*M+n*u,e}function je(e,t,a,n,u,i){this.a=e,this.b=t,this.c=a,this.Ja=n instanceof De?n:new De,this.de=Array.isArray(n)?n:[],this.color=u instanceof be?u:new be,this.Ig=Array.isArray(u)?u:[],this.Vb=void 0!==i?i:0}function Pe(e,t,a){"object"==typeof e?t(e):function(e,t,a){var n=new XMLHttpRequest;n.open("GET",e,!0);var u=n.withCredentials=!1;n.onreadystatechange=function(){if(404!==n.status||u||(u=!0,a&&a(404)),4===n.readyState&&200===n.status){var e=null;try{e=JSON.parse(n.responseText)}catch(e){a&&a(-1)}t&&e&&t(e)}},n.onerror=function(){a&&a(0)},n.send()}(e,t,a)}function Ce(e,t,a,n){return Math.sqrt((e-a)*(e-a)+(t-n)*(t-n))}ye.prototype={constructor:ye,get x(){return this.B},set x(e){this.B=e},get y(){return this.C},set y(e){this.C=e},get z(){return this.D},set z(e){this.D=e},get w(){return this.O},set w(e){this.O=e},set:function(e,t,a,n){return this.B=e,this.C=t,this.D=a,this.O=n,this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.O)},J:function(e){return this.B=e.x,this.C=e.y,this.D=e.z,this.O=e.w,this},inverse:function(){return this.B*=-1,this.C*=-1,this.D*=-1,this.normalize(),this},bd:function(e){return this.B*e.B+this.C*e.C+this.D*e.D+this.O*e.O},vf:function(){return this.B*this.B+this.C*this.C+this.D*this.D+this.O*this.O},length:function(){return Math.sqrt(this.B*this.B+this.C*this.C+this.D*this.D+this.O*this.O)},normalize:function(){var e=this.length();return 0===e?(this.D=this.C=this.B=0,this.O=1):(e=1/e,this.B*=e,this.C*=e,this.D*=e,this.O*=e),this},multiply:function(e,t){return void 0!==t?(console.warn("JETHREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),Ee(this,e,t)):Ee(this,this,e)},kb:function(e,t){return void 0===t&&(t=0),this.B=e[t],this.C=e[t+1],this.D=e[t+2],this.O=e[t+3],this}},_e.prototype={constructor:_e,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},Ri:function(e){return this.x=e,this},Si:function(e){return this.y=e,this},clone:function(){return new this.constructor(this.x,this.y)},J:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("JETHREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Sc(e,t)):(this.x+=e.x,this.y+=e.y,this)},Sc:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},sub:function(e,t){return void 0!==t?(console.warn("JETHREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.$a(e,t)):(this.x-=e.x,this.y-=e.y,this)},$a:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},Aa:function(e){return isFinite(e)?(this.x*=e,this.y*=e):this.y=this.x=0,this},Le:function(e){return this.Aa(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},xe:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},bd:function(e){return this.x*e.x+this.y*e.y},vf:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.Le(this.length())},kb:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this}},De.prototype={constructor:De,set:function(e,t,a){return this.x=e,this.y=t,this.z=a,this},Ri:function(e){return this.x=e,this},Si:function(e){return this.y=e,this},clone:function(){return new this.constructor(this.x,this.y,this.z)},J:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("JETHREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.Sc(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},Sc:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("JETHREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.$a(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},$a:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("JETHREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},Aa:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):this.z=this.y=this.x=0,this},Le:function(e){return this.Aa(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},xe:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},bd:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},vf:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.Le(this.length())},kb:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},we.Ej="XYZ",we.prototype={constructor:we,get x(){return this.B},set x(e){this.B=e},get y(){return this.C},set y(e){this.C=e},get z(){return this.D},set z(e){this.D=e},get order(){return this.La},set order(e){this.La=e},set:function(e,t,a,n){return this.B=e,this.C=t,this.D=a,this.La=n||this.La,this},clone:function(){return new this.constructor(this.B,this.C,this.D,this.La)},J:function(e){return this.B=e.B,this.C=e.C,this.D=e.D,this.La=e.La,this},kb:function(e){return this.B=e[0],this.C=e[1],this.D=e[2],void 0!==e[3]&&(this.La=e[3]),this}},Te.prototype={constructor:Te,set:function(e,t){return this.min.J(e),this.max.J(t),this},clone:function(){return(new this.constructor).J(this)},J:function(e){return this.min.J(e.min),this.max.J(e.max),this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},size:function(e){return(e||new De).$a(this.max,this.min)},getParameter:function(e,t){return(t||new De).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},translate:function(e){return this.min.add(e),this.max.add(e),this}},ze.prototype={constructor:ze,set:function(e,t,a,n,u,i,r,o,c,v,l,s,f,m,h,g){var d=this.elements;return d[0]=e,d[4]=t,d[8]=a,d[12]=n,d[1]=u,d[5]=i,d[9]=r,d[13]=o,d[2]=c,d[6]=v,d[10]=l,d[14]=s,d[3]=f,d[7]=m,d[11]=h,d[15]=g,this},clone:function(){return(new ze).kb(this.elements)},J:function(e){return this.elements.set(e.elements),this},multiply:function(e,t){return void 0!==t?(console.warn("JETHREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),Me(this,e,t)):Me(this,this,e)},Aa:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},translate:function(){console.error("JETHREE.Matrix4: .translate() has been removed.")},scale:function(e){var t=this.elements,a=e.x,n=e.y;return e=e.z,t[0]*=a,t[4]*=n,t[8]*=e,t[1]*=a,t[5]*=n,t[9]*=e,t[2]*=a,t[6]*=n,t[10]*=e,t[3]*=a,t[7]*=n,t[11]*=e,this},kb:function(e){return this.elements.set(e),this}},je.prototype={constructor:je,clone:function(){return(new this.constructor).J(this)},J:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.Ja.J(e.Ja),this.color.J(e.color),this.Vb=e.Vb;for(var t=0,a=e.de.length;t<a;t++)this.de[t]=e.de[t].clone();for(t=0,a=e.Ig.length;t<a;t++)this.Ig[t]=e.Ig[t].clone();return this}};var Le=function(){function t(e,t,a){return t=e.createShader(t),e.shaderSource(t,a),e.compileShader(t),!!e.getShaderParameter(t,e.COMPILE_STATUS)&&t}function a(a,n){if(n.Rh)return!1;var u=Se.ia();e.Dp||u||a.enableVertexAttribArray(0),void 0===n.ba&&(n.ba=!1),n.ba&&(n.Pc=u?3:2),n.id=g++,void 0===n.Pc&&(n.Pc=2),void 0===n.precision&&(n.precision="highp"),n.ba&&(n.g=(Se.ia()?"precision highp float;\n          layout(location = 0) out vec4 gbuf0;\n          layout(location = 1) out vec4 gbuf1;\n          layout(location = 2) out vec4 gbuf2;\n          layout(location = 3) out vec4 gbuf3;\n":"#extension GL_EXT_draw_buffers : require\n")+n.g),void 0===n.s&&(n.s="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");var i=function(e){return["float","sampler2D","int"].map((function(t){return"precision "+e+" "+t+";\n"})).join("")}(n.precision);n.g=i+n.g,n.s=i+n.s,u&&3<=n.Pc&&function(e){e.s="#version 300 es\n"+e.s.replace(/varying/g,"out"),e.g="#version 300 es\n"+e.g.replace(/varying/g,"in"),e.s=e.s.replace(/texture2D\(/g,"texture("),e.g=e.g.replace(/texture2D\(/g,"texture("),e.ba||(e.g=e.g.replace(/void main/g,"out vec4 FragColor;\nvoid main"),e.g=e.g.replace(RegExp("gl_FragColor","g"),"FragColor"));var t=0,a=[];e.s=e.s.replace(/attribute ([a-z]+[0-4]*) ([_a-zA-Z,0-9\s]+);/g,(function(e,n,u){var i="";return u.split(",").forEach((function(e){e=e.trim(),i+="layout(location = "+t+") in "+n+" "+e+";\n",a.push(e),++t})),i})),e.Jj=a}(n),n.Ca&&n.Ca.forEach((function(e){n.s=n.s.replace(e.search,e.replace),n.g=n.g.replace(e.search,e.replace)})),n.ma=function(e,a){Se.ia()&&(a.g=a.g.replace(/gl_FragData\[([0-3])\]/g,"gbuf$1")),a.bf=t(e,e.VERTEX_SHADER,a.s,a.name),a.af=t(e,e.FRAGMENT_SHADER,a.g,a.name);var n=e.createProgram();return e.attachShader(n,a.bf),e.attachShader(n,a.af),e.linkProgram(n),n}(a,n),n.A={},n.i.forEach((function(e){n.A[e]=a.getUniformLocation(n.ma,e)})),n.attributes={},n.ua=[],n.Hg=0,void 0===n.I&&(n.I=["a0"]),void 0===n.P&&(n.P=[2]),n.I.forEach((function(e,t){var i=u&&3<=n.Pc?n.Jj.indexOf(e):a.getAttribLocation(n.ma,e);n.attributes[e]=i,n.ua.push(i),n.Hg+=4*n.P[t]})),n.set=function(){m!==n.id&&(-1!==m&&h.H(),m=n.id,h=n,a.useProgram(n.ma),n.ua.forEach((function(e){0!==e&&a.enableVertexAttribArray(e)})))},n.H=function(){m=-1,n.ua.forEach((function(e){0!==e&&a.disableVertexAttribArray(e)}))},n.Rh=!0}function n(e,t){return a(e,t),t.set(),m=-1,t}function u(){d.j("s93",[{type:"1i",name:"u1",value:0}]),d.j("s94",[{type:"1i",name:"u149",value:0}]),d.j("s95",[{type:"1i",name:"u71",value:0}])}function i(){var e="u38 u139 u140 u141 u142 u39 u75".split(" ").concat(l,s);f.s96={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u145,u146,u141,u142,u148;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,p);vec2 f=u82*e;vec3 c=u82*o;vec2 t=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,q).rgb+vec3(u76,0.,0.),u79,c);float u=mix(texture2D(u38,r).r,0.,u82);a.z+=u;mat3 v=s(a);vec3 w=mix(u139,u80,c);float x=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u78,1.,u82);vec2 j=u77/t;vec3 k=a0;float A=max(0.,-a0.z-u141)*u142;k.x+=A*sign(a0.x)*(1.-u82);vec3 l=v*(k+w)*x+b;vec2 B=j*z;vec3 C=vec3(g*B,-j)+l*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(C,1.)),vv0=l,vv1=smoothstep(u145,u146,a0.z);}",i:["u145","u146"].concat(e),I:["a0"],precision:"highp"},f.s97={name:"_",g:"uniform sampler2D u1;uniform vec3 u143;uniform float u70;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u143,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u143,b,u70),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u141,u142,u148;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,n);vec2 f=u82*e;vec3 c=u82*m;vec2 r=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,o).rgb+vec3(u76,0.,0.),u79,c);float s=mix(texture2D(u38,p).r,0.,u82);a.z+=s;mat3 t=q(a);vec3 u=mix(u139,u80,c);float v=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u78,1.,u82);vec2 j=u77/r;vec3 k=a0;float y=max(0.,-a0.z-u141)*u142;k.x+=y*sign(a0.x)*(1.-u82);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(B,1.)),vv0=a1;}",i:["u143"].concat(c,e),I:["a0","a1"],P:[3,2],precision:"lowp"},f.s98={name:"_",g:"uniform vec3 u143;void main(){gl_FragColor=vec4(u143,0.);}",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u141,u142,u148;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,m);vec2 f=u82*e;vec3 c=u82*l;vec2 q=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,n).rgb+vec3(u76,0.,0.),u79,c);float r=mix(texture2D(u38,o).r,0.,u82);a.z+=r;mat3 s=p(a);vec3 t=mix(u139,u80,c);float u=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u78,1.,u82);vec2 j=u77/q;vec3 k=a0;float x=max(0.,-a0.z-u141)*u142;k.x+=x*sign(a0.x)*(1.-u82);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(A,1.));}",i:["u143"].concat(e),P:[3],precision:"lowp"},f.s99={name:"_",g:"uniform vec4 u9;varying vec3 vv0;varying float vv1;void main(){float a=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv1);gl_FragColor=vec4(normalize(vv0),a);}",s:"attribute vec3 a0,a2;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u141,u142,u148;varying vec3 vv0;varying float vv1;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 D=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,p);vec2 f=u82*e;vec3 c=u82*o;vec2 t=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,q).rgb+vec3(u76,0.,0.),u79,c);float u=mix(texture2D(u38,r).r,0.,u82);a.z+=u;mat3 h=s(a);vec3 v=mix(u139,u80,c);float w=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 x=mat2(i,j,-j,i);b.xy=x*b.xy;float y=mix(u78,1.,u82);vec2 k=u77/t;vec3 l=a0;float z=max(0.,-a0.z-u141)*u142;l.x+=z*sign(a0.x)*(1.-u82);vec3 A=h*(l+v)*w+b;vec2 B=k*y;vec3 C=vec3(g*B,-k)+A*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(C,1.)),vv0=h*a2*vec3(1.,-1.,-1.),vv1=a0.y;}",i:["u9","u75"].concat(e),I:["a0","a2"],precision:"highp"},f.s100={name:"_",g:"uniform sampler2D u149;uniform vec4 u9;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=vec3(0.,0.,-1.),c=normalize(vv1),b=texture2D(u149,vv2).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv1:a;float m=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv3);gl_FragColor=vec4(a,m);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u141,u142,u148;varying vec4 vv0;varying vec3 vv1;varying vec2 vv2;varying float vv3;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 F=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,r);vec2 f=u82*e;vec3 c=u82*q;vec2 v=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,s).rgb+vec3(u76,0.,0.),u79,c);float w=mix(texture2D(u38,t).r,0.,u82);a.z+=w;mat3 h=u(a);vec3 x=mix(u139,u80,c);float y=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u78,1.,u82);vec2 k=u77/v;vec3 l=a0;float B=max(0.,-a0.z-u141)*u142;l.x+=B*sign(a0.x)*(1.-u82);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv0=a3,vv2=a1,vv3=a0.y;}",i:["u9","u75","u149"].concat(e),I:["a3","a0","a2","a1"],P:[4,3,3,2],precision:"highp"},f.s101={name:"_",g:"uniform vec4 u108;uniform float u144;void main(){float b=u144;vec4 a=u108;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u141,u142,u148;const vec2 e=vec2(1.);const vec3 l=vec3(1.);const vec2 B=vec2(-1.,1.),m=vec2(.16,.5),n=vec2(.5,.5),o=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 p(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,m);vec2 f=u82*e;vec3 c=u82*l;vec2 q=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,n).rgb+vec3(u76,0.,0.),u79,c);float r=mix(texture2D(u38,o).r,0.,u82);a.z+=r;mat3 s=p(a);vec3 t=mix(u139,u80,c);float u=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 v=mat2(h,i,-i,h);b.xy=v*b.xy;float w=mix(u78,1.,u82);vec2 j=u77/q;vec3 k=a0;float x=max(0.,-a0.z-u141)*u142;k.x+=x*sign(a0.x)*(1.-u82);vec3 y=s*(k+t)*u+b;vec2 z=j*w;vec3 A=vec3(g*z,-j)+y*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(A,1.));}",i:["u108","u144"].concat(e),precision:"lowp"},f.s102={name:"_",g:"uniform sampler2D u71;uniform vec4 u108,u72;uniform float u144;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u144;vec4 a=u108,d=texture2D(u71,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u72*e),c=mix(c,l,u72.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u141,u142,u148;varying vec2 vv0;const vec2 e=vec2(1.);const vec3 m=vec3(1.);const vec2 C=vec2(-1.,1.),n=vec2(.16,.5),o=vec2(.5,.5),p=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 q(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,n);vec2 f=u82*e;vec3 c=u82*m;vec2 r=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,o).rgb+vec3(u76,0.,0.),u79,c);float s=mix(texture2D(u38,p).r,0.,u82);a.z+=s;mat3 t=q(a);vec3 u=mix(u139,u80,c);float v=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 w=mat2(h,i,-i,h);b.xy=w*b.xy;float x=mix(u78,1.,u82);vec2 j=u77/r;vec3 k=a0;float y=max(0.,-a0.z-u141)*u142;k.x+=y*sign(a0.x)*(1.-u82);vec3 z=t*(k+u)*v+b;vec2 A=j*x;vec3 B=vec3(g*A,-j)+z*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(B,1.)),vv0=a1;}",i:["u108","u144"].concat(v,e),I:["a0","a1"],P:[3,2],precision:"lowp"},e=["u132","u120","u133"],f.s103={name:"_",g:"varying vec3 vv0;varying float vv1;void main(){gl_FragColor=vec4(vv0,vv1);}",s:"attribute vec3 a0;uniform mat4 u132,u120,u133;varying vec3 vv0;varying float vv1;void main(){vec4 a=u133*vec4(a0,1.);gl_Position=u132*u120*a,vv0=a.xyz,vv1=1.;}",i:e,precision:"highp"},f.s104={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(normalize(vv0),1.);}",s:"attribute vec3 a0,a2;uniform mat4 u132,u120,u133;varying vec3 vv0;varying float vv1;void main(){vec4 a=u133*vec4(a2,0.);gl_Position=u132*u120*u133*vec4(a0,1.),vv0=a.xyz,vv1=a0.y;}",i:e,I:["a0","a2"],precision:"highp"},f.s94={name:"_",g:"uniform sampler2D u149;uniform vec3 u150;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;const vec3 i=vec3(1.,1.,1.);void main(){vec3 j=normalize(vv1+u150),c=normalize(vv2),b=texture2D(u149,vv3).xyz;b=normalize(b*255./127.-1.007874*i);vec3 d=vv0.xyz,k=cross(c,d)*vv0.w;mat3 l=mat3(d,k,c);vec3 a=l*b;a=dot(a,j)>0.?vv2:a,gl_FragColor=vec4(a,1.);}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;void main(){vec4 b=u133*vec4(a2,0.),a=u133*vec4(a0,1.);gl_Position=u132*u120*a,vv0=a3,vv2=b.xyz,vv3=a1,vv1=a.xyz;}",i:["u149","u150"].concat(e),I:["a0","a2","a1","a3"],precision:"highp"},f.s93={name:"_",g:"uniform sampler2D u1;uniform vec3 u143;uniform float u70;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);vec3 b=mix(u143,a.rgb,a.a);vec4 c=vec4(mix(a.rgb*u143,b,u70),a.a);gl_FragColor=c;}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec2 vv0;const vec4 f=vec4(0.,0.,5e-4,0.);void main(){gl_Position=u132*u120*u133*vec4(a0,1.)+f,vv0=a1;}",i:["u143"].concat(c,e),I:["a0","a1"],Ca:[{search:"0.0005",replace:A.da()?"0.0005":"0.0"}],precision:"lowp"},f.s105={name:"_",g:"uniform vec4 u108;uniform float u144;void main(){float b=u144;vec4 a=u108;float c=floor(15.99*b),d=floor(15.99*a.b);a.b=(c+16.*d)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;uniform mat4 u132,u120,u133;void main(){gl_Position=u132*u120*u133*vec4(a0,1.);}",i:["u108"].concat(e),precision:"highp"},f.s95={name:"_",g:"uniform sampler2D u71;uniform vec4 u108,u72;uniform float u144;varying vec2 vv0;vec2 i(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float c=u144;vec4 a=u108,d=texture2D(u71,vv0);vec2 b=i(d.b,4.);float f=1.-b.x,g=b.y;b=i(d.a,1.);float h=b.x,e=b.y;vec4 k=vec4(d.rg,g,h);float l=f;a=mix(a,k,u72*e),c=mix(c,l,u72.b*e);float m=floor(15.99*c),n=floor(15.99*a.b);a.b=(m+16.*n)/255.,gl_FragColor=a;}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec2 vv0;void main(){gl_Position=u132*u120*u133*vec4(a0,1.),vv0=a1;}",i:["u108"].concat(v,e),I:["a0","a1"],P:[3,2],precision:"highp"}}function r(){for(var e in f)a(y,f[e])}var o=!1,c=["u1","u70"],v=["u71","u72"],l="u73 u74 u75 u76 u77 u78".split(" "),s="u79 u80 u81 u82 u83 u84".split(" "),f={},m=-1,h=null,g=0,d={na:function(e,t){f[e]=t,o&&a(y,f[e])},Rp:function(e,t){f[e]=t,t.Rh=!1,a(y,f[e])},Tb:function(){return o},m:function(){f.s0={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"highp"},f.s1={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"lowp"},f.s65={name:"_",g:"uniform sampler2D u1,u8;uniform float u9;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){gl_FragColor=vec4(mix(texture2D(u8,vv0).rgb,texture2D(u1,vv0).rgb,u9*f),1.);}",i:["u1","u8","u9"],precision:"highp"},f.s66={name:"_",g:"uniform sampler2D u1,u8;uniform float u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){gl_FragColor=mix(texture2D(u8,vv0),texture2D(u1,vv0),u9*f);}",i:["u1","u8","u9"],precision:"highp"},f.s12={name:"_",g:"uniform sampler2D u1,u85;uniform vec2 u86;uniform float u87,u88;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 b=texture2D(u85,vv0*u86),c=texture2D(u1,vv0*u86);float a=smoothstep(u87,0.,vv0.y);a+=smoothstep(1.-u87,1.,vv0.y),gl_FragColor=pow(mix(c,b,a*f),u88*f);}",i:["u1","u86","u85","u87","u88"]},f.s67={name:"_",g:"uniform sampler2D u1,u85;uniform vec2 u86;uniform float u87,u88;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),f=exp2(c);vec3 g=clamp(b/f,0.,1.);return vec4(g,(c+128.)/256.);}void main(){vec2 a=vv0*u86;float c=floor(a.x),d=mod(c,2.);a.x=mod(a.x,1.),a.x=mix(a.x,1.-a.x,d);vec3 f=texture2D(u85,a).rgb,g=texture2D(u1,a).rgb;float b=smoothstep(u87,0.,vv0.y);b+=smoothstep(1.-u87,1.,vv0.y);vec3 j=mix(g,f,b*h);vec4 k=i(pow(j,u88*h));gl_FragColor=k;}",i:["u1","u86","u85","u87","u88"],precision:"highp"},f.s68={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);if(a.a<.5)discard;gl_FragColor=a;}",i:["u1"],precision:"lowp"},f.s69={name:"_",g:"uniform sampler2D u1,u89;uniform vec2 u10;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u10*f).rgb+texture2D(u1,a+u10*g).rgb+texture2D(u1,a+u10*h).rgb+texture2D(u1,a+u10*i).rgb;gl_FragColor=vec4(b/5.,1.);}",i:["u1","u10"],precision:"lowp"},f.s70={name:"_",g:"uniform sampler2D u1,u89,u38;uniform vec2 u10,u90;varying vec2 vv0;const vec3 k=vec3(1.,1.,1.);const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4);void main(){vec2 a=vv0;vec3 b=texture2D(u1,a).rgb+texture2D(u1,a+u10*f).rgb+texture2D(u1,a+u10*g).rgb+texture2D(u1,a+u10*h).rgb+texture2D(u1,a+u10*i).rgb;float c=texture2D(u38,vec2(.5,.5)).a,d=u90.x+pow(c,2.)*(u90.y-u90.x);vec3 j=mix(b/5.,texture2D(u89,a).rgb,d);gl_FragColor=vec4(j,1.);}",i:["u1","u89","u10","u38","u90"],precision:"lowp"},f.s71={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const vec3 f=vec3(.299,.587,.114);const float m=.007813,n=.125,h=8.;void main(){vec2 x=vv0;vec3 o=texture2D(u1,vv0+vec2(-1.,-1.)*u10).xyz,p=texture2D(u1,vv0+vec2(1.,-1.)*u10).xyz,q=texture2D(u1,vv0+vec2(-1.,1.)*u10).xyz,r=texture2D(u1,vv0+vec2(1.,1.)*u10).xyz,s=texture2D(u1,vv0).xyz;float b=dot(o,f),c=dot(p,f),e=dot(q,f),g=dot(r,f),i=dot(s,f),t=min(i,min(min(b,c),min(e,g))),u=max(i,max(max(b,c),max(e,g)));vec2 a;a.x=-(b+c-(e+g)),a.y=b+e-(c+g);float v=max((b+c+e+g)*(.25*n),m),w=1./(min(abs(a.x),abs(a.y))+v);a=min(vec2(h,h),max(vec2(-h,-h),a*w))*u10;vec3 j=.5*(texture2D(u1,vv0+a*-.166667).rgb+texture2D(u1,vv0+a*.166667).rgb),k=j*.5+.25*(texture2D(u1,vv0+a*-.5).rgb+texture2D(u1,vv0+a*.5).rgb);float l=dot(k,f);gl_FragColor=l<t||l>u?vec4(j,1.):vec4(k,1.);}",i:["u1","u10"],precision:"lowp"},f.s44={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(0.,0.,0.);vec4 g(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),h=exp2(c);vec3 i=clamp(b/h,0.,1.);return vec4(i,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=g(max(a,f));}",i:["u1"],precision:"highp"},f.s72={name:"_",g:"uniform sampler2D u91,u92;uniform float u93,u94;varying vec2 vv0;void main(){vec3 a=texture2D(u92,vv0).rgb,b=texture2D(u91,vv0).rgb;gl_FragColor=vec4(b*u94+u93*a,1.);}",i:["u91","u92","u93","u94"],precision:"highp"},f.s73={name:"_",g:"uniform sampler2D u95,u96;uniform float u88;varying vec2 vv0;const int j=8888;const float e=3.141592;const vec2 k=vec2(0.,0.);const vec3 n=vec3(1.,1.,1.),o=vec3(0.,0.,0.);void main(){float p=e*(vv0.x*2.-1.),q=e/2.*(vv0.y*2.-1.),b,c,r,l,m;vec4 d;vec3 f=o;vec2 g=k,a=k;for(int h=0;h<j;h+=1)a.x=float(h),a.y=floor(a.x/64.),d=texture2D(u96,a/64.),b=e*d.r,c=2.*asin(sqrt(.25+d.g*.25)),l=p+c*cos(b),m=q+c*sin(b),g.x=.5+.5*l/e,g.y=.5+m/e,f+=pow(texture2D(u95,g).rgb,u88*n);f/=float(j),gl_FragColor=vec4(f,1.);}",i:["u95","u96","u88"],precision:"lowp",Ca:[{search:"8888",replace:e.bm[Se.T()]}]},f.s74={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);float b=.031496*texture2D(u1,vv0-3.*u10).a+.110236*texture2D(u1,vv0-2.*u10).a+.220472*texture2D(u1,vv0-u10).a+.275591*a.a+.220472*texture2D(u1,vv0+u10).a+.110236*texture2D(u1,vv0+2.*u10).a+.031496*texture2D(u1,vv0+3.*u10).a;gl_FragColor=vec4(a.rgb,4.*b);}",i:["u1","u10"],precision:"lowp"},f.s75={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);float b=.3*pow(a.a,2.);gl_FragColor=vec4(a.rgb+b*f,1.);}",i:["u1"],precision:"lowp"},f.s76={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=.031496*texture2D(u1,vv0-3.*u10)+.110236*texture2D(u1,vv0-2.*u10)+.220472*texture2D(u1,vv0-u10)+.275591*texture2D(u1,vv0)+.220472*texture2D(u1,vv0+u10)+.110236*texture2D(u1,vv0+2.*u10)+.031496*texture2D(u1,vv0+3.*u10);gl_FragColor=a;}",i:["u1","u10"],precision:"lowp"},f.s77={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0-3.*u10)+texture2D(u1,vv0-2.*u10)+texture2D(u1,vv0-u10)+texture2D(u1,vv0)+texture2D(u1,vv0+u10)+texture2D(u1,vv0+2.*u10)+texture2D(u1,vv0+3.*u10);gl_FragColor=a/7.;}",i:["u1","u10"],precision:"lowp"},f.s78={name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec4 g=vec4(0.,0.,0.,0.);const float e=256.;void main(){vec4 b=g;float c=0.;vec2 d;for(float a=0.;a<e;a+=1.)d=vec2((a+.5)/e,vv0.y),b+=texture2D(u1,d),c+=1.;gl_FragColor=b/c;}",i:["u1"],precision:"highp"},f.s79={name:"_",g:"uniform sampler2D u1,u85;varying vec2 vv0;const vec4 h=vec4(1.,1.,1.,1.);const float f=0.,g=.3;void main(){vec4 b=texture2D(u85,vv0),c=texture2D(u1,vv0);float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=mix(c,b,a*h);}",i:["u1","u85"],precision:"highp"},f.s80={name:"_",g:"uniform sampler2D u1,u85;varying vec2 vv0;const vec3 h=vec3(1.,1.,1.);const float f=0.,g=.3;vec4 i(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),j=exp2(c);vec3 k=clamp(b/j,0.,1.);return vec4(k,(c+128.)/256.);}void main(){vec3 b=texture2D(u85,vv0).rgb,c=texture2D(u1,vv0).rgb;float a=smoothstep(g,f,vv0.y);a+=smoothstep(1.-g,1.-f,vv0.y),gl_FragColor=i(mix(c,b,a*h));}",i:["u1","u85"],precision:"highp"},f.s81={name:"_",g:"uniform sampler2D u1,u97,u2,u98;uniform vec4 u99;uniform vec2 u100;uniform float u101,u102,u103,u104;varying vec2 vv0;const vec2 g=vec2(1.,1.),h=vec2(.5,.5);const float e=3.141592;void main(){vec4 d=texture2D(u1,vv0),i=texture2D(u97,vec2(1.-vv0.x,vv0.y));float j=step(texture2D(u98,vec2(.25,.5)).r,1.);vec2 a=vv0*2.-g;float k=texture2D(u2,a*u100*.5+h).r,l=atan(a.x,a.y),m=-(mod(u101,2.*e)-e),b=mod(l-m+e,2.*e)-e,n=smoothstep(0.,u102,b),c=.5+u104*(.5-n);c*=(sign(b)+1.)/2.;vec4 o=i+c*u99*k;gl_FragColor=mix(d,o,j*u103);}",i:"u1 u2 u98 u97 u99 u101 u102 u103 u100 u104".split(" "),precision:"lowp"};var t="u105 u106 u107 u108 u95 u109 u3 u110 u97 u111 u112 u113 u114 u115 u10".split(" ");if(e.ca&&(f.s82={name:"_",g:"uniform sampler2D u105,u106,u107,u108,u95,u109,u116,u97;uniform vec3 u110,u113;uniform vec2 u10;uniform float u3,u117,u112,u114,u111;varying vec2 vv0;const float j=3.141592;const vec3 u=vec3(0.,0.,0.),v=vec3(.299,.587,.114);const float w=2.;vec3 l(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 x(vec3 a){float b=atan(a.x,a.z),c=acos(-a.y);return vec2(.5-.5*b/j,1.-c/j);}vec2 y(vec3 a,float b){vec2 d=vec2(1.,.5)/pow(2.,b),f=vec2(0.,1.-pow(.5,b));float g=atan(a.x,a.z),h=acos(-a.y),c=.5+.5*g/j,i=h/j,k=pow(2.,b)/u111;c=(1.-k)*c;return f+vec2(c,i)*d;}void main(){vec4 c=texture2D(u105,vv0);vec3 k=texture2D(u97,vec2(1.-vv0.x,vv0.y)).rgb;if(c.a<.01){gl_FragColor=vec4(k,0.);return;}float z=c.a;vec3 A=c.rgb,B=A+u110;vec4 b=texture2D(u108,vv0),m=texture2D(u106,vv0);vec3 d=m.rgb;float f=m.a;vec4 n=texture2D(u107,vv0);vec3 C=n.rgb;float o=b.r,D=b.g,p=floor(b.b*255.),g=floor(p/16.),E=(p-16.*g)/16.;g/=16.;float F=b.a;f=1.-(1.-f)*(1.-n.a);vec2 G=x(-d);vec3 q=(1.-F)*l(texture2D(u109,G)),r=normalize(B),h=u,s=reflect(-r,d);vec2 H=y(s,floor(D*u3));float I=acos(-s.z),J=smoothstep(u112-u114,u112+u114,I);h=mix(l(texture2D(u95,H)),u113,J);float a=o+(E-o)*pow(1.-dot(d,-r),g*16.);a=clamp(a,0.,1.);float t=1.-u117*texture2D(u116,vv0).r;h*=pow(t,2.),q*=t;vec3 i=C*mix(q,h,a),M=mix(k,i,z*(f*(1.-a)+a));float K=dot(i,v),L=max(0.,(K-1.)/(w-1.));gl_FragColor=vec4(i,L);}",i:t.concat(["u116","u117"]),precision:"highp"}),f.s83={name:"_",g:"uniform sampler2D u105,u106,u107,u108,u95,u109,u97;uniform vec3 u110,u113;uniform vec2 u10;uniform float u3,u112,u114,u115,u118,u119,u111;varying vec2 vv0;const float g=3.141592;const vec3 G=vec3(0.),m=vec3(1.),H=vec3(.299,.587,.114);const float I=2.;vec3 q(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}vec2 J(vec3 a){float b=atan(a.x,-a.z),c=acos(-a.y);return vec2(.5-.5*b/g,1.-c/g);}vec2 K(vec3 a,float e){float b=pow(2.,e);vec2 f=vec2(1.,.5)/b,h=vec2(0.,1.-1./b);float i=atan(a.x,a.z),j=acos(-a.y),c=.5+.5*i/g,k=j/g,l=.5*b/u111;c=(1.-l)*c;return h+vec2(c,k)*f;}float n(vec3 a,vec3 b){return abs(acos(dot(a,b)));}float o(vec2 a){float b=texture2D(u105,a).a;return step(.01,b);}vec3 p(vec2 a){return texture2D(u97,vec2(1.-a.x,a.y)).rgb;}void main(){vec4 h=texture2D(u105,vv0);if(h.a<.01){gl_FragColor=vec4(p(vv0),0.);return;}float i=h.a;vec3 L=h.rgb,M=L+u110;vec4 c=texture2D(u108,vv0),r=texture2D(u106,vv0);vec3 a=r.rgb;float j=r.a;vec4 k=texture2D(u107,vv0);vec3 e=k.rgb;if(i>1.){gl_FragColor=vec4(mix(p(vv0),e,k.a),1.);return;}e=pow(e,u118*m);float s=c.r,N=c.g,O=c.a,t=floor(c.b*255.),l=floor(t/16.),P=(t-16.*l)/16.;l/=16.,j=1.-(1.-j)*(1.-k.a);vec2 u=vv0+vec2(-1.,0.)*u10,v=vv0+vec2(1.,0.)*u10,w=vv0+vec2(0.,1.)*u10,x=vv0+vec2(0.,-1.)*u10;vec3 Q=texture2D(u106,u).rgb,R=texture2D(u106,v).rgb,S=texture2D(u106,w).rgb,T=texture2D(u106,x).rgb;float U=n(a,Q)*o(u),V=n(a,R)*o(v),W=n(a,S)*o(w),X=n(a,T)*o(x),Y=2.*max(max(U,V),max(W,X)),Z=1.2*clamp(Y/g,0.,1.),_=max(N,Z);vec2 aa=J(a);vec3 ba=q(texture2D(u109,aa)),ca=(1.-O)*ba,y=normalize(M),z=G,A=reflect(-y,a);float da=floor(_*u3);vec2 ea=K(A,da);float fa=acos(-A.z),ga_=smoothstep(u112-u114,u112+u114,fa);vec3 ha=q(texture2D(u95,ea));z=mix(ha,u113,ga_*u115);float b=s+(P-s)*pow(1.+dot(a,y),l*15.);b=clamp(b,0.,1.);vec2 B=vv0;vec3 C=refract(vec3(0.,0.,-1.),a,.666667);float ia=smoothstep(.1,.3,length(C.xy)),D=sqrt(u10.y/u10.x),ja=smoothstep(.3,.8,i);B+=ja*C.xy*vec2(1./D,D)*ia*.03;vec3 ka=e*mix(ca,z,b);float E=i*(j*(1.-b)+b);vec3 f=mix(p(B),pow(ka,m/u118),E);float F=dot(f,H),la=max(0.,(F-1.)/(I-1.));f=mix(F*m,f,mix(1.,u119,E)*m),gl_FragColor=vec4(f,la);}",i:t.concat(["u118","u119"]),precision:"highp"},e.ca&&(f.s84={name:"_",g:"uniform sampler2D u105,u106;uniform mat4 u120;uniform vec2 u121,u10,u122;uniform float u123,u124,u125,u126,u127,u128,u129,u130,u117;varying vec2 vv0;const float PI=3.141593,HALFPI=1.570796,N=8888.8;void main(){vec2 uvt=vv0+u122;vec4 pos=texture2D(u105,uvt);if(pos.a<.01){gl_FragColor=vec4(0.,0.,0.,1.);return;}vec3 co0=pos.rgb;float c=cos(u123),s=sin(u123);vec3 no0=texture2D(u106,uvt).rgb;float zv=(u120*vec4(co0,1.)).z;vec3 co;vec2 scale=u121/abs(zv),uv,duv=u10*vec2(c,s)*scale;vec3 dp,dpn;float dzMax=0.,angleMin=0.,angle;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u105,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u129,u130,length(dp)),angleMin=max(angleMin,angle),dzMax=max(dzMax,sin(angle)*length(dp));float angleMinInv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u105,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u129,u130,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMinInv=max(angleMinInv,angle);duv=u10*vec2(s,c)*scale;float angleMin2=0.;for(float i=0.;i<N;i+=1.)uv=uvt+i*duv,co=texture2D(u105,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u129,u130,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2=max(angleMin2,angle);float angleMin2Inv=0.;for(float i=0.;i<N;i+=1.)uv=uvt-i*duv,co=texture2D(u105,uv).rgb,dp=co-co0,dpn=normalize(dp),angle=atan(dot(no0,dpn),length(cross(no0,dpn))),angle*=1.-smoothstep(u129,u130,length(dp)),dzMax=max(dzMax,sin(angle)*length(dp)),angleMin2Inv=max(angleMin2Inv,angle);float omegaMin=PI/4.*(angleMin+angleMinInv)*(angleMin2+angleMin2Inv),dzFactor=clamp(dzMax/u126,u127,1.),ao=dzFactor*clamp(u125*omegaMin*u128,0.,u117);gl_FragColor=vec4(ao,ao,ao,u124);}",i:"u105 u106 u125 u124 u123 u10 u131 u126 u127 u128 u129 u130 u120 u121 u117".split(" "),Ca:[{search:"8888.8",replace:e.ck[Se.T()].toFixed(1)}],precision:"lowp"},f.s85={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;const vec2 f=vec2(-.9,.4),g=vec2(.4,.9),h=vec2(-.4,-.9),i=vec2(.9,-.4),j=vec2(-1.9,.9),k=vec2(.9,1.9),l=vec2(-.9,-1.9),m=vec2(1.9,-.9);void main(){vec2 a=vv0;vec4 b=texture2D(u1,a)+texture2D(u1,a+u10*f)+texture2D(u1,a+u10*g)+texture2D(u1,a+u10*h)+texture2D(u1,a+u10*i);b+=texture2D(u1,a+u10*j)+texture2D(u1,a+u10*k)+texture2D(u1,a+u10*l)+texture2D(u1,a+u10*m),gl_FragColor=b/9.;}",i:["u1","u10"],precision:"lowp"}),f.s86={name:"_",g:"varying vec3 vv0;void main(){gl_FragColor=vec4(vv0,1.);}",s:"attribute vec3 a0;uniform mat4 u132,u120,u133;varying vec3 vv0;void main(){vec4 a=u132*u120*u133*vec4(a0,1.);gl_Position=a,vv0=a.xyz/a.w;}",i:["u132","u120","u133"],precision:"lowp"},f.s87={name:"_",g:"uniform sampler2D u134,u109,u96;uniform mat4 u132,u135;uniform vec2 u136;uniform float u137;varying vec2 vv0;const float n=8888.8,o=9999.9,p=25.,v=50.,w=1.2,e=3.141592;const vec4 x=vec4(0.,0.,0.,0.),A=vec4(1.,1.,1.,1.);const vec2 f=vec2(.5,.5);vec2 y(vec3 a){float b=atan(a.x,a.z),c=acos(a.y);return vec2(.5-.5*b/e,1.-c/e);}void main(){float d,a,q;vec2 z=vec2(vv0.x,1.-vv0.y),b;vec3 r=vec3(u136*(z-f),0.),B=vec3(u135*vec4(r,1.)),g,s;vec4 t=x,h,c,u;vec3 i;int j;for(float k=0.;k<n;k+=1.){b.x=k,b.y=floor(b.x/64.),c=texture2D(u96,b/64.),d=e*c.r,a=2.*asin(sqrt(.25+c.g*.25)),g=vec3(cos(d)*sin(a),sin(d)*sin(a),-cos(a)),q=p+(.5+.5*c.b)*(v-p),j=0;for(float l=0.;l<=o;l+=1.){u=vec4(r+g*q*pow(l/o,w),1.),h=u132*u,i=h.xyz/h.w;if(texture2D(u134,f+f*i.xy).z<i.z){j=1;break;}}if(j==1)continue;s=vec3(u135*vec4(g,0.)),t+=texture2D(u109,y(s));}gl_FragColor=vec4(u137*t.rgb/n,1.);}",i:"u134 u109 u96 u132 u135 u136 u137".split(" "),Ca:[{search:"8888.8",replace:e.Xn[Se.T()].toFixed(1)},{search:"9999.9",replace:e.Yn[Se.T()].toFixed(1)}],precision:"lowp"},f.s88={name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=.285714*texture2D(u1,vv0-u10)+.428571*texture2D(u1,vv0)+.285714*texture2D(u1,vv0+u10);gl_FragColor=a;}",i:["u1","u10"],precision:"lowp"},f.s89={name:"_",g:"uniform sampler2D u1,u138;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",s:"attribute vec3 a0;attribute vec2 a1;uniform mat4 u132,u120;varying vec2 vv0;void main(){vec4 a=u132*u120*vec4(a0,1.);gl_Position=a,vv0=a1;}",i:["u132","u120","u1"],I:["a0","a1"],precision:"lowp"},Se.Y()){t="u38 u139 u140 u141 u142 u39 u108 u143 u144 u9 u145 u146 u75".split(" ").concat(l,s),Se.bi()||(f.s90={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,0.,0.),gl_FragData[2]=vec4(0.,0.,0.,0.),gl_FragData[3]=vec4(0.,0.,0.,0.);}",i:[],precision:"lowp",ba:!0}),f.s91={name:"_",s:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform vec4 color;void main(){gl_FragData[0]=color,gl_FragData[1]=color,gl_FragData[2]=color,gl_FragData[3]=color;}",i:["color"],ba:!0},f.s92NNGLcolor={name:"_",g:"uniform vec4 u108,u9;uniform vec3 u143;uniform float u144;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv3),c=u144;vec4 a=u108;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u143,0.),gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u145,u146,u141,u142,u148;varying vec3 vv0,vv1;varying float vv2,vv3;const vec2 e=vec2(1.);const vec3 r=vec3(1.);const vec2 F=vec2(-1.,1.),s=vec2(.16,.5),t=vec2(.5,.5),u=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 v(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,s);vec2 f=u82*e;vec3 c=u82*r;vec2 w=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,t).rgb+vec3(u76,0.,0.),u79,c);float x=mix(texture2D(u38,u).r,0.,u82);a.z+=x;mat3 h=v(a);vec3 y=mix(u139,u80,c);float z=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 A=mat2(i,j,-j,i);b.xy=A*b.xy;float B=mix(u78,1.,u82);vec2 k=u77/w;vec3 l=a0;float C=max(0.,-a0.z-u141)*u142;l.x+=C*sign(a0.x)*(1.-u82);vec3 m=h*(l+y)*z+b;vec2 D=k*B;vec3 E=vec3(g*D,-k)+m*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(E,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv2=smoothstep(u145,u146,a0.z),vv0=m,vv3=a0.y;}",i:t,I:["a0","a2"],P:[3,3],ba:!0},f.s92NNGLtexture={name:"_",g:"uniform sampler2D u1;uniform vec4 u108,u9;uniform vec3 u143;uniform float u144,u70;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u144;vec4 b=u108;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u143,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u143,l,u70),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u145,u146,u141,u142,u148;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,t);vec2 f=u82*e;vec3 c=u82*s;vec2 x=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,u).rgb+vec3(u76,0.,0.),u79,c);float y=mix(texture2D(u38,v).r,0.,u82);a.z+=y;mat3 h=w(a);vec3 z=mix(u139,u80,c);float A=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u78,1.,u82);vec2 k=u77/x;vec3 l=a0;float D=max(0.,-a0.z-u141)*u142;l.x+=D*sign(a0.x)*(1.-u82);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u145,u146,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",i:t.concat(c),I:["a0","a2","a1"],P:[3,3,2],ba:!0},f.s92NNGLtextureNormalMap={name:"_",g:"uniform vec4 u108,u9;uniform vec3 u143;uniform sampler2D u1,u149;uniform float u144,u70;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u149,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u144;vec4 c=u108;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u143,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u143,t,u70),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u145,u146,u141,u142,u148;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,u);vec2 f=u82*e;vec3 c=u82*t;vec2 y=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,v).rgb+vec3(u76,0.,0.),u79,c);float z=mix(texture2D(u38,w).r,0.,u82);a.z+=z;mat3 h=x(a);vec3 A=mix(u139,u80,c);float B=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u78,1.,u82);vec2 k=u77/y;vec3 l=a0;float E=max(0.,-a0.z-u141)*u142;l.x+=E*sign(a0.x)*(1.-u82);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u145,u146,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",i:t.concat(c,["u149"]),I:["a3","a0","a2","a1"],P:[4,3,3,2],ba:!0},f.s92NNGLtextureParamsMap={name:"_",g:"uniform sampler2D u1,u71;uniform vec4 u108,u9,u72;uniform vec3 u143;uniform float u144,u70;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u144;vec4 a=u108,e=texture2D(u71,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u72*f),d=mix(d,r,u72.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u143,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u143,u,u70),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u145,u146,u141,u142,u148;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;const vec2 e=vec2(1.);const vec3 s=vec3(1.);const vec2 G=vec2(-1.,1.),t=vec2(.16,.5),u=vec2(.5,.5),v=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 w(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,t);vec2 f=u82*e;vec3 c=u82*s;vec2 x=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,u).rgb+vec3(u76,0.,0.),u79,c);float y=mix(texture2D(u38,v).r,0.,u82);a.z+=y;mat3 h=w(a);vec3 z=mix(u139,u80,c);float A=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 B=mat2(i,j,-j,i);b.xy=B*b.xy;float C=mix(u78,1.,u82);vec2 k=u77/x;vec3 l=a0;float D=max(0.,-a0.z-u141)*u142;l.x+=D*sign(a0.x)*(1.-u82);vec3 m=h*(l+z)*A+b;vec2 E=k*C;vec3 F=vec3(g*E,-k)+m*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(F,1.)),vv1=h*a2*vec3(1.,-1.,-1.),vv3=smoothstep(u145,u146,a0.z),vv2=a1,vv0=m,vv4=a0.y;}",i:t.concat(c,v),I:["a0","a2","a1"],P:[3,3,2],ba:!0},f.s92NNGLtextureNormalParamsMap={name:"_",g:"uniform sampler2D u1,u149,u71;uniform vec4 u108,u9,u72;uniform vec3 u143;uniform float u144,u70;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u149,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u144;vec4 a=u108,f=texture2D(u71,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u72*l),e=mix(e,z,u72.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u143,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u143,C,u70),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u147;uniform float u140,u145,u146,u141,u142,u148;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec2 e=vec2(1.);const vec3 t=vec3(1.);const vec2 H=vec2(-1.,1.),u=vec2(.16,.5),v=vec2(.5,.5),w=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 x(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,u);vec2 f=u82*e;vec3 c=u82*t;vec2 y=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,v).rgb+vec3(u76,0.,0.),u79,c);float z=mix(texture2D(u38,w).r,0.,u82);a.z+=z;mat3 h=x(a);vec3 A=mix(u139,u80,c);float B=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 C=mat2(i,j,-j,i);b.xy=C*b.xy;float D=mix(u78,1.,u82);vec2 k=u77/y;vec3 l=a0;float E=max(0.,-a0.z-u141)*u142;l.x+=E*sign(a0.x)*(1.-u82);vec3 m=h*(l+A)*B+b;vec2 F=k*D;vec3 G=vec3(g*F,-k)+m*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(G,1.)),vv2=h*a2*vec3(1.,-1.,-1.),vv4=smoothstep(u145,u146,a0.z),vv0=a3,vv3=a1,vv1=m,vv5=a0.y;}",i:t.concat(c,["u149"],v),I:["a3","a0","a2","a1"],P:[4,3,3,2],ba:!0},t="u132 u120 u133 u108 u143 u144 u9".split(" "),f.s92color={name:"_",g:"uniform vec4 u108,u9;uniform vec3 u143;uniform float u144;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){float b=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv3),c=u144;vec4 a=u108;float d=floor(15.99*c),i=floor(15.99*a.b);a.b=(d+16.*i)/255.,gl_FragData[0]=vec4(vv0,vv2),gl_FragData[1]=vec4(normalize(vv1),b),gl_FragData[2]=vec4(u143,0.),gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;uniform mat4 u132,u120,u133;varying vec3 vv0,vv1;varying float vv2,vv3;void main(){vec4 a=u133*vec4(a0,1.),b=u133*vec4(a2,0.);gl_Position=u132*u120*a,vv0=a.xyz,vv1=b.xyz,vv2=1.,vv3=a0.y;}",i:t,I:["a0","a2"],ba:!0},f.s92={name:"_",g:"uniform sampler2D u1;uniform vec4 u108,u9;uniform vec3 u143;uniform float u144,u70;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){float c=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u144;vec4 b=u108;float j=floor(15.99*d),k=floor(15.99*b.b);b.b=(j+16.*k)/255.;vec4 a=texture2D(u1,vv2);vec3 l=mix(u143,a.rgb,a.a);vec4 m=vec4(mix(a.rgb*u143,l,u70),a.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),c),gl_FragData[2]=m,gl_FragData[3]=b;}",s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u133*vec4(a0,1.),b=u133*vec4(a2,0.);gl_Position=u132*u120*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:t.concat(c),I:["a0","a2","a1"],ba:!0};var a=["u149","u150"];f.s92NormalMap={name:"_",g:"uniform sampler2D u1,u149;uniform vec4 u108,u9;uniform vec3 u150,u143;uniform float u144,u70;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 l=vec3(1.,1.,1.);void main(){float m=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 v=vec3(0.,0.,-1.),d=normalize(vv2),b=texture2D(u149,vv3).xyz;b=normalize(b*255./127.-1.007874*l);vec3 g=vv0.xyz,n=cross(d,g)*vv0.w;mat3 o=mat3(g,n,d);vec3 p=o*b;float q=u144;vec4 c=u108;float r=floor(15.99*q),s=floor(15.99*c.b);c.b=(r+16.*s)/255.;vec4 a=texture2D(u1,vv3);vec3 t=mix(u143,a.rgb,a.a);vec4 u=vec4(mix(a.rgb*u143,t,u70),a.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(p,m),gl_FragData[2]=u,gl_FragData[3]=c;}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u133*vec4(a0,1.),b=u133*vec4(a2,0.);gl_Position=u132*u120*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:t.concat(c,a),I:["a0","a2","a1","a3"],ba:!0},f.s92ParamsMap={name:"_",g:"uniform sampler2D u1,u71;uniform vec4 u108,u9,u72;uniform vec3 u143;uniform float u144,u70;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;vec2 j(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float g=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv4),d=u144;vec4 a=u108,e=texture2D(u71,vv2);vec2 b=j(e.b,4.);float h=1.-b.x,o=b.y;b=j(e.a,1.);float p=b.x,f=b.y;vec4 q=vec4(e.rg,o,p);float r=h;a=mix(a,q,u72*f),d=mix(d,r,u72.b*f);float s=floor(15.99*d),t=floor(15.99*a.b);a.b=(s+16.*t)/255.;vec4 c=texture2D(u1,vv2);vec3 u=mix(u143,c.rgb,c.a);vec4 v=vec4(mix(c.rgb*u143,u,u70),c.a);gl_FragData[0]=vec4(vv0,vv3),gl_FragData[1]=vec4(normalize(vv1),g),gl_FragData[2]=v,gl_FragData[3]=a;}",s:"attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec3 vv0,vv1;varying vec2 vv2;varying float vv3,vv4;void main(){vec4 a=u133*vec4(a0,1.),b=u133*vec4(a2,0.);gl_Position=u132*u120*a,vv2=a1,vv0=a.xyz,vv1=b.xyz,vv3=1.,vv4=a0.y;}",i:t.concat(c,v),I:["a0","a2","a1"],ba:!0},f.s92NormalParamsMap={name:"_",g:"uniform sampler2D u1,u149,u71;uniform vec4 u108,u9,u72;uniform vec3 u150,u143;uniform float u144,u70;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;const vec3 q=vec3(1.,1.,1.);vec2 k(float d,float e){float f=floor(d*255.+.01),a=pow(2.,e),g=256./a,b=f/a,c=floor(b),h=(b-c)*a;return vec2(c/(g-1.),h/(a-1.));}void main(){float r=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv5);vec3 E=vec3(0.,0.,-1.),g=normalize(vv2),d=texture2D(u149,vv3).xyz;d=normalize(d*255./127.-1.007874*q);vec3 h=vv0.xyz,s=cross(g,h)*vv0.w;mat3 t=mat3(h,s,g);vec3 u=t*d;float e=u144;vec4 a=u108,f=texture2D(u71,vv3);vec2 b=k(f.b,4.);float v=1.-b.x,w=b.y;b=k(f.a,1.);float x=b.x,l=b.y;vec4 y=vec4(f.rg,w,x);float z=v;a=mix(a,y,u72*l),e=mix(e,z,u72.b*l);float A=floor(15.99*e),B=floor(15.99*a.b);a.b=(A+16.*B)/255.;vec4 c=texture2D(u1,vv3);vec3 C=mix(u143,c.rgb,c.a);vec4 D=vec4(mix(c.rgb*u143,C,u70),c.a);gl_FragData[0]=vec4(vv1,vv4),gl_FragData[1]=vec4(u,r),gl_FragData[2]=D,gl_FragData[3]=a;}",s:"attribute vec4 a3;attribute vec3 a0,a2;attribute vec2 a1;uniform mat4 u132,u120,u133;varying vec4 vv0;varying vec3 vv1,vv2;varying vec2 vv3;varying float vv4,vv5;void main(){vec4 a=u133*vec4(a0,1.),b=u133*vec4(a2,0.);gl_Position=u132*u120*a,vv0=a3,vv3=a1,vv1=a.xyz,vv2=b.xyz,vv4=1.,vv5=a0.y;}",i:t.concat(c,a,v),I:["a0","a2","a1","a3"],ba:!0}}else i();r(),t=[{type:"1i",name:"u1",value:0}],d.j("s0",t),d.j("s1",t),d.j("s65",[{type:"1i",name:"u8",value:1}].concat(t)),d.j("s66",[{type:"1i",name:"u8",value:1}].concat(t)),d.j("s12",[{type:"1i",name:"u85",value:1}].concat(t)),d.j("s67",[{type:"1i",name:"u85",value:1}].concat(t)),d.j("s68",t),d.j("s69",t),d.j("s70",[{type:"1i",name:"u89",value:1},{type:"1i",name:"u38",value:2}].concat(t)),d.j("s71",t),d.j("s44",t),d.j("s72",[{type:"1i",name:"u91",value:0},{type:"1i",name:"u92",value:1}]),d.j("s73",[{type:"1i",name:"u95",value:0},{type:"1i",name:"u96",value:1}]),d.j("s74",t),d.j("s75",t),d.j("s76",t),d.j("s77",t),d.j("s78",t),d.j("s79",[{type:"1i",name:"u85",value:1}].concat(t)),d.j("s80",[{type:"1i",name:"u85",value:1}].concat(t)),e.ca&&(d.j("s84",[{type:"1i",name:"u105",value:0},{type:"1i",name:"u106",value:1},{type:"1f",name:"u126",value:e.Rj},{type:"1f",name:"u127",value:e.Sj},{type:"1f",name:"u128",value:e.dk},{type:"1f",name:"u129",value:e.Vj},{type:"1f",name:"u130",value:e.Wj},{type:"1f",name:"u125",value:1},{type:"1f",name:"u117",value:1}]),d.j("s85",t)),a=[{type:"1i",name:"u105",value:0},{type:"1i",name:"u106",value:1},{type:"1i",name:"u107",value:2},{type:"1i",name:"u95",value:3},{type:"1i",name:"u109",value:4},{type:"1i",name:"u108",value:6},{type:"1i",name:"u97",value:7},{type:"1f",name:"u115",value:0},{type:"1f",name:"u112",value:0},{type:"1f",name:"u114",value:0}],e.ca&&d.j("s82",a.concat([{type:"1f",name:"u117",value:e.Uj[Se.T()]},{type:"1i",name:"u116",value:5}])),d.j("s83",a.concat([{type:"1f",name:"u118",value:e.Ec},{type:"1f",name:"u119",value:e.Tf}])),d.j("s87",[{type:"1i",name:"u134",value:0},{type:"1i",name:"u109",value:1},{type:"1i",name:"u96",value:2},{type:"1f",name:"u137",value:e.Wn}]),d.j("s88",t),d.j("s89",t),d.j("s81",[{type:"1i",name:"u2",value:1},{type:"1i",name:"u98",value:2},{type:"1i",name:"u97",value:3},{type:"1f",name:"u103",value:1},{type:"2f",name:"u100",value:[0,0]}].concat(t)),Se.Y()?(d.j("s92",t),d.j("s92NormalMap",[{type:"1i",name:"u149",value:1}].concat(t)),d.j("s92ParamsMap",[{type:"1i",name:"u71",value:1}].concat(t)),d.j("s92NormalParamsMap",[{type:"1i",name:"u149",value:1},{type:"1i",name:"u71",value:2}].concat(t))):u(),o=!0},Kn:function(){i(),r(),u()},od:function(){return h.id},Ze:function(){return l},$e:function(){return s},set:function(e){_.dj(d),f[e].set()},tb:function(e){return n(e,{name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],precision:"highp"})},Nd:function(e){return n(e,{name:"_",g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"})},Nn:function(e){return n(e,{name:"_",g:"const vec4 d=vec4(.5,.5,.5,.5);void main(){gl_FragData[0]=d,gl_FragData[1]=d,gl_FragData[2]=d,gl_FragData[3]=d;}",i:[],precision:"highp",ba:!0})},H:function(){-1!==m&&h.H()},Pd:function(){var e=0;h.ua.forEach((function(t,a){a=h.P[a],y.vertexAttribPointer(t,a,y.FLOAT,!1,h.Hg,e),e+=4*a}))},Zb:function(){d.$b(y)},$b:function(e){e.vertexAttribPointer(h.ua[0],2,e.FLOAT,!1,8,0)},Vp:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,12,0)},Ka:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,32,0)},Wa:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,24,0)},Xi:function(){y.vertexAttribPointer(h.attributes.a2,3,y.FLOAT,!1,32,12)},Yi:function(){y.vertexAttribPointer(h.attributes.a2,3,y.FLOAT,!1,24,12)},Hc:function(){y.vertexAttribPointer(h.attributes.a1,2,y.FLOAT,!1,32,24)},Wp:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,20,0),y.vertexAttribPointer(h.attributes.a1,2,y.FLOAT,!1,20,12)},An:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,32,0),y.vertexAttribPointer(h.attributes.a2,3,y.FLOAT,!1,32,12),y.vertexAttribPointer(h.attributes.a1,2,y.FLOAT,!1,32,24)},Bn:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,32,0),y.vertexAttribPointer(h.attributes.a2,3,y.FLOAT,!1,32,12)},Cn:function(){y.vertexAttribPointer(h.attributes.a0,3,y.FLOAT,!1,24,0),y.vertexAttribPointer(h.attributes.a2,3,y.FLOAT,!1,24,12)},Ld:function(){y.vertexAttribPointer(h.attributes.a3,4,y.FLOAT,!1,16,0)},Od:function(e,t){y.uniform1i(h.A[e],t)},G:function(e,t){y.uniform1f(h.A[e],t)},N:function(e,t,a){y.uniform2f(h.A[e],t,a)},kg:function(e,t){y.uniform2fv(h.A[e],t)},lg:function(e,t,a,n){y.uniform3f(h.A[e],t,a,n)},mg:function(e,t){y.uniform3fv(h.A[e],t)},wa:function(e,t){y.uniform4fv(h.A[e],t)},Rn:function(e,t){y.uniformMatrix2fv(h.A[e],!1,t)},Sn:function(e,t){y.uniformMatrix3fv(h.A[e],!1,t)},Ic:function(e,t){y.uniformMatrix4fv(h.A[e],!1,t)},j:function(e,t){d.set(e),t.forEach((function(e){switch(e.type){case"4f":y.uniform4fv(h.A[e.name],e.value);break;case"3f":y.uniform3fv(h.A[e.name],e.value);break;case"2f":y.uniform2fv(h.A[e.name],e.value);break;case"1f":y.uniform1f(h.A[e.name],e.value);break;case"1i":y.uniform1i(h.A[e.name],e.value);break;case"mat2":y.uniformMatrix2fv(h.A[e.name],!1,e.value);break;case"mat4":y.uniformMatrix4fv(h.A[e.name],!1,e.value)}}))},K:function(){for(var e in f){var t=f[e];y.detachShader(t.ma,t.bf),y.detachShader(t.ma,t.af),y.deleteShader(t.bf),y.deleteShader(t.af),y.deleteProgram(t.ma)}},v:function(){y.disableVertexAttribArray(0),d.H(),d.K(),g=0,o=!1,h=null,m=-1}};return d}(),Be=function(){var t,a={},n=[],u=!1,i=0,r=0,o=-1,c=-1,v=-1,l=1,s=null,f=!1,m=null,h=!1,g=!1,d=!1,b=!1,x=!1,p=!1,y=!1,E=!1,_=null,F=null,A=-1,R=-1,z=null,M=-1,j=null,P=null,C=null,L=null,B=null,k=null,O=null,S=[{type:"1f",name:"u82",value:0},{type:"1f",name:"u145",value:0},{type:"1f",name:"u146",value:0},{type:"1f",name:"u77",value:1},{type:"1f",name:"u74",value:0},{type:"1f",name:"u84",value:1}],N={m:function(i,r){a.og=i,Se.Dg(),Ve.Pe(),He.Pe(i.fe),o=i.Se,c=i.Fo,v=i.Lf,l=i.ee;var f=[{type:"1f",name:"u77",value:o},{type:"1f",name:"u74",value:v},{type:"1f",name:"u78",value:i.rn},{type:"mat4",name:"u73",value:i.Um},{type:"2f",name:"u39",value:i.Dj}];i.Cg=f;var m=[{type:"3f",name:"u79",value:[0,0,0]},{type:"3f",name:"u80",value:i.Lg},{type:"3f",name:"u81",value:i.Kg},{type:"1f",name:"u82",value:0},{type:"1f",name:"u83",value:i.fe},{type:"1f",name:"u84",value:1}];if(i.uj=m,N.Xl(i,r),u||void 0!==i.Ba||(i.Ba=[0,0,120]),E=y=ne.cf,!u&&y){r=1*Se.pb();var h=1*Se.ob(),g={isLinear:!0,isPot:!1,width:r,height:h};_=D.instance(g),F=D.instance(g),A=1/r,R=1/h}f=[{type:"1i",name:"u38",value:1},{type:"3f",name:"u75",value:i.Ba},{type:"1f",name:"u141",value:i.Vc},{type:"1f",name:"u142",value:i.Eb}].concat(f,m),m=[{type:"1f",name:"u145",value:(s=i.Ac)[0]},{type:"1f",name:"u146",value:s[1]}],Se.Y()?(r=[{type:"1i",name:"u1",value:0}],h=[{type:"1i",name:"u149",value:2}],Le.j("s92NNGLcolor",f.concat(m)),Le.j("s92NNGLtexture",[].concat(r,f,m)),Le.j("s92NNGLtextureNormalMap",[].concat(r,h,f,m)),Le.j("s92NNGLtextureParamsMap",[{type:"1i",name:"u71",value:2}].concat(r,f,m)),Le.j("s92NNGLtextureNormalParamsMap",[{type:"1i",name:"u71",value:3}].concat(r,h,f,m))):(Le.j("s96",f.concat(m)),Le.j("s97",[{type:"1i",name:"u1",value:0}].concat(f)),Le.j("s98",f),Le.j("s99",f),Le.j("s100",f.concat([{type:"1i",name:"u149",value:0}])),Le.j("s101",f),Le.j("s102",f.concat([{type:"1i",name:"u71",value:0}]))),Le.j("s70",[{type:"2f",name:"u90",value:i.vg}]),Le.j(e.ca?"s82":"s83",[{type:"1f",name:"u112",value:i.re},{type:"3f",name:"u113",value:i.Zf},{type:"1f",name:"u114",value:i.De},{type:"1f",name:"u115",value:1},{type:"3f",name:"u110",value:i.Hj}]),(t=i.Ad)&&(z=i.ym,M=i.Bd,Le.j("s81",[{type:"4f",name:"u99",value:i.zd},{type:"1f",name:"u102",value:i.Cf},{type:"2f",name:"u100",value:i.xm},{type:"1f",name:"u104",value:Math.sign(M)}])),n.forEach((function(e){e.Ti(i)})),u=!0},Xb:function(e){g&&Oe.ka.Xb(e),b&&Oe.qa.Xb(e)},Xl:function(e,t){void 0!==Oe.ka&&e.bc&&Se.Y()&&(Oe.ka.m(e),h=!0,t.push((function(e){Oe.ka.Xb(e),g=!d}))),void 0!==Oe.qa&&e.$c&&(Oe.qa.m(e),t.push((function(e){Oe.qa.Xb(e),b=!0}))),void 0!==Oe.jc&&e.ue&&(Oe.jc.m(e),p=x=!0),void 0!==Oe.hb&&(Oe.hb.m(e),m=Oe.hb.$l({width:e.vc,height:2*e.vc,depth:1.5*e.vc,hl:-e.gf,Oa:e.ef,Lk:e.ff}),f=!0)},Pn:function(e,t,a,u){e&&(O=e,h&&Oe.ka.Yb(e),b&&Oe.qa.Yb(e),x&&Oe.jc.Yb(e),n.forEach((function(t){t.Yb(e)}))),a&&(L=a),u&&(B=u)},ub:function(e){Se.Y()?(Le.j("s92NNGLcolor",e),Le.j("s92NNGLtexture",e),Le.j("s92NNGLtextureNormalMap",e),Le.j("s92NNGLtextureParamsMap",e),Le.j("s92NNGLtextureNormalParamsMap",e)):(Le.j("s96",e),Le.j("s97",e),Le.j("s98",e),Le.j("s99",e),Le.j("s100",e),Le.j("s101",e),Le.j("s102",e))},Ya:function(e,t,n){var u=[e[0]+t[0],e[1]+t[1],e[2]+t[2]];u=[u[0]+n[0],u[1]+n[1],u[2]+n[2]],a.Id=u,a.Fm=t,a.to=n,N.ub([{type:"3f",name:"u139",value:u}]),Se.Y()&&(h&&Oe.ka.Ya(e,t,n),b&&Oe.qa.Ya(u)),f&&Oe.hb.Ya(e)},Za:function(e,t,n){var u=e*t*n;a.Gm=t,a.uo=n,a.Rl=e,N.ub([{type:"1f",name:"u140",value:u}]),Se.Y()&&(h&&Oe.ka.Za(e*t,n),b&&Oe.qa.Za(u)),f&&Oe.hb.Za(e)},Ni:function(){N.Ya(a.Id,a.Fm,a.to),N.Za(a.Rl,a.Gm,a.uo),N.bj(a.rx),N.m(a.og),N.Zi(a.lk,a.Eb)},bj:function(e){a.rx=e,N.ub([{type:"1f",name:"u76",value:e}]),Se.Y()&&(h&&Oe.ka.ig(e),b&&Oe.qa.ig(e))},Zi:function(e,t){a.lk=e,a.Eb=t,N.ub([{type:"1f",name:"u141",value:e},{type:"1f",name:"u142",value:t}])},In:function(e){s=e,0===i&&N.ub([{type:"1f",name:"u145",value:s[0]},{type:"1f",name:"u146",value:s[1]}])},Xa:function(e){function a(){f&&Oe.hb.toggle(!1),t&&Le.j("s81",[{type:"1f",name:"u103",value:0}])}0>=e?(r=0,0!==i&&(i=0,He.ln(),f&&Oe.hb.toggle(!0),t&&Le.j("s81",[{type:"1f",name:"u103",value:1}]))):1<=e?(r=1,1!==i&&(i=1,He.jj(!0)),a()):(r=e,2!==i&&(He.jj(!1),i=2,a())),Le.j("s83",[{type:"1f",name:"u115",value:1-e}]),S[0].value=r,S[1].value=s[0]*(1-e)+-300*e,S[2].value=s[1]*(1-e)+-300*e,S[3].value=o*(1-e)+e*c,S[4].value=v*(1-e),S[5].value=1-e+e*l,g&&Oe.ka.jg(r,S),b&&Oe.qa.jg(r,S),N.ub(S)},el:function(e){O.h(1),e.forEach((function(e){e.$k()})),f&&m.U()},rm:function(){return 1===i},se:function(e){O.Ma(e)},Mj:function(e){n.push(e)},tg:function(e){d=!e,g=e&&h},sg:function(e){p=e&&x},fg:function(e){b&&Se.Y()&&Oe.qa.Tn(e)},vb:function(e){Se.Y()&&(h&&Oe.ka.vb(e),b&&Oe.qa.vb(e))},bl:function(e,t){return!!E&&(_.M(),e.h(0),Le.set("s74"),Le.N("u10",0,R),w.l(!1,!1),F.o(),_.h(0),Le.N("u10",A,0),w.l(!1,!1),Le.set("s75"),t.M(),F.h(0),w.l(!1,!1),!0)},ij:function(e){E=e&&y},resize:function(e,t,a){y&&(e*=a,t*=a,_.resize(e,t),F.resize(e,t),A=1/e,R=1/t)},dg:function(e,t){var a=e.L(),n=e.X(),u={width:a,height:n,isPot:!1};h&&(C&&C.remove(),C=D.instance(u)),j=T.instance({width:a,height:n}),x||b?(Oe.jc.eg(a,n),P&&P.remove(),P=D.instance(u)):P=e,h&&Oe.ka.eg(a,n),t&&(k&&k.remove(),k=D.instance(u))},Yk:function(t){var a=null;switch(i){case 0:a=t;break;case 2:j.bind(!1,!0),k.o(),Le.set("s65"),Le.G("u9",r),t.h(1),B.h(0),w.l(!0,!0),a=k;break;case 1:a=B}return g&&1!==i&&Se.Y()?(a.Ma(0),p&&Oe.jc.U(a,P),j.bind(!1,!p),b&&(p?a.h(0):(P.o(),Le.set("s1"),w.l(!0,!0)),Oe.qa.U()),P.h(0),L.Ma(2),Oe.ka.U(),C.o(),Le.set("s1"),p||b?P.h(0):a.h(0),w.l(!0,!e.ca),Oe.ka.add(),C):a},cl:function(e,a){return!!t&&(Le.set("s81"),Le.G("u101",e*M),z.h(1),Be.se(2),P?P.h(3):a.h(3),!0)},v:function(){u=!1,r=i=0,v=c=o=-1,l=1,s=null,f=!1,m=null,p=x=b=d=g=h=!1,Oe.ka.v(),Oe.gb.v()}};return N}(),ke=function(){function t(){F&&clearTimeout(F),F=setTimeout((function(){F=b=!1}),16)}function a(e){e()}var n=[],u=[],i={fa:!1,position:!1,rb:!1},r=[],o=[],c=null,v=0,l=null,s=null,f=null,m=null,h=!1,g=!1,d=!1,b=!1,x=!1,p=!1,E=null,_=null,F=null,R=null,z=!1,M=!1,j=!1,P=!1,C=!1,L=!1,B=!1,k={m:function(){y.enable(y.DEPTH_TEST),y.depthFunc(y.LEQUAL),y.clearDepth(1),e.Jk?(y.enable(y.CULL_FACE),y.frontFace("CCW"===e.Kk?y.CCW:y.CW),y.cullFace(y.BACK)):y.disable(y.CULL_FACE),k.dh();var t={isPot:!1,isLinear:!1,width:Se.pb(),height:Se.ob(),F:4,isFloat:!1};l=D.instance(t),t=Object.assign({},t,{isLinear:!0,width:Se.L(),height:Se.X()}),s=D.instance(t),f=D.instance(t),e.Ia&&(t=Object.assign({},t,{isLinear:!1}),m=D.instance(t)),p=A.da(),e.Ia||(c=Ge.instance({Db:e.Db,oc:e.oc,pc:e.pc,nc:e.nc})),h=!0},dh:function(){Se.Y()?i=Ie.instance({}):(i.fa=Ue.instance({ac:!e.Ia&&"s93",isFloat:!1,Pb:!0,clearColor:[0,0,0,0],F:4}),i.position=Ue.instance({ac:!e.Ia&&"s103",isFloat:!0,Pb:!0,clearColor:[0,0,0,0],F:4}),i.rb=Ue.instance({ac:!1,isFloat:!0,Pb:!0,clearColor:[0,0,0,0],F:4}),i.Bc=Ue.instance({ac:!1,isFloat:!1,Pb:!0,clearColor:[0,0,0,0],F:4}))},Al:function(){return c},ra:function(e){c=e},kq:function(){},vb:function(e){Be.vb(e)},Ti:function(e){Be.m(e,r),Se.Y()||(i.fa.cj(!1),i.position.cj("s96")),M=P=!0},Tp:function(){Be.Ni()},No:function(e){Be.Mj(e)},wn:function(e,t,a){Be.Ya(e,t,a)},xn:function(e,t,a){Be.Za(e,t,a)},un:function(e,t){Be.Zi(e,t)},vn:function(e){Be.In(e)},yn:function(e){Be.bj(e)},Xa:function(e){Be.Xa(e)},Ui:function(e,t,a,n){Be.Pn(e,t,a,n),t&&k.dg(t,!!n),j=!0},tg:function(e){Be.tg(e)},fg:function(e){Be.fg(e)},sg:function(e){Be.sg(e)},ij:function(e){Be.ij(e)},Oo:function(e){z&&(C=!0,L=D.instance({width:R.L(),height:R.X(),isPot:!1}),B=e)},dg:function(e,t){R="string"==typeof e?D.instance({url:e,isFloat:!1}):e,M&&Be.dg(R,t),z=!0},Lj:function(e){n.push(e),0!==r.length&&(r.forEach((function(t){t(e)})),r.splice(0,r.length))},fn:function(e){-1!==(e=n.indexOf(e))&&n.splice(e,1)},Po:function(e){u.push(e)},Qp:function(e){-1!==(e=u.indexOf(e))&&u.splice(e,1)},Ud:function(e){M&&(g=e)},animate:function(t){!e.Ia||M&&j?g&&(b||v>e.Hm&&x?(E&&clearTimeout(E),++v,window.cancelAnimationFrame(k.animate),E=setTimeout((function(){window.requestAnimationFrame(k.animate)}),16)):(k.Ii(t),++v,M||g&&window.requestAnimationFrame(k.animate))):setTimeout(k.animate,100)},Ro:function(e){o.push(e)},Ii:function(t){if((!e.Ia||M&&j)&&h){if(o.forEach(a),Se.Y()){if(!i.set()&&!Se.ia())return Se.io(),k.dh(),Ue.Tc(),Le.Kn(),e.Ia&&Be.Ni(),y.flush(),void window.requestAnimationFrame(k.animate);M||Ye.hn(),M?Be.el(n):n.forEach((function(e){e.al()})),i.H(),p&&y.depthMask(!1)}else M&&Be.se(1),i.fa.set(!0,!0,!0),n.forEach((function(e){e.dd(M)})),i.fa.H(),p&&y.depthMask(!1),i.Bc.set(!1,!p,!1),n.forEach((function(e){e.dl(M)})),i.Bc.H(),i.position.set(!0,!p,!1),Ne.U(),n.forEach((function(e){e.fl(M)})),i.position.H(),i.rb.set(!1,!p,!1),n.forEach((function(e){e.ed(M)})),i.rb.H();y.disable(y.DEPTH_TEST),p||y.depthMask(!1),e.ca&&Ke.U();var u=k.yh();null!==u&&(u.h(7),Le.set(e.ca?"s82":"s83"),Le.N("u10",1/Se.pb(),1/Se.ob()),Ue.mk(),l.M(),e.Xm?(y.enable(y.BLEND),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.blendFunc(y.ONE,y.ONE_MINUS_SRC_ALPHA)):y.disable(y.BLEND),M||Ne.Oe(),i.position.h(0),i.rb.h(1),i.fa.h(2),c.Wc(3),i.Bc.h(6),c.Xc(4),c.hh(),e.ca&&Ke.h(5),w.l(!0,!0),T.ea(),Be.bl(l,s)||(Le.set("s1"),s.M(),l.h(0),w.l(!1,!1)),Le.set("s71"),f.M(),s.h(0),w.l(!1,!1),s.o(),f.h(0),P&&M?(Le.set("s70"),m.h(1),Be.se(2),w.l(!1,!1),Le.set("s1"),m.M(),s.h(0),w.l(!1,!1)):(Le.set("s69"),w.l(!1,!1),s.h(0)),T.$(),y.viewport(0,0,Se.L(),Se.X()),M&&Be.cl(t,u)||Le.set("s1"),w.l(!1,!1),y.enable(y.DEPTH_TEST),y.depthMask(!0),y.flush())}},yh:function(){if(!z)return D.Jh();if(!M)return R;if(C&&!Be.rm()){Le.set(B),T.ea(),L.Jc(),L.o(),R.h(0);var e=L;w.l(!0,!0)}else e=R;return Be.Yk(e)},$n:function(){e.Pk||g||(g=!0,k.animate(Date.now()),d||We.ao(),d||He.ic(!1),_&&clearTimeout(_),e.ca&&Ke.Md(),_=setTimeout(k.xa,e.ik),d||Se.Ul(),d=!0)},iq:function(){g&&(x=g=!1,cancelAnimationFrame(k.animate))},xa:function(){x||!d||b||e.fh||(x=b=!0,_&&clearTimeout(_),F&&clearTimeout(F),Ne.Ue().Ki(),_=setTimeout((function(){Se.Fg(e.Lm),e.ca&&Ke.vj(),v=0,t()}),24))},wake:function(){x&&d&&!b&&(b=!0,x=!1,v=0,Ne.Ue().Ki(),_&&clearTimeout(_),F&&clearTimeout(F),_=setTimeout((function(){Se.Fg(1),e.ca&&Ke.Md(),t()}),16))},Ap:function(){},gp:function(){},Td:function(e){P=e},oq:function(){Le.j("s83",[{type:"1f",name:"u118",value:e.Ec},{type:"1f",name:"u119",value:e.Tf}])},resize:function(t,a,n){l.resize(t*n,a*n),s.resize(t,a),f.resize(t,a),e.Ia&&m.resize(t,a),Be.resize(t,a,n),t=[{type:"2f",name:"u10",value:[1/t,1/a]}],Le.j("s71",t),Le.j("s69",t)},K:function(){E&&clearTimeout(E),_&&clearTimeout(_),F&&clearTimeout(F),n.concat(u).forEach((function(e){e.K()})),n.splice(0,n.length),u.splice(0,u.length),i.fa.remove(),i.rb.remove(),i.Bc.remove(),i.position.remove(),l.remove(),s.remove(),f.remove(),m&&m.remove(),b=!0},v:function(){k.K(),p=x=b=d=g=M=j=b=!1}};return k}(),Oe={},Se=function(){function t(){Ue.resize(n*v,u*v),g.Y()&&Ie.resize(n*v,u*v),ke.resize(n,u,v),e.ca&&Ke.resize(n*v,u*v,v),g.Dg()}var a=null,n=0,u=0,i=-1,r=!1,o={Wd:!1,wg:!1,sj:!1,pg:!1,drawBuffers:!1,km:!1,Zh:!1,mm:!1,yc:!1,Sa:!1},c=Object.assign({},o),v=1,l=!1,s=!1,f=!1,m=!1,h=!1,g={m:function(t){void 0!==t.onload&&t.onload&&(s=t.onload),void 0===t.expand&&(t.expand=!1),void 0===t.vd&&(t.vd=!1),void 0===t.oa&&(t.oa=!1),void 0===t.Lb&&(t.Lb=!1),void 0===t.alpha&&(t.alpha=!1),void 0===t.preserveDrawingBuffer&&(t.preserveDrawingBuffer=!1),t.vd&&(r=!0),a=t.oa?t.oa:document.getElementById(t.Ck),t.expand&&g.expand();try{if(window.Ko=t.Lb?t.Lb.ol():a.getContext("webgl",{antialias:!1,alpha:t.alpha,depth:!0,premultipliedAlpha:!1,stencil:!1,preserveDrawingBuffer:t.preserveDrawingBuffer}),m=!!t.Lb&&t.Lb.ia(),f=!m,8>y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS)&&g.ad("too few texture image units"),!A.m())return g.ad("invalid config");if(e.qo&&(c.wg=y.getExtension("EXT_texture_filter_anisotropic"),c.wg&&(c.Zh=!0)),e.ro&&(c.Wd=y.getExtension("WEBGL_compressed_texture_s3tc"),c.Wd&&void 0!==c.Wd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&c.Wd.COMPRESSED_RGBA_S3TC_DXT5_EXT&&(c.km=!0)),f&&(c.sj=y.getExtension("OES_element_index_uint")||y.getExtension("MOZ_OES_element_index_uint")||y.getExtension("WEBKIT_OES_element_index_uint"),c.sj&&(c.mm=!0)),!m&&e.so&&(c.pg=y.getExtension("EXT_sRGB"),c.pg&&(c.yc=!0)),f?(c.drawBuffers=y.getExtension("WEBGL_draw_buffers"),c.drawBuffers&&!e.eh&&(c.Sa=!0)):c.Sa=4<=y.getParameter(y.MAX_DRAW_BUFFERS),c.Sa){var i=g.Rk();c.Sa=c.Sa&&i}}catch(e){return g.ad(e)}return null!==y&&y?(t.expand&&window.addEventListener("resize",g.expand,!1),a.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1}),!1),n=a.width,u=a.height,g.lf(),!0):g.ad("NO_GL")},lf:function(){for(var t in i=r?3:2,A.da()||(i=Math.min(i,1)),A.yk()||(i=Math.min(i,0)),Ve.m(),Ue.m(),Oe)Oe[t].Fc();return Le.m(),Ne.m(),He.m(),ke.m(),We.m(),e.ca&&Ke.m(),"undefined"!=typeof FPSCounter&&FPSCounter.m(),g.Dg(),g.Tk(),l=!0,s&&s(),!0},Tk:function(){if(c.Sa){var e=Ie.instance({width:256,height:1});e.bind(),y.viewport(0,0,256,1),Le.set("s91"),Le.wa("color",[1,0,0,1]),w.l(!0,!0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT||y.DEPTH_BUFFER_BIT),T.$(),Le.set("s1"),e.rb.h(0),w.l(!1,!1),e=new Uint8Array(1024),y.readPixels(0,0,256,1,y.RGBA,y.UNSIGNED_BYTE,e),h=1>=e[1020]}},Rk:function(){var e=Ie.instance({width:1,height:1});if(!e.set())return e.remove(),!1;Le.Nn(y),w.Jb(y),y.bindFramebuffer(y.FRAMEBUFFER,null),Le.tb(y),e.fa.Ma(0),w.Jb(y);var t=new Uint8Array(4);return y.readPixels(0,0,1,1,y.RGBA,y.UNSIGNED_BYTE,t),e.remove(),!(3<Math.abs(t[0]-127))},ia:function(){return m},L:function(){return n},X:function(){return u},pb:function(){return v*g.L()},ob:function(){return v*g.X()},pl:function(){return n/u},T:function(){return i},pm:function(){return 3===i},bi:function(){return h},Y:function(){return c.Sa},io:function(){c.Sa=!1},Ip:function(){return!1},Ak:function(){return 0<g.T()},Xo:function(){return g.Y()&&0<g.T()},Te:function(e){var t=y,a="";return m||(t=c.drawBuffers,a="_WEBGL"),[t["COLOR_ATTACHMENT0"+a],t["COLOR_ATTACHMENT1"+a],t["COLOR_ATTACHMENT2"+a],t["COLOR_ATTACHMENT3"+a]].splice(0,e)},nd:function(e){return g.Te(4)[e]},Nl:function(){return m?y.SRGB?y.SRGB:y.RGBA:c.yc?c.pg.SRGB_ALPHA_EXT:y.RGBA},nm:function(){return c.Zh},ul:function(){return c.wg},Bm:function(e){g.ia()?y.drawBuffers(g.Te(e)):c.drawBuffers.drawBuffersWEBGL(g.Te(e))},expand:function(){ke.wake(),g.resize(window.innerWidth,window.innerHeight),ke.xa()},resize:function(e,i){!a||e===n&&i===u||(n=e,u=i,a.width=n,a.height=u,l&&(Ne.resize(),t()))},Dg:function(){var e=[{type:"2f",name:"u10",value:[1/Se.pb(),1/Se.ob()]}];Le.j("s71",e),Le.j("s69",e)},Fg:function(e){v=e,t()},Ea:function(e,t){a.addEventListener(e,t,!1)},ad:function(){return i=-1,!1},Yg:function(){return 0<=i},Lp:function(){},Up:function(){},gq:function(){var e=document.getElementById("loading");e&&(e.style.display="block")},Ul:function(){var e=document.getElementById("loading");e&&(e.style.display="none")},K:function(){g.Yg()&&(D.tj(),ke.K(),w.K(),Ue.K(),e.ca&&Ke.K(),Ge.K(),We.K(),Le.K(),D.K(),y.flush(),y=null)},v:function(){ke.v(),Be.v(),Le.v(),Object.assign(c,o),l=!1}};return g}(),Ne=function(){var e=!1,t=!1,a=[];return{m:function(){},instance:function(n){void 0===n.Li&&(n.Li=!0),void 0===n.ie&&(n.ie=.1),void 0===n.he&&(n.he=100),void 0===n.direction&&(n.direction=[0,0,-1]),void 0===n.Kb&&(n.Kb=45);var u=new ze,i=new De(50,-50,-400),r=null;u.setPosition(i);var o=new Int8Array(20),c=new Int8Array(20),v=0,l=0,s=0,f=0,m={U:function(){c[Le.od()]||(Le.Ic("u120",u.elements),c[Le.od()]=1),o[Le.od()]||(Le.Ic("u132",r),o[Le.od()]=1)},Ne:function(){l||(Le.Ic("u120",u.elements),l=1),v||(Le.N("u121",r[0],r[5]),v=1)},Oe:function(){s||(Le.lg("u110",i.x,i.y,i.z),s=1)},Gb:function(){f||(Le.lg("u150",i.x,i.y,i.z),f=1)},$g:function(){var e=n.ie,t=n.he,a=Math.tan(.5*n.Kb*Math.PI/180);for(r=[.5/a,0,0,0,0,.5*Se.pl()/a,0,0,0,0,-(t+e)/(t-e),-1,0,0,-2*t*e/(t-e),0],e=0;20>e;++e)o[e]=0;v=0},Jn:function(e,t){for(i.Ri(t[0]).Si(t[1]).z=t[2],u.elements.set(e),e=0;20>e;++e)c[e]=0;f=s=l=0},Ki:function(){for(var e=f=s=0;20>e;++e)c[e]=0}};return m.$g(),e=m,t=!0,n.Li&&a.push(m),m},U:function(){t&&e.U()},Ne:function(){t&&e.Ne()},Oe:function(){t&&e.Oe()},Gb:function(){t&&e.Gb()},resize:function(){a.forEach((function(e){e.$g()}))},Ue:function(){return e}}}(),Ue=function(){var e=[],t=null;return{m:function(){t=T.instance({width:Se.pb(),height:Se.ob(),wc:!Se.Y()})},instance:function(a){void 0===a.width&&(a.width=Se.pb()),void 0===a.height&&(a.height=Se.ob()),void 0===a.isFloat&&(a.isFloat=!1),void 0===a.Pb&&(a.Pb=!1),void 0===a.clearColor&&(a.clearColor=[0,0,0,0]),void 0===a.F&&(a.F=4);var n=D.instance({isFloat:a.isFloat&&A.da(),S:a.isFloat,width:a.width,height:a.height,isPot:!1,isLinear:!1,F:a.F}),u=!(void 0===a.ac||!a.ac),i=a.ac,r={set:function(e,r,o){o&&t.bind(!1,o),n.o(),e&&(y.clearColor(a.clearColor[0],a.clearColor[1],a.clearColor[2],a.clearColor[3]),t.ye()),r&&t.Zg(),u&&Le.set(i)},cj:function(e){u=!!(i=e)},H:function(){n.Yd()},h:function(e){n.h(e)},resize:function(e,t){n.resize(e,t)},debug:function(){n.debug()},remove:function(){n.remove()}};return a.Pb&&e.push(r),r},resize:function(a,n){t.resize(a,n),e.forEach((function(e){e.resize(a,n)}))},mk:function(){t.Sg()},Tc:function(){t.Tc()},Jc:function(){t.Jc()},$o:function(){t.Zg()},Zo:function(){t.ye()},Yo:function(){t.clear()},K:function(){t.remove()}}}(),Ie=function(){var e=[];return{instance:function(t){void 0===t.width&&(t.width=Se.pb()),void 0===t.height&&(t.height=Se.ob());var a=y.createFramebuffer(),n=t.width,u=t.height,i=!0;t={isFloat:A.da(),S:!0,width:n,height:u,isPot:!1,isLinear:!1,F:4};var r=D.instance(t),o=D.instance(t),c=D.instance(t),v=D.instance(t),l=T.vl(),s=T.Dh();y.bindFramebuffer(l,a);var f=y.createRenderbuffer();y.bindRenderbuffer(y.RENDERBUFFER,f),y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,n,u),y.framebufferRenderbuffer(l,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,f),y.clearDepth(1),y.framebufferTexture2D(l,Se.nd(0),y.TEXTURE_2D,r.get(),0),y.framebufferTexture2D(l,Se.nd(1),y.TEXTURE_2D,o.get(),0),y.framebufferTexture2D(l,Se.nd(2),y.TEXTURE_2D,v.get(),0),y.framebufferTexture2D(l,Se.nd(3),y.TEXTURE_2D,c.get(),0),Se.Bm(4),y.bindFramebuffer(l,null),T.reset();var m={position:r,rb:o,Bc:c,fa:v,bind:function(){y.bindFramebuffer(l,a),T.reset()},set:function(){if(i&&y.checkFramebufferStatus(s),y.bindFramebuffer(l,a),T.reset(),i){if(y.checkFramebufferStatus(s)!==y.FRAMEBUFFER_COMPLETE)return!1;i=!1}return y.viewport(0,0,n,u),y.clearColor(0,0,0,0),Le.Tb()&&!Se.bi()&&(Le.set("s90"),w.l(!1,!1)),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT),!0},H:function(){},resize:function(e,t){n=e,u=t,r.resize(e,t),o.resize(e,t),v.resize(e,t),c.resize(e,t),y.bindRenderbuffer(y.RENDERBUFFER,f),y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,n,u),y.bindRenderbuffer(y.RENDERBUFFER,null)},remove:function(){r.remove(),o.remove(),v.remove(),c.remove(),y.deleteRenderbuffer(f),y.deleteFramebuffer(a);var t=e.indexOf(m);-1!==t&&e.splice(t,1)}};return e.push(m),m},resize:function(t,a){e.forEach((function(e){e.resize(t,a)}))}}}(),Ge=function(){var t=[],a=e.Rg;return{instance:function(n){function u(){v?i():(b=Je.instance({ja:f,jm:a}),c=e.jk[Se.T()],m=D.instance({isFloat:A.da(),S:!0,isPot:!0,isLinear:!1,Nb:!0,width:c,height:c/2,F:3}),h=D.instance({isFloat:A.da(),S:!0,isPot:!0,isLinear:!1,Nb:!0,width:c,height:c/2,F:3}),g=D.instance({isFloat:A.da(),S:!0,isPot:!0,width:1,height:c/2,F:3}),d=D.instance({isFloat:A.da()&&!a,S:!a,isPot:!1,isLinear:!0,Nb:!0,isMipmap:!1,width:c,height:c/2,F:a?4:3}),v=!0,i(),p.forEach((function(e){e()})),p.splice(0,p.length))}function i(){if(v){T.ea(),b.dn(),m.M(),Le.set("s73"),f.h(0),Le.G("u88",e.Ec),D.sk(1),w.l(!0,!0);for(var t=e.am[Se.T()],n=0;n<t;++n)h.o(),Le.set("s76"),Le.N("u10",1/c,0),m.h(0),w.l(!1,!1),m.o(),Le.N("u10",0,2/c),h.h(0),w.l(!1,!1);g.M(),Le.set("s78"),m.h(0),w.l(!1,!1),Le.set(a?"s80":"s79"),d.M(),m.h(0),g.h(1),w.l(!1,!1),D.$(0),D.$(1)}}var r=Object.assign({Db:null,oc:null,nc:0,pc:0},n),o=0,c=0,v=!1,l=null,s=null,f=null,m=null,h=null,g=null,d=null,b=null,x=0,p=[];return n={m:function(){function t(){2==++a&&(f=D.instance({isFloat:A.da(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,Nb:!0,width:o,height:o/2,F:3}),T.ea(),f.M(),Le.set("s72"),Le.G("u93",r.pc),Le.G("u94",r.nc),l.h(0),s.h(1),w.l(!0,!0),u())}var a=0;o=e.kk[Se.T()],x=Math.log2(o)-1,r.Db&&(l=D.instance({isPot:!1,url:r.Db,R:t,F:3,isFlipY:!1}),s=D.instance({isPot:!1,url:r.oc,R:t,F:3,isFlipY:!1}))},$i:function(e){f=e,u()},Wc:function(e){v&&(b.h(e),Le.G("u111",b.L()))},Xc:function(e){v&&d.h(e)},hh:function(){Le.G("u3",x)},zh:function(){return x},L:function(){return o},Fb:function(e){v?e():p.push(e)},K:function(){l&&l.remove(),s&&s.remove(),m.remove(),g.remove(),h.remove(),b.remove(),d.remove(),f.remove()}},t.push(n),n.m(),n},K:function(){t.forEach((function(e){e.K()}))}}}(),Xe={instance:function(t){var a=t.vm,n=t.tm,u=0,i=a.L();t=e.Rg;var r=D.instance({isFloat:A.da()&&!t,S:!t,isLinear:!0,isMipmap:!1,isPot:!1,width:i,F:t?4:3,isFlipY:!1}),o=D.instance({isFloat:A.da()&&!t,S:!t,isPot:!1,isLinear:!0,Nb:!0,isMipmap:!1,width:i,height:i/2,F:t?4:3}),c=T.instance({width:i,height:i}),v=t?"s66":"s65";return{On:function(e){u=e,Le.set(v),y.viewport(0,0,i,i),c.o(),r.o(),Le.G("u9",u),a.Wc(1),n.Wc(0),w.l(!0,!0),y.viewport(0,0,i,i/2),o.o(),a.Xc(1),n.Xc(0),w.l(!1,!1),y.flush()},Wc:function(e){r.h(e)},Xc:function(e){o.h(e)},hh:function(){Le.G("u3",a.zh()*(1-u)+n.zh()*u)}}}},He=function(){function t(t){var a=(_-e.we)/(e.Vg-e.we);a=1-Math.pow(1-a,e.Io),_+=t*(1+a*e.Jo),_=Math.min(Math.max(_,e.we),e.Vg),A.ic()}function a(a){-1!==c&&(x=b=0,o(),t(e.Ho*a.deltaY/window.innerHeight),a.preventDefault())}function n(){y+=b,E+=x,E=Math.min(Math.max(E,e.Pm),e.Om),A.ic()}function u(a){if(0===c||-1===c)return!1;var u=void 0!==a.touches&&a.touches.length;if(a.preventDefault(),2===c){var i=Ce(a.touches[0].pageX,a.touches[0].pageY,a.touches[1].pageX,a.touches[1].pageY);t(-(g-i)*e.Qm),g=i}else i=u?a.touches[0].clientX:a.clientX,a=u?a.touches[0].clientY:a.clientY,b=2*(i-m)*Math.PI/Se.L(),x=2*(a-h)*Math.PI/Se.X(),4===c?(T[0]+=b*e.xi,T[1]-=x*e.xi,T[0]=Math.min(Math.max(T[0],-e.Ai),e.Ai),T[1]=Math.min(Math.max(T[1],-e.Bi),e.Bi),A.ic()):n(),m=i,h=a}function i(){0!==c&&-1!==c&&(0===b&&0===x||1!==c||!F?ke.xa():(o(),d=Date.now(),D=setInterval(A.sm,p)),c=0)}function r(e){if(2!==c&&-1!==c){x=b=0,o(),ke.wake();var t=void 0!==e.changedTouches&&e.touches.length;return e.preventDefault(),t&&2===e.touches.length?(c=2,g=Ce(e.touches[0].pageX,e.touches[0].pageY,e.touches[1].pageX,e.touches[1].pageY)):(c=t||2!==e.button?1:4,m=t?e.touches[0].clientX:e.clientX,h=t?e.touches[0].clientY:e.clientY),!1}}function o(){D&&(clearInterval(D),D=!1)}var c=0,v=!1,l=!1,s=!1,f=1,m=0,h=0,g=0,d=0,b=0,x=0,p=16,y=e.nj,E=e.zi,_=e.ve,D=!1,F=0,w=new Float32Array([0,0,0,0,0]),T=[e.wk,e.xk],A={m:function(){F=e.Oj[Se.T()],p=e.fd[Se.T()],Se.Ea("mousedown",r),Se.Ea("mouseup",i),Se.Ea("mouseout",i),Se.Ea("mousemove",u),Se.Ea("mousemove",u),Se.Ea("wheel",a),Se.Ea("touchstart",r),Se.Ea("touchend",i),Se.Ea("touchmove",u)},ic:function(t){v?(l[0]=-E,l[1]=y,s[1].value=f/e.ve*_,Be.ub(s)):(w[0]=y,w[1]=E,w[2]=_,w[3]=T[0],w[4]=T[1],We.sn(w,t))},sm:function(){(1e-4>b&&1e-4>x||-1===c)&&(o(),x=b=0,0===c&&ke.xa());var e=Date.now(),t=e-d;d=e,e=Math.pow(F,t/p),b*=e,x*=e,n()},Pe:function(e){v||(v=!0,c=-1,s=[{name:"u79",type:"3f",value:l=[0,0,0]},{name:"u83",type:"1f",value:1}],f=e)},jj:function(e){-1===c&&e&&(c=0),e||(c=-1)},ln:function(){x=b=0,y=e.nj,E=e.zi,_=e.ve,A.ic()},Yp:function(e){_=e},Zp:function(t){T[0]=t[0],T[1]=t[1],e.Wg=t[2]},Xp:function(e,t){y=e,E=t}};return A}(),Ye=function(){var t={s92:!1,s92color:!1,s92NormalMap:!1,s92ParamsMap:!1,s92NormalParamsMap:!1};return{instance:function(a){function n(t){if(S){t.tweaker&&window.JEELIZVTO&&void 0!==ee&&ee.Qg(t.tweaker),z=t.partsNames||[],R.splice(0,R.length),R.push({n:0,offset:0}),F.min.set(1/0,1/0,1/0),F.max.set(-1/0,-1/0,-1/0);var n=t.uvs;n&&(n=n.filter((function(e){return e}))),k=!!(n&&0<n.length&&0<n[0].length),void 0!==l&&"string"==typeof t.faces&&(t.faces=l(t.faces)),void 0!==s&&("string"==typeof t.vertices&&(t.vertices=s(t.vertices)),n&&n.length&&n.forEach((function(e,t){"string"==typeof e&&(n[t]=s(e))})));var u=t.metadata.faces,i=1+(k?1:0);if(6!==(u=(t.faces.length-u)/(t.metadata.faces*i))&&8!==u||k||(++i,u/=2),4===u){u=6*i+2;for(var r=4*i+1,o=Array(t.metadata.faces*u),c=0;c<t.metadata.faces;++c)for(var v=0;v<i;++v)o[c*u+4*v]=t.faces[c*r+5*v],o[c*u+4*v+1]=t.faces[c*r+5*v+1],o[c*u+4*v+2]=t.faces[c*r+5*v+2],0===v&&(o[c*u+3]=t.faces[c*r+4]),o[c*u+4*v+3*i+1]=t.faces[c*r+5*v],o[c*u+4*v+3*i+2]=t.faces[c*r+5*v+2],o[c*u+4*v+3*i+3]=t.faces[c*r+5*v+3],0===v&&(o[c*u+3*i+4]=t.faces[c*r+4]);t.faces=o,t.metadata.faces*=2}for(g=Array(t.metadata.vertices),u=0;u<t.metadata.vertices;++u)g[u]=new De(t.vertices[3*u],t.vertices[3*u+1],t.vertices[3*u+2]),Re(F,g[u]);for(d=Array(t.metadata.faces),i=3*i+1,u=0;u<t.metadata.faces;++u)d[u]=new je(t.faces[i*u],t.faces[i*u+1],t.faces[i*u+2]),d[u].Vb=t.faces[i*u+3];if(j=3<g.length,S&&(S.visible=j),function(e,t){for(var a=new De,n=new De,u=0,i=t.length;u<i;u++){var r=t[u],o=e[r.a],c=e[r.b];a.$a(e[r.c],c),n.$a(o,c),Fe(a,n),0!==a.vf()&&(a.normalize(),r.Ja.J(a))}}(g,d),b=function(e,t){for(var a=Array(e.length),n=0,u=e.length;n<u;++n)a[n]=new De;n=new De,u=new De;for(var i=0,r=t.length;i<r;++i){var o=t[i],c=e[o.a],v=e[o.b];n.$a(e[o.c],v),u.$a(c,v),Fe(n,u),a[o.a].add(n),a[o.b].add(n),a[o.c].add(n)}for(n=0,e=e.length;n<e;++n)a[n].normalize();for(e=0,n=t.length;e<n;++e)3===(i=(u=t[e]).de).length?(i[0].J(a[u.a]),i[1].J(a[u.b]),i[2].J(a[u.c])):(i[0]=a[u.a].clone(),i[1]=a[u.b].clone(),i[2]=a[u.c].clone());return a}(g,d),k){for(i=Array(g.length),u=["a","b","c"],r=0;r<t.metadata.faces;++r)for(o=0;3>o;++o)if(c=t.faces[7*r+o],v=t.faces[7*r+1+o+3],void 0===i[c])i[c]=[[c,v]];else if(i[c][0][1]!==v){for(var f=-1,m=1;m<i[c].length;++m)if(i[c][m][1]===v){f=i[c][m][0];break}m=-1,-1===f?(m=g.length,g.push(g[c].clone()),b.push(b[c].clone()),i[c].push([m,v]),i[m]=[[m,v]]):m=f,t.faces[7*r+o]=m,d[r][u[o]]=m}for(x=Array(g.length),t=0;t<g.length;++t)u=void 0===i[t]?t:i[t][0][1],x[t]=new _e(n[0][2*u],n[0][2*u+1])}var h=Ae(F);if(a.Bb&&(g.forEach((function(e){e.x-=h.x,e.z-=h.z,e.y-=F.min.y})),F.min.x-=h.x,F.max.x-=h.x,F.min.z-=h.z,F.max.z-=h.z,F.max.y-=F.min.y,F.min.y=0),a.Cb){var y=e.hk/Math.max(F.max.x-F.min.x,F.max.y-F.min.y,F.max.z-F.min.z);g.forEach((function(e){e.Aa(y)})),F.min.Aa(y),F.max.Aa(y)}for(t=k?8:6,i=new Float32Array(g.length*t),u=0;u<g.length;++u)i[t*u]=g[u].x,i[t*u+1]=g[u].y,i[t*u+2]=g[u].z,i[t*u+3]=b[u].x,i[t*u+4]=b[u].y,i[t*u+5]=b[u].z,k&&(i[t*u+6]=x[u].x,i[t*u+7]=x[u].y);d.sort((function(e,t){return e.Vb-t.Vb}));var D=new(65536>3*d.length?Uint16Array:Uint32Array)(3*d.length),T=0;d.forEach((function(e,t){e.Vb===T?R[T].n+=3:(R.push({n:3,offset:3*t}),++T),D[3*t]=e.a,D[3*t+1]=e.b,D[3*t+2]=e.c})),p&&p.remove(),p=w.instance({ga_:i,indices:D}),_=E=!1,B&&S.ah(),P=!0,S.Me(),a.R&&(a.R(S),a.R=null)}}function u(e){p.Fa(e.n,e.offset)}function i(e,t){L[t]&&(Le.set(L[t].Il()),p.bind(!1),k?(Le.Ka(),Le.Xi()):(Le.Wa(),Le.Yi()),L[t].zc()&&(Le.Hc(),E.qc(!1),Le.Ld(),Ne.Gb()),L[t].Wk(),L[t].ed(),p.Fa(e.n,e.offset))}function r(e,t){L[t]&&(Le.set(L[t].Jl()),p.bind(!1),k?(Le.Ka(),Le.Xi()):(Le.Wa(),Le.Yi()),L[t].zc()&&(Le.Hc(),E.qc(!1),Le.Ld(),Ne.Gb()),S.uc(),L[t].ed(),p.Fa(e.n,e.offset))}function o(e,t){O&&L[t]&&(L[t].Xk(),p.Fa(e.n,e.offset))}function c(e,t){O&&L[t]&&(L[t].Zk(k),p.Fa(e.n,e.offset))}function v(e,t){L[t]&&(Le.set(L[t].El()),L[t].mh(),p.Fa(e.n,e.offset))}function f(e,t){L[t]&&(Le.set(L[t].Fl()),S.uc(),L[t].mh(),p.Fa(e.n,e.offset))}function m(e,t){L[t]&&(Le.set(L[t].Gl()),L[t].zc()&&(E.qc(!1),Le.Ld(),Ne.Gb()),p.bind(!1),L[t].jh(k),p.Fa(e.n,e.offset))}function h(e,a){if(L[a]){var n=L[a].Hl();Le.set(n),L[a].zc()&&(E.qc(!1),Le.Ld(),Ne.Gb(),p.bind(!1)),t[n]||(S.uc(),p.bind(!1),t[n]=!0),L[a].jh(k),p.Fa(e.n,e.offset)}}if(!Se.Yg())return!1;void 0===a.Bb&&(a.Bb=!1),void 0===a.Cb&&(a.Cb=!1),void 0===a.Ug&&(a.Ug=!1);var g=null,d=null,b=null,x=null,p=null,y=null,E=null,_=!1,D=new ze,F=new Te,T=[],A=null,R=[{n:0,offset:0}],z=[],M=[],j=!1,P=!1,C=[],L=[],B=!1,k=!1,O=!1,S={visible:j,Hk:function(){return R.length},Dl:function(){return z},ah:function(){!_&&k&&(d=d.filter((function(e){return null!==e})),y=function(e,t,a,n){function u(e){y.J(t[e]),E.J(y);var a=o[e];x.J(a),x.sub(y.Aa(y.bd(a))).normalize();var n=E.x,u=E.y,i=E.z,v=a.x,l=a.y;a=a.z,p.x=u*a-i*l,p.y=i*v-n*a,p.z=n*l-u*v,n=0>p.bd(c[e])?-1:1,r[4*e]=x.x,r[4*e+1]=x.y,r[4*e+2]=x.z,r[4*e+3]=n}for(var i=e.length,r=new Float32Array(4*i),o=Array(i),c=Array(i),v=0;v<i;v++)o[v]=new De,c[v]=new De;var l=new De,s=new De,f=new De,m=new _e,h=new _e,g=new _e,d=new De,b=new De;n.forEach((function(t){var n=t.a,u=t.b;t=t.c,l.J(e[n]),s.J(e[u]),f.J(e[t]),m.J(a[n]),h.J(a[u]),g.J(a[t]);var i=s.x-l.x,r=f.x-l.x,v=s.y-l.y,x=f.y-l.y,p=s.z-l.z,y=f.z-l.z,E=h.x-m.x,_=g.x-m.x,D=h.y-m.y,F=g.y-m.y,w=1/(E*F-_*D);d.set((F*i-D*r)*w,(F*v-D*x)*w,(F*p-D*y)*w),b.set((E*r-_*i)*w,(E*x-_*v)*w,(E*y-_*p)*w),o[n].add(d),o[u].add(d),o[t].add(d),c[n].add(b),c[u].add(b),c[t].add(b)}));var x=new De,p=new De,y=new De,E=new De;return n.forEach((function(e){u(e.a),u(e.b),u(e.c)})),r}(g,b,x,d),E=w.instance({ga_:y,indices:!1}),x=b=d=g=y=null,_=!0)},uc:function(){Ne.U(),S.lh()},lh:function(){Le.Ic("u133",D.elements)},hp:function(){j&&(S.lh(),p.bind(!1),k?Le.Ka():Le.Wa(),p.U())},fl:function(e){j&&(e||S.uc(),p.bind(!1),k?Le.Ka():Le.Wa(),p.U())},gl:function(){j&&(p.bind(!1),k?Le.Ka():Le.Wa(),R.forEach(o))},ih:function(){j&&(p.bind(!1),k?Le.Ka():Le.Wa(),M.forEach(u))},dl:function(e){O&&j&&(p.bind(!1),k?Le.Ka():Le.Wa(),e?R.forEach(v):R.forEach(f))},dd:function(e){j&&(e||S.uc(),p.bind(!1),e||(Le.Ka(),Le.Hc()),O&&R.forEach(c))},ed:function(e){O&&j&&(e?R.forEach(i):R.forEach(r))},al:function(){O&&j&&R.forEach(h)},$k:function(){O&&j&&R.forEach(m)},Ih:function(){return A},Gh:function(){return C},oo:function(e,t){L[e].update(t),S.xj()},gg:function(e,t){function a(e,a){e&&(e.R=function(){S&&++u===n&&(O=!0,B&&S.Fb(S.ah,5),S.Me(),t&&S.Fb((function(){t(S)}),10))},e=Ve.instance(e),L[a]&&L[a].K(),L[a]=e,B=B||e.zc())}C=e,O=!1;var n=e.length,u=0;L=Array(n),B=!1,e.forEach((function(e,t){"string"==typeof e?Pe(-1===e.indexOf(".json")?e+".json":e,(function(n){n.name=e,a(n,t)})):a(e,t)})),S.Fb((function(){S.xj(),ke.vb(S),ke.Ud(!0)}),4)},xj:function(){M.splice(0,M.length),R.forEach((function(e,t){L[t]&&L[t].qm()&&M.push(e)}))},Fb:function(e,t){P&&O?e(S):T.push({lb:e,order:t||0})},Me:function(){P&&O&&(T.sort((function(e,t){return 0>e.order-t.order?1:-1})),T.forEach((function(e){e.lb(S)})),T.splice(0,T.length))},remove:function(){S.K(),S=null},K:function(){j=P=!1,p&&p.remove(),L.forEach((function(e){e.K()})),_&&E.remove()},Ll:function(){return F.size().x},Ml:function(){return F.size().y},yp:function(){return F.size().z},rl:function(){return Ae(F).x},sl:function(){return Ae(F).y},mp:function(){return Ae(F).z},up:function(){return F.min.y},replace:function(e,t,a){return e===A?(t&&S&&(S.Me(),t(S)),!1):(A=e,ke.Ud(!1),Pe(e,(function(e){n(e),t&&t(S)}),a),!0)}};return a.Cc&&S.gg(a.Cc,a.Ug),A=a.url,Pe(a.url,n),S},hn:function(){t.s92=!1,t.s92color=!1,t.s92NormalMap=!1,t.s92ParamsMap=!1,t.s92NormalParamsMap=!1}}}(),We=function(){var t=null,a=!1,n=!1,u=null,i=new Float32Array(16),r=new Float32Array(3),o={data:0},c={m:function(){(t=e.Hb?new Worker("js/worker.php"):{postMessage:function(e){o.data=e,qe.Jm(o)},terminate:function(){}}).onmessage=function(t){switch(t.data[0]){case 3:for(var n=0;16>n;++n)i[n]=t.data[n+1];for(n=0;3>n;++n)r[n]=t.data[n+17];Ne.Ue().Jn(i,r);break;case 6:c.Dn(),a=!0,He.ic(!1),e.ca&&(Ke.enable(),Ke.Md())}},(u=new Float32Array(6))[0]=2,e.Hb||qe.Fn(t)},ao:function(){e.gh||(n=!0)},jq:function(){n=!1},sn:function(e,i){(i||a&&n)&&(u[1]=e[0],u[2]=e[1],u[3]=e[2],u[4]=e[3],u[5]=e[4],t.postMessage(u))},Dn:function(){t.postMessage([5,e.Wg])},K:function(){e.Hb&&t.terminate()}};return c}(),qe=function(){var t=0,a=0,n=0,u=[0,0],i=new ze,r=new ye,o=new ye,c=new De,v=new De,l=new we,s=0,f=new Float32Array(20);f[0]=3;var m=!1,h={data:!1},g={m:function(){void 0===e&&(self.Lo={Hb:!0}),e.Hb&&g.Uf([6])},Jm:function(e){switch(e.data[0]){case 2:g.hg(e.data);break;case 5:s=e.data[1]}},Uf:function(t){e.Hb?postMessage(t):(h.data=t,m.onmessage(h))},hg:function(e){if(t=e[1],a=e[2],n=e[3],u[0]=e[4],u[1]=e[5],c.set(u[0],u[1],-n),l.set(a,t,0,"XYZ"),!1==l instanceof we)throw Error("JETHREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");e=Math.cos(l.B/2);var m=Math.cos(l.C/2),h=Math.cos(l.D/2),d=Math.sin(l.B/2),b=Math.sin(l.C/2),x=Math.sin(l.D/2),p=l.order;"XYZ"===p?(r.B=d*m*h+e*b*x,r.C=e*b*h-d*m*x,r.D=e*m*x+d*b*h,r.O=e*m*h-d*b*x):"YXZ"===p?(r.B=d*m*h+e*b*x,r.C=e*b*h-d*m*x,r.D=e*m*x-d*b*h,r.O=e*m*h+d*b*x):"ZXY"===p?(r.B=d*m*h-e*b*x,r.C=e*b*h+d*m*x,r.D=e*m*x+d*b*h,r.O=e*m*h-d*b*x):"ZYX"===p?(r.B=d*m*h-e*b*x,r.C=e*b*h+d*m*x,r.D=e*m*x-d*b*h,r.O=e*m*h+d*b*x):"YZX"===p?(r.B=d*m*h+e*b*x,r.C=e*b*h+d*m*x,r.D=e*m*x-d*b*h,r.O=e*m*h-d*b*x):"XZY"===p&&(r.B=d*m*h-e*b*x,r.C=e*b*h-d*m*x,r.D=e*m*x+d*b*h,r.O=e*m*h+d*b*x),c.y-=s,e=i.elements,x=r.x;var y=r.y,E=r.z,_=x+x,D=y+y;for(m=x*_,h=x*D,x*=b=E+E,p=y*D,y*=b,E*=b,_*=d=r.w,D*=d,d*=b,e[0]=1-(p+E),e[4]=h-d,e[8]=x+D,e[1]=h+d,e[5]=1-(m+E),e[9]=y-_,e[2]=x-D,e[6]=y+_,e[10]=1-(m+p),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,i.setPosition(c),o.J(r).inverse(),y=(e=v.J(c)).x,_=e.y,E=e.z,m=o.x,h=o.y,d=o.z,x=(b=o.w)*y+h*E-d*_,p=b*_+d*y-m*E,D=b*E+m*_-h*y,y=-m*y-h*_-d*E,e.x=x*b+y*-m+p*-d-D*-h,e.y=p*b+y*-h+D*-m-x*-d,e.z=D*b+y*-d+x*-h-p*-m,e=1;17>e;++e)f[e]=i.elements[e-1];f[17]=v.x,f[18]=v.y,f[19]=v.z,g.Uf(f)},Fn:function(e){m=e,g.Uf([6])}};return g}();qe.m();var Ve=function(){function t(t){var a=t.split(":").shift();return"data"===a||"blob"===a?t:(void 0!==ne&&ne.aa?ne:e).aa+e.Dm+t}function a(e,t){return Math.min(t+e+t*e,1)}var n=!1,u=null,i=1,r={diffuseTexture:null,normalTexture:null,paramsTexture:null,colorTextureUsage:0,metalness:.5,roughness:.5,fresnelMin:0,fresnelMax:1,fresnelPow:5,alpha:1,diffuseColor:[255,255,255],paramsMapMask:[0,0,0,0],R:null};return{m:function(){u=D.instance({width:1,height:1,isMipmap:!1,F:4,array:new Uint8Array([255,255,255,255]),yc:!1})},Pe:function(){n=!0,i=2},instance:function(e){var o,c;function v(e){"number"==typeof f.alpha?(l[0]=f.alpha,l[1]=0,l[2]=0,l[3]=0):(l[0]=f.alpha[0],l[1]=f.alpha[1]-f.alpha[0],l[2]=f.alpha[2],l[3]=f.alpha[3]);var n=1<=f.fresnelPow?f.fresnelMin:f.fresnelMax;s[0]=a(l[0],n),s[1]=a(l[1],n),s[2]=l[2],s[3]=l[3],b={yi:f.fresnelMax,ki:[f.fresnelMin,f.roughness,f.fresnelPow/15,f.metalness],ni:f.paramsMapMask},function(e){function a(){++i===n&&e&&e()}var n=1,i=0;(o=!(!f.normalTexture||!Se.Ak()))&&!g.Ja&&(++n,g.Ja=D.instance({url:t(f.normalTexture),isLinear:!0,isMipmap:!0,Uh:Se.pm(),isPot:!0,F:3,R:a})),(c=!(!f.diffuseTexture||""===f.diffuseTexture))&&!g.fa?(++n,g.fa=D.instance({url:t(f.diffuseTexture),isMipmap:!0,isLinear:!0,isPot:!0,Uh:!0,yc:!1,Nb:!1,gm:!1,F:4,R:a}),h="s97"):g.fa||(h="s98",g.fa=u),m=[f.diffuseColor[0]/255,f.diffuseColor[1]/255,f.diffuseColor[2]/255],(d=!!f.paramsTexture)&&!g.sb&&(f.paramsTexture===f.diffuseTexture?g.sb=g.fa:(++n,g.sb=D.instance({url:t(f.paramsTexture),isMipmap:!0,isLinear:!0,isPot:!0,Uh:!0,yc:!1,Nb:!1,gm:!1,F:4,R:a}))),a()}(e=f.R?f.R.bind(null,e):null),o||d||c?o||d?o&&!d?(x="s92NormalMap",p="s92NNGLtextureNormalMap"):!o&&d?(x="s92ParamsMap",p="s92NNGLtextureParamsMap"):(x="s92NormalParamsMap",p="s92NNGLtextureNormalParamsMap"):(x="s92",p="s92NNGLtexture"):(x="s92color",p="s92NNGLcolor"),y=o?"s100":"s99",E=o?"s94":"s104",_=d?"s102":"s101",F=d?"s95":"s105"}var l=[1,0,0,0],s=[0,0,0,0],f=Object.assign({},r,e),m=null,h=null,g={fa:null,Ja:null,sb:null},d=o=c=!1,b=null,x=null,p=null,y=null,E=null,_=null,F=null,w={update:function(e){Object.assign(f,e),v()},zc:function(){return o},qm:function(){return.99>l[0]},Jl:function(){return E},Il:function(){return y},Fl:function(){return F},El:function(){return _},Hl:function(){return x},Gl:function(){return p},ed:function(){o&&g.Ja.h(0)},Zk:function(e){n&&Le.set(h),e?Le.Ka():Le.Wa(),c&&Le.Hc(),w.dd()},dd:function(){c&&(Le.G("u70",f.colorTextureUsage),g.fa.h(0)),Le.mg("u143",m)},mh:function(){d&&(g.sb.h(0),Le.wa("u72",b.ni),Le.Hc()),Le.wa("u108",b.ki),Le.G("u144",b.yi)},jh:function(e){d&&!o?g.sb.h(i):o&&(c||u.h(0),g.Ja.h(i),d&&g.sb.h(i+1)),d&&Le.wa("u72",b.ni),c||o?Le.An():e?Le.Bn():Le.Cn(),w.dd(),Le.wa("u9",l),Le.wa("u108",b.ki),Le.G("u144",b.yi)},Wk:function(){Le.wa("u9",l)},Xk:function(){Le.wa("u9",s)},K:function(){c&&g.fa.remove(),o&&g.Ja.remove(),d&&f.paramsTexture!==f.diffuseTexture&&g.sb.remove()}};return v(w),w}}}(),Ke=function(){var t=0,a=0,n=0,u=0,i=0,r=0,o=e.fk,c=e.ek,v=e.gk,l=0,s=0,f=null,m=null,h=0,g=0,d=0,b=0,x=0,p=null,E=0,_=0,F=0,A=Date.now(),R=null,z=!1,M=!1,j=!1,P=1,C=!1,L={m:function(){t=e.ak[Se.T()],a=e.$j[Se.T()],n=e.Zj[Se.T()],_=e.bk[Se.T()],u=e.Tj[Se.T()],i=e.Xj[Se.T()],d=e.Yj[Se.T()],b=Se.L(),x=Se.X(),l=Math.round(b*t),s=Math.round(x*t),m=T.instance({width:l,height:s,wc:!1}),f=D.instance({width:l,height:s,isPot:!1,isLinear:!0}),p=D.instance({width:l,height:s,isPot:!1,isLinear:!0,F:1}),z=!0},resize:function(e,a,n){P=n,b=e,x=a,l=Math.round(e*t),s=Math.round(a*t),m.resize(l,s),M=!0},U:function(){var e=Math.exp(-(Date.now()-A)/_);if(h=a+(E=j?F+(1-e)*(1-F):F*e)*(n-a),g=u+(1-E)*(1-u),r=i+(1-E)*(1-i),D.$(5),M&&z)D.$(6),p.resize(l,s),Le.set("s0"),Le.Od("u1",6),m.bind(!1,!0),p.o(),m.ye(),f.h(6),w.l(!0,!0),f.resize(l,s),f.o(),p.h(6),w.l(!1,!1),Le.Od("u1",0),M=!1;else{y.enable(y.BLEND),y.blendFunc(y.CONSTANT_ALPHA,y.ONE_MINUS_SRC_ALPHA),e=h/d,y.blendColor(e,e,e,e),y.colorMask(!0,!1,!1,!0),Le.set("s84"),Ne.Ne(),Le.G("u124",h),_&&(Le.G("u125",g),Le.G("u117",r));var t=P*(o+Math.pow(Math.random(),v)*(c-o));Le.N("u10",t/b,t/x),m.Sg(),m.Jc(),f.o(),t=2*Math.PI*Math.random();for(var T=!0,R=0;R<d;++R)1===R&&(y.blendFunc(y.SRC_ALPHA,y.ONE),Le.G("u124",e)),Le.G("u123",t+R/d*(Math.PI/2)),Le.N("u122",(Math.random()-.5)/b,(Math.random()-.5)/x),w.l(T,T),T=!1;y.disable(y.BLEND),Le.set("s85"),Le.N("u10",1/l,1/s),p.o(),f.h(7),w.l(!1,!1),y.colorMask(!0,!0,!0,!0)}},h:function(e){p.h(e)},enable:function(){C=!0},Sm:function(){if(j||!C)return!1;R&&clearTimeout(R),L.Md(),R=setTimeout(L.vj,400)},Md:function(){R&&(clearTimeout(R),R=!1),!j&&C&&(window.Gj.disable(),j=!0,A=Date.now(),F=E)},vj:function(){j&&C&&(R&&(clearTimeout(R),R=null),window.Gj.enable(),j=!1,A=Date.now(),F=E)},K:function(){f.remove(),p.remove(),m.remove()}};return L.Sm(),L}(),Je={instance:function(t){var a=t.ja.L(),n=!!t.jm,u=n?"s67":"s12",i=D.instance({isFloat:t.ja.ci()&&A.da()&&!n,S:t.ja.di()&&!n,isLinear:!0,isMipmap:!1,isPot:!1,width:a,height:a,F:n?4:3}),r=D.instance({isFloat:t.ja.ci()&&A.da(),S:t.ja.di(),isPot:!0,width:1,height:a/2,F:3});r.o(),Le.set("s78"),t.ja.h(0),w.l(!0,!0);var o=Math.round(Math.log(a)/Math.log(2));return i.dn=function(){i.o(),Le.set(u),Le.G("u88",e.Ec),t.ja.h(0),r.h(1);for(var n=0,c=0;c<=o;++c){var v=Math.pow(2,o-c),l=v/2;y.viewport(0,n,a,l),Le.N("u86",a/v,1),Le.G("u87",Math.min(6/l,.6)),n+=v/2,w.l(0===c,0===c)}},i.gn=i.remove,i.remove=function(){i.gn(),r.remove()},i}};Oe.gb=function(){var e={Kd:45,bg:1,Wb:"../../images/debug/picsou.png",cg:.8,zf:3.14/6,Af:.314,Bf:4,xf:.5,yf:-.25,um:1,sa:256,wf:.15},t={Ib:null,jd:null,screen:null},a=!1,n=!1,u=-1,i=null,r=null,o=null,c=Math.PI/180,v=[1,1],l={m:function(e){u=e.width,e={isFloat:A.da(),S:!0,isPot:!1,isMipmap:!1,isLinear:!1,isMirrorY:!0,width:u,height:u/2,F:3},t.Ib=D.instance(e),t.jd=D.instance(e),Le.j("s106",[{type:"1i",name:"u151",value:0}]),Le.j("s107",[{type:"1i",name:"u156",value:0}]),l.po()},po:function(){Le.j("s107",[{type:"1f",name:"u157",value:e.zf},{type:"1f",name:"u158",value:e.Af},{type:"1f",name:"u159",value:e.Bf},{type:"1f",name:"u160",value:e.xf},{type:"1f",name:"u161",value:e.yf}])},Jp:function(){return n},ra:function(e){i=e},Fc:function(){r="uniform sampler2D u151;uniform vec2 u152,u153,u6;uniform int u154;uniform float u155,u137;varying vec2 vv0;const float h=3.141593;const vec2 i=vec2(.5,.5);const float e=1.2;const vec3 g=vec3(1.,1.,1.);void main(){vec2 c=vec2(vv0.x*2.,-vv0.y+.5)*h,a=i+u6*(c-u152)/u153;float b=1.;if(u154==0){if(a.x<0.||a.x>1.||a.y<0.||a.y>1.)discard;}else b*=smoothstep(-e,0.,a.x),b*=1.-smoothstep(1.,1.+e,a.x),b*=smoothstep(-e,0.,a.y),b*=1.-smoothstep(1.,1.+e,a.y);vec3 d=mix(u155*g,texture2D(u151,a).rgb*u137,b*g);gl_FragColor=vec4(d,1.);}",o="uniform sampler2D u156;uniform float u157,u158,u159,u160,u161;varying vec2 vv0;const float f=3.141593;const vec2 o=vec2(.5,.5);const vec3 h=vec3(1.,1.,1.);void main(){float i=(vv0.x*2.-1.)*f,c=(-vv0.y+.5)*f;vec4 a=texture2D(u156,vec2(.5,.5));float d=a.r,j=u159*a.g,k=u160*(a.b+u161),b=a.a,g=asin(cos(b)*cos(d)),l=atan(cos(b)*sin(d),-sin(b)),m=acos(sin(c)*sin(g)+cos(c)*cos(g)*cos(i-l)),n=1.-smoothstep(u157-u158,u157+u158,m);gl_FragColor=vec4(h*(max(k,0.)+max(j,0.)*n),1.);}",Le.na("s106",{name:"_",g:r,i:"u151 u152 u154 u153 u155 u137 u6".split(" "),precision:"highp"}),Le.na("s107",{name:"_",g:o,i:"u156 u157 u158 u159 u160 u161".split(" "),precision:"highp"})},rg:function(e,t,a,n,u,i,r){Le.N("u152",t,a),Le.Od("u154",n?1:0),Le.N("u153",u,u/i),Le.kg("u6",r),e.h(0),w.l(!1,!1)},Kj:function(t){y.viewport(0,0,e.sa,e.sa/2),Le.set("s107"),t.h(0),w.l(!1,!1)},Ol:function(){return t.Ib},vk:function(t){l.m({width:e.sa}),l.yj(t,!1,1),n=!0},uk:function(){a&&t.screen.Pl()===e.Wb||(a=!1,t.screen=D.instance({url:e.Wb,isFloat:!1,R:function(){a=!0}}))},hg:function(t){Object.assign(e,t)},yj:function(n,u,r){var o=e.sa;T.ea(),t.jd.M(),Le.set("s0"),t.Ib.h(0),w.l(!0,!0),t.Ib.o(),Le.set("s106"),Le.G("u155",e.wf),Le.G("u137",e.um),l.rg(n,Math.PI,0,!0,90*c,n.L()/n.X(),v),a&&(Le.G("u137",e.cg),y.viewport(0,0,o/2,o/2),l.rg(t.screen,0,0,!1,2*e.Kd*c,2*e.bg,v),y.viewport(o/2,0,o/2,o/2),l.rg(t.screen,2*Math.PI,0,!1,2*e.Kd*c,2*e.bg,v)),y.enable(y.BLEND),y.blendFunc(y.ONE,y.ONE),u&&l.Kj(u),Le.set("s0"),y.blendColor(0,0,0,1-r),y.blendFunc(y.CONSTANT_ALPHA,y.ONE_MINUS_CONSTANT_ALPHA),t.jd.h(0),w.l(!1,!1),y.disable(y.BLEND),i.$i(t.Ib)},v:function(){Object.assign(t,{Ib:null,jd:null,screen:null}),n=a=!1,u=-1,i=null}};return l}(),Oe.hb=function(){var e=!1,t=!0,a=null,n=null,u={Fc:function(){Se.Y()&&(Le.na("s108",{name:"_",s:"attribute vec3 a0;uniform sampler2D u38;uniform vec2 u39;uniform vec3 u139;const float l=1.,m=0.,n=0.,E=1.;const vec2 e=vec2(1.);const vec3 o=vec3(1.);const vec2 F=vec2(-1.,1.),p=vec2(.16,.5),q=vec2(.5,.5),r=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 s(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,p);vec2 f=u82*e;vec3 c=u82*o;vec2 t=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,q).rgb+vec3(u76,0.,0.),u79,c);float u=mix(texture2D(u38,r).r,0.,u82);a.z+=u;mat3 v=s(a);vec3 w=mix(u139,u80,c);float x=mix(l,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 y=mat2(h,i,-i,h);b.xy=y*b.xy;float z=mix(u78,1.,u82);vec2 j=u77/t;vec3 k=a0;float A=max(0.,-a0.z-m)*n;k.x+=A*sign(a0.x)*(1.-u82);vec3 B=v*(k+w)*x+b;vec2 C=j*z;vec3 D=vec3(g*C,-j)+B*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(D,1.));}",g:"void main(){gl_FragData[0]=vec4(0.,0.,0.,0.),gl_FragData[1]=vec4(0.,0.,1.,1.),gl_FragData[2]=vec4(1.,0.,0.,0.),gl_FragData[3]=vec4(0.,.5,1.,0.);}",i:["u38","u39","u75","u139"].concat(Le.Ze(),Le.$e()),I:["a0"],P:[3],ba:!0}),e=!0)},m:function(t){e&&Le.j("s108",[{type:"1i",name:"u38",value:1},{type:"3f",name:"u75",value:t.Ba},{type:"1f",name:"u76",value:0},{type:"1f",name:"u84",value:1}].concat(t.Cg))},Za:function(e){n=e,a&&u.Ph()},Ya:function(e){a=e,n&&u.Ph()},Ph:function(){Se.Y()&&(Le.j("s108",[{type:"3f",name:"u139",value:[a[0]*n,a[1]*n,a[2]*n]}]),Le.H())},$l:function(e){for(var t=e.width/2,a=e.height/2,n=e.depth,i=e.hl,r=e.height/4,o=e.Lk,c=2*o+4,v=[],l=[],s=-t+e.Oa,f=-i-e.Oa,m=t-e.Oa,h=-i-e.Oa,g=0;g<c;++g){var d=0,b=0;0===g?(d=-t,b=-i-n):1<=g&&g<=1+o?(b=(g-1)/o*Math.PI/2,d=s-Math.cos(b)*e.Oa,b=f+Math.sin(b)*e.Oa):g>=2+o&&g<=2+2*o?(b=(g-2-o)/o*Math.PI/2,d=m+Math.sin(b)*e.Oa,b=h+Math.cos(b)*e.Oa):g===c-1&&(d=t,b=-i-n),v.push(d,a+r,b,d,-a+r,b),0!==g&&l.push(2*g,2*g-2,2*g-1,2*g,2*g-1,2*g+1)}return u.instance({ga_:v,indices:l})},toggle:function(e){t=e},instance:function(a){var n=w.instance({ga_:a.ga_,indices:a.indices});return{U:function(){e&&t&&(Le.set("s108"),n.bind(!0),n.U())}}}};return u}(),Oe.ka=function(){var e={df:-87,Tl:[85,95],Oh:[90,90],Nh:[85,70],Zc:24,Mk:12,Nk:2,Vf:[-80,10],Mh:[40,140],ud:[1,8],Sl:80,vi:[-120,-10],Im:2,Qd:[0,-15],ge:1024,cb:256,Dd:4,Zn:[6,30],ui:1.2};e.Ei=e.Vf;var t=!1,a=!1,n=!1,u=null,i=null,r=null,o=null,c=null,v=null,l=!1,s=!1,f=null,m=null,h=null,g=null,d=.5,b=[{type:"1f",name:"u163",value:1}],x=null,p=null,E=null,_=null,F=null,A={Kl:function(){return{name:"_",s:"attribute vec3 a0,a2;attribute vec2 a1;varying vec2 vv0;varying float vv1;uniform sampler2D u38;uniform vec2 u39;uniform float u140;uniform vec3 u139;const float o=0.,p=0.;const vec2 e=vec2(1.);const vec3 q=vec3(1.);const vec2 G=vec2(-1.,1.),r=vec2(.16,.5),s=vec2(.5,.5),t=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 u(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,r);vec2 f=u82*e;vec3 c=u82*q;vec2 v=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,s).rgb+vec3(u76,0.,0.),u79,c);float w=mix(texture2D(u38,t).r,0.,u82);a.z+=w;mat3 h=u(a);vec3 x=mix(u139,u80,c);float y=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float i=cos(a.z),j=sin(a.z);mat2 z=mat2(i,j,-j,i);b.xy=z*b.xy;float A=mix(u78,1.,u82);vec2 k=u77/v;vec3 l=a0;float B=max(0.,-a0.z-o)*p;l.x+=B*sign(a0.x)*(1.-u82);vec3 C=h*(l+x)*y+b;vec2 D=k*A;vec3 E=vec3(g*D,-k)+C*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(E,1.)),vv0=a1,gl_Position*=vec4(-1.,1.,1.,1.);vec3 F=h*a2;vv1=-F.z;}",g:"uniform sampler2D u170,u156;uniform vec2 u86,u171;uniform float u172,u163;varying vec2 vv0;varying float vv1;void main(){vec2 b=u171*u172+u86*vv0;vec4 a=u163*texture2D(u170,b);a.r*=step(0.,vv0.y),gl_FragColor=vec4(0.,0.,0.,a.r*vv1);}",i:"u38 u170 u156 u39 u75 u172 u171 u140 u139 u86 u163".split(" ").concat(Le.Ze()).concat(Le.$e()),I:["a0","a2","a1"],P:[3,3,2],precision:"lowp"}},Fc:function(){Le.na("s109",{name:"_",s:"attribute vec3 a0;uniform vec3 u139;uniform vec2 u164,u165;uniform float u140,u166,u167,u168;varying float vv0,vv1;void main(){vec3 a=(a0+u139)*u140;float b=atan(a.x,a.z-u166),d=2.*(a.y-u167)/(u168-u167)-1.;vv0=a0.y;float g=1.-u164.x*u164.x/(u164.y*u164.y),c=u164.x/sqrt(1.-g*pow(cos(b),2.));vec3 h=vec3(c*sin(b),a.y,c*cos(b)+u166);vv1=smoothstep(u165.x,u165.y,length(h-a)),gl_Position=vec4(b,d,0.,1.);}",g:"uniform float u169;uniform vec4 u9;varying float vv0,vv1;void main(){float a=u9.x+u9.y*smoothstep(-u9.w,-u9.z,vv0),b=min(a,1.)*u169;gl_FragColor=vec4(b,vv1,1.,1.);}",i:"u140 u139 u164 u165 u166 u167 u168 u9 u169".split(" "),I:["a0"],P:[3],precision:"highp"}),Le.na("s110",A.Kl()),Le.na("s111",{name:"_",g:"uniform sampler2D u1;uniform vec2 u10;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u1,vv0-3.*u10),c=texture2D(u1,vv0-2.*u10),d=texture2D(u1,vv0-u10),f=texture2D(u1,vv0+u10),g=texture2D(u1,vv0+2.*u10),h=texture2D(u1,vv0+3.*u10);float j=.031496*b.r+.110236*c.r+.220472*d.r+.275591*a.r+.220472*f.r+.110236*g.r+.031496*h.r;vec2 i=b.gb*b.b+c.gb*c.b+d.gb*d.b+a.gb*a.b+f.gb*f.b+g.gb*g.b+h.gb*h.b;i/=b.b+c.b+d.b+a.b+f.b+g.b+h.b,gl_FragColor=vec4(mix(j,a.r,1.-i.x),i,1);}",i:["u1","u10"],precision:"lowp"}),t=!0},m:function(n){if(t){if(void 0===n.bc||!n.bc)return!1;if(a)A.Vi(n);else{o=D.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:e.ge,height:e.ge/4,F:4});var u=e.cb/4,i={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:e.cb,height:u,F:4};r=D.instance(i),v=D.instance(i),c=D.instance({isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!0,width:e.cb,height:u*e.Dd,F:4}),u=.5-.5/n.cc[1],i=.5+.5/n.cc[1];for(var l=e.Mk+1,s=[],f=[],m=new Float32Array(16*e.Zc),h=new Uint16Array(6*(e.Zc-1)),g=0,d=0,b=0,x=0;x<e.Zc;++x){var p=2*x/(e.Zc-1)-1;p=Math.sign(p)*Math.pow(Math.abs(p),e.Nk),p=Math.PI*(p+1)/2-Math.PI/2;var y=Math.sin(p),E=Math.cos(p),T=Math.sin(p*e.ui),R=Math.cos(p*e.ui),z=p/(Math.PI*n.cc[0])+.5,M=e.Nh[0]*y,j=e.Ei[0],P=e.Nh[1]*E+e.df,C=z,L=u,B=e.Oh[0]*y,k=e.Ei[1],O=e.Oh[1]*E+e.df,S=i,N=16*x;for(m[N]=B,m[N+1]=k,m[N+2]=O,m[N+3]=T,m[N+4]=0,m[N+5]=R,m[N+6]=z,m[N+7]=S,m[N+8]=M,m[N+9]=j,m[N+10]=P,m[N+11]=T,m[N+12]=0,m[N+13]=R,m[N+14]=C,m[N+15]=L,0!==x&&(C=2*x,h[L=6*(x-1)]=C,h[L+1]=C-1,h[L+2]=C-2,h[L+3]=C,h[L+4]=C+1,h[L+5]=C-1),L=Math.pow(.5*(1+Math.cos(Math.min(Math.max(Math.PI/e.Mh[0]*M,-Math.PI),Math.PI))),e.Im),j-=e.Sl*L,C=e.Mh[1]*L,M-=y*e.ud[0],P-=E*e.ud[1],B-=y*e.ud[0],O-=E*e.ud[1],y=.001>L?2:l,E=0;E<y;++E)z=j*(1-(L=E/(y-1)))+k*L,S=e.vi[0],S=(S=Math.min(Math.max((z-S)/(e.vi[1]-S),0),1))*S*(3-2*S),s.push(M*(1-L)+B*L,z,(P+C*Math.exp(400*-Math.abs(p)*Math.pow(L,4)))*(1-S)+O*S,T,0,R,0,0);for(p=0===x?0:2<y&&2<d?y-1:1,T=1;T<=p;++T)R=y>d?y-2:0,f.push(g+T+R,g+T-1,b+T-1,b+T-1,b+T+(y<d?d-2:0),g+T+R);d=y,b=g,g+=y}_=w.instance({ga_:new Float32Array(s),indices:new Uint16Array(f)}),F=w.instance({ga_:m,indices:h}),A.Vi(n),Le.j("s111",[{type:"1i",name:"u1",value:0}]),a=!0}}},Vi:function(t){d=t.Un,g=t.Rd,x=[{type:"1i",name:"u38",value:1},{type:"1i",name:"u170",value:0},{type:"1i",name:"u156",value:2},{type:"3f",name:"u75",value:[t.Ba[0],t.Ba[1]-e.Qd[0],t.Ba[2]+e.Qd[1]]},{type:"1f",name:"u172",value:t.Vn},{type:"2f",name:"u86",value:[1,1/e.Dd]},{type:"2f",name:"u171",value:[0,1/e.Dd]},{type:"1f",name:"u163",value:1}].concat(t.Cg,t.uj),Le.j("s110",x)},Yb:function(e){u=e},Xb:function(e){(p=e).Fb(A.rc)},ei:function(){return n&&null!==p&&null!==E},rc:function(){if(!(n||s&&l)||null===p||null===E)return!1;y.viewport(0,0,e.ge,e.ge/4),T.ea(),o.o(),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),Le.j("s109",[{type:"1f",name:"u166",value:e.df},{type:"1f",name:"u167",value:e.Vf[0]},{type:"1f",name:"u168",value:e.Vf[1]},{type:"3f",name:"u139",value:[f[0]+m[0],f[1]+m[1],f[2]+m[2]]},{type:"1f",name:"u169",value:d},{type:"2f",name:"u164",value:e.Tl},{type:"2f",name:"u165",value:e.Zn}]),p.gl(),Le.set("s1");var t=e.cb/4;y.viewport(0,0,e.cb,t),r.o(),o.h(0),o.md(),w.l(!0,!0);for(var a=0;a<e.Dd;++a)Le.set("s111"),0!==a&&y.viewport(0,0,e.cb,t),v.o(),r.h(0),Le.N("u10",1/e.cb,0),w.l(!1,!1),r.o(),v.h(0),Le.N("u10",0,1/t),w.l(!1,!1),e.Ok&&y.colorMask(0===a,1===a,2===a,!0),Le.set("s1"),c.o(),r.h(0),y.viewport(0,a*t,e.cb,t),w.l(!1,!1),e.Ok&&y.colorMask(!0,!0,!0,!0);return n=!0},U:function(){A.ei()&&(E.bind(!1,!1),i.o(),y.clearColor(0,0,0,0),y.enable(y.DEPTH_TEST),y.depthMask(!0),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT),Le.set("s110"),u.h(1),c.h(0),_.bind(!0),_.U(),F.bind(!0),F.U(),y.disable(y.DEPTH_TEST),y.depthMask(!1))},add:function(){A.ei()&&(y.enable(y.BLEND),y.blendFunc(y.ONE,y.ONE_MINUS_SRC_ALPHA),i.h(0),w.l(!1,!1),y.disable(y.BLEND))},eg:function(e,t){E=T.instance({width:e,height:t,wc:!0}),i=D.instance({width:e,height:t,isFloat:!1,isPot:!1}),A.rc()},Ya:function(t,a,u){t||(t=f,a=m,u=h),Le.j("s110",[{type:"3f",name:"u139",value:[u[0]+g[0],u[1]+g[1]-e.Qd[0],u[2]+g[2]+e.Qd[1]]}]),f=t,m=a,h=u,s=!0,!n&&l&&A.rc(),Le.H()},Za:function(e,t){Le.j("s109",[{type:"1f",name:"u140",value:e}]),Le.j("s110",[{type:"1f",name:"u140",value:t}]),l=!0,!n&&s&&A.rc(),Le.H()},ig:function(e){Le.j("s110",[{type:"1f",name:"u76",value:e}]),Le.H()},vb:function(e){e&&(p=e),A.rc()},jg:function(e,t){b[0].value=1-e,Le.j("s110",b),Le.j("s110",t)},K:function(){},v:function(){n=a=t=!1,v=c=o=r=i=u=null}};return A}(),Oe.qa=function(){var e=!1,t=null,a=0,n=0,u=0,i=[{type:"1f",name:"u163",value:1}],r=null,o=null,c=null,v={Fc:function(){Le.na("s112",{name:"_",s:"attribute vec3 a0;uniform vec2 u173,u174;varying vec2 vv0;void main(){vec2 a=2.*(a0.xy-u174)/u173;gl_Position=vec4(a,0.,1.),vv0=a0.xy;}",g:"uniform vec2 u175;uniform float u176,u177,u178;varying vec2 vv0;void main(){vec2 b=vec2(sign(vv0.x)*.5*u176,u177),a=vv0-b,c=u178*a,d=(c-a)*u175;gl_FragColor=vec4(d,0.,1.);}",i:"u173 u174 u176 u177 u178 u175".split(" "),I:["a0"],P:[3],precision:"highp"}),Le.na("s113",{name:"_",s:"attribute vec3 a0;varying vec2 vv0,vv1;uniform sampler2D u38;uniform vec3 u139;uniform vec2 u39,u173,u174;uniform float u140;const float n=0.,o=0.;const vec2 e=vec2(1.);const vec3 p=vec3(1.);const vec2 F=vec2(-1.,1.),q=vec2(.16,.5),r=vec2(.5,.5),s=vec2(.84,.5);uniform mat4 u73;uniform vec3 u75,u79,u80,u81;uniform float u74,u82,u83,u76,u77,u78,u84;mat3 t(vec3 c){vec3 b=cos(c),a=sin(c);return mat3(b.y*b.z,b.y*a.z,a.y,-a.x*a.y*b.z+b.x*a.z,-a.x*a.y*a.z-b.x*b.z,a.x*b.y,b.x*a.y*b.z+a.x*a.z,b.x*a.y*a.z-a.x*b.z,-b.x*b.y);}void main(){vec4 d=texture2D(u38,q);vec2 f=u82*e;vec3 c=u82*p;vec2 u=mix(d.a*u39,e,f),g=(2.*d.gb-e)*(1.-f);g.x*=-1.;vec3 a=mix(texture2D(u38,r).rgb+vec3(u76,0.,0.),u79,c);float v=mix(texture2D(u38,s).r,0.,u82);a.z+=v;mat3 w=t(a);vec3 x=mix(u139,u80,c);float y=mix(u140,u83,u82);vec3 b=mix(u75,u81,c);b.x+=u74*sin(a.y);float h=cos(a.z),i=sin(a.z);mat2 z=mat2(h,i,-i,h);b.xy=z*b.xy;float A=mix(u78,1.,u82);vec2 j=u77/u;vec3 k=a0;float B=max(0.,-a0.z-n)*o;k.x+=B*sign(a0.x)*(1.-u82);vec3 C=w*(k+x)*y+b;vec2 D=j*A;vec3 E=vec3(g*D,-j)+C*vec3(1.,-1.,-1.);gl_Position=u73*(vec4(u84*e,e)*vec4(E,1.)),gl_Position*=vec4(-1.,1.,1.,1.),vv0=vec2(.5,.5)+(a0.xy-u174)/u173,vv1=vec2(.5,.5)+.5*gl_Position.xy/gl_Position.w;}",g:"uniform sampler2D u179,u180;uniform float u163;varying vec2 vv0,vv1;void main(){vec2 a=u163*texture2D(u179,vv0).rg;gl_FragColor=texture2D(u180,a+vv1);}",i:"u163 u38 u179 u180 u173 u174 u39 u75 u140 u139".split(" ").concat(Le.Ze(),Le.$e()),I:["a0"],P:[3],precision:"lowp"}),e=!0},m:function(t){if(e){if(void 0===t.bc||!t.$c)return!1;o=D.instance({isFloat:!0,isPot:!1,isMipmap:!1,isLinear:!1,width:256,height:128,F:4}),c=T.instance({width:256,height:128}),Le.j("s113",[{type:"1i",name:"u38",value:1},{type:"1i",name:"u179",value:2},{type:"1i",name:"u180",value:0},{type:"3f",name:"u75",value:t.Ba},{type:"1f",name:"u163",value:1}].concat(t.uj,t.Cg)),n=t.Ge,u=t.Fe,a=t.He}},Yb:function(e){t=e},Xb:function(e){(r=e).Fb(v.Be)},Be:function(){y.viewport(0,0,256,128),c.o(),o.o();var e=r.Ll(),t=r.Ml(),i=[{type:"2f",name:"u173",value:[e,t]},{type:"2f",name:"u174",value:[r.rl(),r.sl()]}];Le.j("s112",i.concat([{type:"1f",name:"u176",value:n},{type:"1f",name:"u177",value:u},{type:"1f",name:"u178",value:a},{type:"2f",name:"u175",value:[1/e,-1/t]}])),r.ih(),Le.j("s113",i)},U:function(){Le.set("s113"),t.h(1),o.h(2),r.ih()},Ya:function(e){Le.j("s113",[{type:"3f",name:"u139",value:e}]),Le.H()},Za:function(e){Le.j("s113",[{type:"1f",name:"u140",value:e}]),Le.H()},ig:function(e){Le.j("s113",[{type:"1f",name:"u76",value:e}]),Le.H()},Tn:function(e){a=e,v.Be(),Le.H(),ke.animate(Date.now())},vb:function(e){e&&(r=e),v.Be()},jg:function(e,t){i.u163=1-e,Le.j("s113",i),Le.j("s113",t)},K:function(){}};return v}(),Oe.jc=function(){var t=[0,-.5],a=!1,n=!1,u=null,i=null,r=null,o=null,c=null,v=-1,l=-1;return{Fc:function(){Le.na("s114",{name:"_",s:"attribute vec2 a0;uniform sampler2D u38;uniform vec2 u39,u7;uniform float u6;varying vec2 vv0;const vec2 f=vec2(1.,1.);void main(){vec4 a=texture2D(u38,vec2(.25,.5));vec2 b=a.a*u39,c=2.*a.gb-f,d=u7+a0*u6;gl_Position=vec4(c+b*d,0.,1.),vv0=vec2(.5,.5)+.5*a0;}",g:"uniform sampler2D u181;varying vec2 vv0;void main(){gl_FragColor=texture2D(u181,vv0);}",i:["u38","u181","u39","u7","u6"],precision:"lowp"}),Le.na("s115",{name:"_",g:"uniform sampler2D u2,u182,u183;varying vec2 vv0;const vec3 f=vec3(1.,1.,1.);void main(){float a=texture2D(u2,vv0).r;vec3 b=texture2D(u183,vv0).rgb,c=texture2D(u182,vv0).rgb;gl_FragColor=vec4(mix(b,c,a*f),1.);}",i:["u2","u183","u182"],precision:"lowp"}),a=!0},m:function(e){a&&(c=D.instance({isFloat:!1,isPot:!0,url:e.te,R:function(){n=!0}}),Le.j("s114",[{type:"1i",name:"u38",value:1},{type:"1i",name:"u181",value:0},{type:"2f",name:"u39",value:e.Dj},{type:"2f",name:"u7",value:t},{type:"1f",name:"u6",value:3.8}]),Le.j("s115",[{type:"1i",name:"u182",value:0},{type:"1i",name:"u2",value:1},{type:"1i",name:"u183",value:2}]))},Yb:function(e){i=e},eg:function(e,t){var a={isFloat:!1,isPot:!1,isMipmap:!1,isLinear:!1,width:e,height:t,F:4};v=2/e,l=2/t,r=D.instance(a),o=D.instance(a),u=T.instance({width:e,height:t})},U:function(t,a){if(n){u.bind(!1,!0),Le.set("s77");for(var s=0;2>s;++s){Le.N("u10",v,0),r.o(),0!==s&&o.h(0);var f=0===s&&!e.ca;w.l(f,f),Le.N("u10",0,l),o.o(),r.h(0),w.l(!1,!1)}Le.set("s114"),i.h(1),c.h(0),r.o(),y.clearColor(1,0,0,1),y.clear(y.COLOR_BUFFER_BIT),w.l(!1,!1),Le.set("s115"),a.o(),o.h(0),r.h(1),t.h(2),w.l(!1,!1)}},K:function(){}}}();var Ze=function(){var e={instance:function(e){var t=e.pi,a=e.oi,n=e.Ee,u=e.background?e.background:D.Jh(),i=e.Ta,r={scale:1,offsetX:0,offsetY:0},o=null;return e.Ff&&(r.scale=e.Ff.scale,r.offsetY=e.Ff.offsetY),{Fh:function(){return i},yh:function(){return u},set:function(){o=he.Bl(),he.aj(r),he.Zd(),he.$d(),ke.Ui(n,u,!1,!1)},H:function(){he.aj(o)},Gc:function(){return{modelURL:t,materialsURLs:a,background:u.Gc(!1),Ee:n.Gc(!1),Ta:i.Gc(!0)}},Qo:function(e){u.h(e)}}},Mc:function(t,a,n){function u(){if(3==++c&&a){var n=e.instance({pi:t.modelURL,oi:t.materialsURLs,background:i,Ee:r,Ta:o});a(n)}}var i=null,r=null,o=null,c=0;D.Mc(t.background,(function(e){!e&&n?n():(i=e,u())})),D.Mc(t.dataState,(function(e){!e&&n?n():(r=e,u())})),D.Mc(t.light,(function(e){!e&&n?n():(o=e,u())}))}};return e}();return JEELIZVTO||window.JEELIZVTO}();